(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("tmap", [], factory);
	else if(typeof exports === 'object')
		exports["tmap"] = factory();
	else
		root["tmap"] = factory();
})(typeof self !== 'undefined' ? self : this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/css-loader/dist/cjs.js!./src/plugins/draw/leaflet.draw.css":
/*!*********************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/plugins/draw/leaflet.draw.css ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/getUrl.js */ \"./node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = __webpack_require__(/*! ./images/spritesheet.png */ \"./src/plugins/draw/images/spritesheet.png\");\nvar ___CSS_LOADER_URL_IMPORT_1___ = __webpack_require__(/*! ./images/spritesheet.svg */ \"./src/plugins/draw/images/spritesheet.svg\");\nvar ___CSS_LOADER_URL_IMPORT_2___ = __webpack_require__(/*! ./images/spritesheet-2x.png */ \"./src/plugins/draw/images/spritesheet-2x.png\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\n// Module\nexports.push([module.i, \".leaflet-draw-section{margin-right:12px;position:relative}.leaflet-draw-toolbar{margin-top:12px}.leaflet-draw-toolbar-top{margin-top:0}.leaflet-draw-toolbar-notop a:first-child{border-top-right-radius:0}.leaflet-draw-toolbar-nobottom a:last-child{border-bottom-right-radius:0}.leaflet-draw-toolbar a{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");background-image:linear-gradient(transparent,transparent),url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \");background-repeat:no-repeat;background-size:300px 30px;background-clip:padding-box}  .leaflet-retina .leaflet-draw-toolbar a{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \");background-image:linear-gradient(transparent,transparent),url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \")}\\n.leaflet-draw a{display:block;text-align:center;text-decoration:none}.leaflet-draw a .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.leaflet-draw-actions{display:none;list-style:none;margin:0;padding:0;position:absolute;left:26px;top:0;white-space:nowrap}.leaflet-touch .leaflet-draw-actions{left:32px}.leaflet-right .leaflet-draw-actions{right:26px;left:auto}.leaflet-touch .leaflet-right .leaflet-draw-actions{right:32px;left:auto}.leaflet-draw-actions li{display:inline-block}\\n.leaflet-draw-actions li:first-child a{border-left:0}.leaflet-draw-actions li:last-child a{-webkit-border-radius:0 4px 4px 0;border-radius:0 4px 4px 0}.leaflet-right .leaflet-draw-actions li:last-child a{-webkit-border-radius:0;border-radius:0}.leaflet-right .leaflet-draw-actions li:first-child a{-webkit-border-radius:4px 0 0 4px;border-radius:4px 0 0 4px}.leaflet-draw-actions a{background-color:#919187;border-left:1px solid #AAA;color:#FFF;font:11px/19px \\\"Helvetica Neue\\\",Arial,Helvetica,sans-serif;line-height:28px;text-decoration:none;padding-left:10px;padding-right:10px;height:28px}\\n.leaflet-touch .leaflet-draw-actions a{font-size:12px;line-height:30px;height:30px}.leaflet-draw-actions-bottom{margin-top:0}.leaflet-draw-actions-top{margin-top:1px}.leaflet-draw-actions-top a,.leaflet-draw-actions-bottom a{height:27px;line-height:27px}.leaflet-draw-actions a:hover{background-color:#a0a098}.leaflet-draw-actions-top.leaflet-draw-actions-bottom a{height:26px;line-height:26px}.leaflet-draw-toolbar .leaflet-draw-draw-polyline{background-position:-2px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-draw-polyline{background-position:0 -1px}\\n.leaflet-draw-toolbar .leaflet-draw-draw-polygon{background-position:-31px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-draw-polygon{background-position:-29px -1px}.leaflet-draw-toolbar .leaflet-draw-draw-rectangle{background-position:-62px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-draw-rectangle{background-position:-60px -1px}.leaflet-draw-toolbar .leaflet-draw-draw-circle{background-position:-92px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-draw-circle{background-position:-90px -1px}\\n.leaflet-draw-toolbar .leaflet-draw-draw-marker{background-position:-122px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-draw-marker{background-position:-120px -1px}.leaflet-draw-toolbar .leaflet-draw-draw-circlemarker{background-position:-273px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-draw-circlemarker{background-position:-271px -1px}.leaflet-draw-toolbar .leaflet-draw-edit-edit{background-position:-152px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-edit-edit{background-position:-150px -1px}\\n.leaflet-draw-toolbar .leaflet-draw-edit-remove{background-position:-182px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-edit-remove{background-position:-180px -1px}.leaflet-draw-toolbar .leaflet-draw-edit-edit.leaflet-disabled{background-position:-212px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-edit-edit.leaflet-disabled{background-position:-210px -1px}.leaflet-draw-toolbar .leaflet-draw-edit-remove.leaflet-disabled{background-position:-242px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-edit-remove.leaflet-disabled{background-position:-240px -2px}\\n.leaflet-mouse-marker{background-color:#fff;cursor:crosshair}.leaflet-draw-tooltip{background:#363636;background:rgba(0,0,0,0.5);border:1px solid transparent;-webkit-border-radius:4px;border-radius:4px;color:#fff;font:12px/18px \\\"Helvetica Neue\\\",Arial,Helvetica,sans-serif;margin-left:20px;margin-top:-21px;padding:4px 8px;position:absolute;visibility:hidden;white-space:nowrap;z-index:6}.leaflet-draw-tooltip:before{border-right:6px solid black;border-right-color:rgba(0,0,0,0.5);border-top:6px solid transparent;border-bottom:6px solid transparent;content:\\\"\\\";position:absolute;top:7px;left:-7px}\\n.leaflet-error-draw-tooltip{background-color:#f2dede;border:1px solid #e6b6bd;color:#b94a48}.leaflet-error-draw-tooltip:before{border-right-color:#e6b6bd}.leaflet-draw-tooltip-single{margin-top:-12px}.leaflet-draw-tooltip-subtext{color:#f8d5e4}.leaflet-draw-guide-dash{font-size:1%;opacity:.6;position:absolute;width:5px;height:5px}.leaflet-edit-marker-selected{background-color:rgba(254,87,161,0.1);border:4px dashed rgba(254,87,161,0.6);-webkit-border-radius:4px;border-radius:4px;box-sizing:content-box}\\n.leaflet-edit-move{cursor:move}.leaflet-edit-resize{cursor:pointer}.leaflet-oldie .leaflet-draw-toolbar{border:1px solid #999}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n\n\n//# sourceURL=webpack://tmap/./src/plugins/draw/leaflet.draw.css?./node_modules/css-loader/dist/cjs.js");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/plugins/measure/leaflet-measure.css":
/*!***************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/plugins/measure/leaflet-measure.css ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/getUrl.js */ \"./node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = __webpack_require__(/*! ./assets/rulers.png */ \"./src/plugins/measure/assets/rulers.png\");\nvar ___CSS_LOADER_URL_IMPORT_1___ = __webpack_require__(/*! ./assets/rulers_@2X.png */ \"./src/plugins/measure/assets/rulers_@2X.png\");\nvar ___CSS_LOADER_URL_IMPORT_2___ = __webpack_require__(/*! ./assets/start.png */ \"./src/plugins/measure/assets/start.png\");\nvar ___CSS_LOADER_URL_IMPORT_3___ = __webpack_require__(/*! ./assets/start_@2X.png */ \"./src/plugins/measure/assets/start_@2X.png\");\nvar ___CSS_LOADER_URL_IMPORT_4___ = __webpack_require__(/*! ./assets/cancel.png */ \"./src/plugins/measure/assets/cancel.png\");\nvar ___CSS_LOADER_URL_IMPORT_5___ = __webpack_require__(/*! ./assets/cancel_@2X.png */ \"./src/plugins/measure/assets/cancel_@2X.png\");\nvar ___CSS_LOADER_URL_IMPORT_6___ = __webpack_require__(/*! ./assets/check.png */ \"./src/plugins/measure/assets/check.png\");\nvar ___CSS_LOADER_URL_IMPORT_7___ = __webpack_require__(/*! ./assets/check_@2X.png */ \"./src/plugins/measure/assets/check_@2X.png\");\nvar ___CSS_LOADER_URL_IMPORT_8___ = __webpack_require__(/*! ./assets/focus.png */ \"./src/plugins/measure/assets/focus.png\");\nvar ___CSS_LOADER_URL_IMPORT_9___ = __webpack_require__(/*! ./assets/focus_@2X.png */ \"./src/plugins/measure/assets/focus_@2X.png\");\nvar ___CSS_LOADER_URL_IMPORT_10___ = __webpack_require__(/*! ./assets/trash.png */ \"./src/plugins/measure/assets/trash.png\");\nvar ___CSS_LOADER_URL_IMPORT_11___ = __webpack_require__(/*! ./assets/trash_@2X.png */ \"./src/plugins/measure/assets/trash_@2X.png\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___);\nvar ___CSS_LOADER_URL_REPLACEMENT_5___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_5___);\nvar ___CSS_LOADER_URL_REPLACEMENT_6___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_6___);\nvar ___CSS_LOADER_URL_REPLACEMENT_7___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_7___);\nvar ___CSS_LOADER_URL_REPLACEMENT_8___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_8___);\nvar ___CSS_LOADER_URL_REPLACEMENT_9___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_9___);\nvar ___CSS_LOADER_URL_REPLACEMENT_10___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_10___);\nvar ___CSS_LOADER_URL_REPLACEMENT_11___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_11___);\n// Module\nexports.push([module.i, \".leaflet-control-measure h3, .leaflet-measure-resultpopup h3 {\\n  margin: 0 0 12px;\\n  padding-bottom: 10px;\\n  border-bottom: 1px solid #ddd\\n}\\n\\n.leaflet-control-measure p, .leaflet-measure-resultpopup p {\\n  margin: 10px 0 0;\\n  line-height: 1.5em\\n}\\n\\n.leaflet-control-measure p:first-child, .leaflet-measure-resultpopup p:first-child {\\n  margin-top: 0\\n}\\n\\n.leaflet-control-measure .tasks, .leaflet-measure-resultpopup .tasks {\\n  margin: 12px 0 0;\\n  padding: 10px 0 0;\\n  border-top: 1px solid #ddd;\\n  text-align: right;\\n  list-style: none;\\n  list-style-image: none\\n}\\n\\n.leaflet-control-measure .tasks li, .leaflet-measure-resultpopup .tasks li {\\n  display: inline;\\n  margin: 0 10px 0 0\\n}\\n\\n.leaflet-control-measure .tasks li:last-child, .leaflet-measure-resultpopup .tasks li:last-child {\\n  margin-right: 0\\n}\\n\\n.leaflet-control-measure .coorddivider, .leaflet-measure-resultpopup .coorddivider {\\n  color: #999\\n}\\n\\n.leaflet-control-measure {\\n  max-width: 280px;\\n  background: #fff;\\n  margin-right: 20px !important;\\n}\\n\\n.leaflet-control-measure .leaflet-control-measure-toggle, .leaflet-control-measure .leaflet-control-measure-toggle:hover {\\n  background-size: 14px 14px;\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");\\n  border: 0;\\n  border-radius: 4px;\\n  text-indent: 100%;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  width: 30px;\\n  height: 30px;\\n}\\n\\n.leaflet-touch .leaflet-control-measure .leaflet-control-measure-toggle, .leaflet-touch .leaflet-control-measure .leaflet-control-measure-toggle:hover {\\n  border-radius: 2px\\n}\\n\\n.leaflet-retina .leaflet-control-measure .leaflet-control-measure-toggle, .leaflet-retina .leaflet-control-measure .leaflet-control-measure-toggle:hover {\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \")\\n}\\n\\n.leaflet-touch .leaflet-control-measure .leaflet-control-measure-toggle, .leaflet-touch .leaflet-control-measure .leaflet-control-measure-toggle:hover {\\n  background-size: 16px 16px\\n}\\n\\n.leaflet-control-measure .startprompt h3 {\\n  margin-bottom: 10px\\n}\\n\\n.leaflet-control-measure .startprompt .tasks {\\n  margin-top: 0;\\n  padding-top: 0;\\n  border-top: 0;\\n  text-align: left\\n}\\n\\n.leaflet-control-measure .leaflet-control-measure-interaction {\\n  padding: 10px 12px\\n}\\n\\n.leaflet-control-measure .results .group {\\n  margin-top: 10px;\\n  padding-top: 10px;\\n  border-top: 1px dotted #eaeaea\\n}\\n\\n.leaflet-control-measure .results .group:first-child {\\n  margin-top: 0;\\n  padding-top: 0;\\n  border-top: 0\\n}\\n\\n.leaflet-control-measure .results .heading {\\n  margin-right: 5px;\\n  color: #999\\n}\\n\\n.leaflet-control-measure a.start {\\n  display: inline;\\n  width: auto;\\n  height: auto;\\n  padding-left: 20px;\\n  margin-right: 4px;\\n  border: 0;\\n  text-align: left;\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \");\\n  background-repeat: no-repeat;\\n  background-position: 0 50%;\\n  background-size: 12px 12px;\\n  color: #5e66cc;\\n  text-decoration: none\\n}\\n\\n.leaflet-control-measure a.start, .leaflet-control-measure a.start:hover {\\n  background-color: transparent\\n}\\n\\n.leaflet-retina .leaflet-control-measure a.start {\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \")\\n}\\n\\n.leaflet-control-measure a.start:hover {\\n\\n  width: auto !important;\\n}\\n\\n.leaflet-control-measure a.cancel {\\n  display: inline;\\n  width: auto;\\n  height: auto;\\n  padding-left: 20px;\\n  margin-right: 4px;\\n  line-height: 1em;\\n  border: 0;\\n  text-align: left;\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \");\\n  background-repeat: no-repeat;\\n  background-position: 0 50%;\\n  background-size: 12px 12px;\\n  color: #5e66cc;\\n  text-decoration: none\\n}\\n\\n.leaflet-control-measure a.cancel, .leaflet-control-measure a.cancel:hover {\\n  background-color: transparent\\n}\\n\\n.leaflet-retina .leaflet-control-measure a.cancel {\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_5___ + \")\\n}\\n\\n.leaflet-control-measure a.cancel:hover {\\n  opacity: .5;\\n  text-decoration: none;\\n  display: inline !important;\\n}\\n\\n.leaflet-control-measure a.finish {\\n  display: inline;\\n  width: auto;\\n  height: auto;\\n  padding-left: 20px;\\n  margin-right: 4px;\\n  line-height: 1em;\\n  border: 0;\\n  text-align: left;\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_6___ + \");\\n  background-repeat: no-repeat;\\n  background-position: 0 50%;\\n  background-size: 12px 12px;\\n  color: #5e66cc;\\n  text-decoration: none\\n}\\n\\n.leaflet-control-measure a.finish, .leaflet-control-measure a.finish:hover {\\n  background-color: transparent;\\n}\\n\\n.leaflet-retina .leaflet-control-measure a.finish {\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_7___ + \")\\n}\\n\\n.leaflet-control-measure a.finish:hover {\\n  opacity: .5;\\n  text-decoration: none;\\n  display: inline !important;\\n}\\n\\n.leaflet-measure-resultpopup a.zoomto {\\n  display: inline;\\n  width: auto;\\n  height: auto;\\n  padding-left: 20px;\\n  margin-right: 4px;\\n  line-height: 1em;\\n  border: 0;\\n  text-align: left;\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_8___ + \");\\n  background-repeat: no-repeat;\\n  background-position: 0 50%;\\n  background-size: 12px 12px;\\n  color: #5e66cc;\\n  text-decoration: none\\n}\\n\\n.leaflet-measure-resultpopup a.zoomto, .leaflet-measure-resultpopup a.zoomto:hover {\\n  background-color: transparent\\n}\\n\\n.leaflet-retina .leaflet-measure-resultpopup a.zoomto {\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_9___ + \")\\n}\\n\\n.leaflet-measure-resultpopup a.zoomto:hover {\\n  opacity: .5;\\n  text-decoration: none\\n}\\n\\n.leaflet-measure-resultpopup a.deletemarkup {\\n  display: inline;\\n  width: auto;\\n  height: auto;\\n  padding-left: 20px;\\n  margin-right: 4px;\\n  line-height: 1em;\\n  border: 0;\\n  text-align: left;\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_10___ + \");\\n  background-repeat: no-repeat;\\n  background-position: 0 50%;\\n  background-size: 12px 12px;\\n  color: #5e66cc;\\n  text-decoration: none\\n}\\n\\n.leaflet-measure-resultpopup a.deletemarkup, .leaflet-measure-resultpopup a.deletemarkup:hover {\\n  background-color: transparent\\n}\\n\\n.leaflet-retina .leaflet-measure-resultpopup a.deletemarkup {\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_11___ + \")\\n}\\n\\n.leaflet-measure-resultpopup a.deletemarkup:hover {\\n  opacity: .5;\\n  text-decoration: none\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n\n\n//# sourceURL=webpack://tmap/./src/plugins/measure/leaflet-measure.css?./node_modules/css-loader/dist/cjs.js");

/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./src/plugins/scalebar/L.Control.BetterScale.css":
/*!**********************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/plugins/scalebar/L.Control.BetterScale.css ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, \".leaflet-control-better-scale {\\n  margin-bottom: 15px !important;\\n  margin-right: 300px !important;\\n  height: 20px;\\n}\\n\\n.leaflet-control-better-scale-upper-first-piece {\\n  top: 0%;\\n  left: 0%;\\n  width: 25%;\\n  background-color: transparent !important;\\n  border: none !important;\\n}\\n\\n.leaflet-control-better-scale-upper-second-piece {\\n  top: 0%;\\n  left: 50%;\\n  width: 25%;\\n  background-color: transparent !important;\\n  border: none !important;\\n  border-left: 1px solid #444444;\\n  border-right: 1px solid #444444;\\n}\\n\\n.leaflet-control-better-scale-lower-first-piece {\\n  top: 50%;\\n  left: 25%;\\n  width: 25%;\\n  border-left: 1px solid #444444;\\n  border-right: 1px solid #444444;\\n}\\n\\n.leaflet-control-better-scale-lower-second-piece {\\n  top: 50%;\\n  left: 75%;\\n  width: 30%;\\n}\\n\\n.leaflet-control-better-scale-ruler-block {\\n  overflow: hidden;\\n  position: absolute;\\n  height: 50%;\\n  background-color: #444444;\\n}\\n\\n.leaflet-control-better-scale-ruler {\\n  overflow: hidden;\\n  position: relative;\\n  width: 100%;\\n  height: 7px;\\n  background-color: transparent;\\n  border-bottom: 2px solid #444444;\\n}\\n\\n.leaflet-control-better-scale-label-div {\\n  position: relative;\\n  width: 100%;\\n}\\n\\n.leaflet-control-better-scale-label {\\n  position: absolute;\\n  width: 10%;\\n  text-align: center;\\n  color: #fff;\\n  font-family: sans-serif;\\n  font-weight: bold;\\n  font-size: 12px;\\n  height: 5px;\\n  top: -1px;\\n  text-shadow: 1px 0 0 #000, 0 -1px 0 #000, 0 1px 0 #000, -1px 0 0 #000;\\n}\\n\\n.leaflet-control-better-scale-first-number {\\n  left: 45%;\\n}\\n\\n.leaflet-control-better-scale-second-number {\\n  left: 95%;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n\n\n//# sourceURL=webpack://tmap/./src/plugins/scalebar/L.Control.BetterScale.css?./node_modules/css-loader/dist/cjs.js");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    for (var i = 0; i < modules.length; i++) {\n      var item = [].concat(modules[i]);\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot).concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}\n\n//# sourceURL=webpack://tmap/./node_modules/css-loader/dist/runtime/api.js?");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/getUrl.js":
/*!********************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/getUrl.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n\n\n  url = url && url.__esModule ? url.default : url;\n\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    // eslint-disable-next-line no-param-reassign\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n'), \"\\\"\");\n  }\n\n  return url;\n};\n\n//# sourceURL=webpack://tmap/./node_modules/css-loader/dist/runtime/getUrl.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = {};\n\nfunction modulesToDom(moduleId, list, options) {\n  for (var i = 0; i < list.length; i++) {\n    var part = {\n      css: list[i][1],\n      media: list[i][2],\n      sourceMap: list[i][3]\n    };\n\n    if (stylesInDom[moduleId][i]) {\n      stylesInDom[moduleId][i](part);\n    } else {\n      stylesInDom[moduleId].push(addStyle(part, options));\n    }\n  }\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce =  true ? __webpack_require__.nc : undefined;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (moduleId, list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  moduleId = options.base ? moduleId + options.base : moduleId;\n  list = list || [];\n\n  if (!stylesInDom[moduleId]) {\n    stylesInDom[moduleId] = [];\n  }\n\n  modulesToDom(moduleId, list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    if (!stylesInDom[moduleId]) {\n      stylesInDom[moduleId] = [];\n    }\n\n    modulesToDom(moduleId, newList, options);\n\n    for (var j = newList.length; j < stylesInDom[moduleId].length; j++) {\n      stylesInDom[moduleId][j]();\n    }\n\n    stylesInDom[moduleId].length = newList.length;\n\n    if (stylesInDom[moduleId].length === 0) {\n      delete stylesInDom[moduleId];\n    }\n  };\n};\n\n//# sourceURL=webpack://tmap/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js?");

/***/ }),

/***/ "./src/component/MapOption.js":
/*!************************************!*\
  !*** ./src/component/MapOption.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar options = {\n  crs: L.CRS.EPSG3857,\n  center: [0, 0],\n  zoom: 0,\n  boxZoom: true,\n  doubleClickZoom: true,\n  minZoom: 0,\n  maxZoom: 18,\n  layers: [],\n  maxBounds: undefined,\n  renderer: L.svg(),\n  attributionControl: false,\n  zoomControl: false,\n  zoomAnimation: true,\n  zoomAnimationThreshold: 4,\n  fadeAnimation: true,\n  markerZoomAnimation: true,\n  transform3DLimit: 8388608,\n  // Precision limit of a 32-bit float\n  zoomSnap: 1,\n  zoomDelta: 1,\n  trackResize: true,\n  maxBoundsViscosity: 0,\n  closePopupOnClick: true\n};\nvar MapOption = new Proxy(options, {\n  get: function get(target, key, receiver) {\n    return Reflect.get(target, key, receiver);\n  },\n  set: function set(target, p, value, receiver) {\n    Reflect.set(target, p, value, receiver);\n    return true;\n  }\n});\nvar _default = MapOption;\nexports.default = _default;\nmodule.exports = exports[\"default\"];\n\n//# sourceURL=webpack://tmap/./src/component/MapOption.js?");

/***/ }),

/***/ "./src/component/TCircle.js":
/*!**********************************!*\
  !*** ./src/component/TCircle.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.circleProxy = circleProxy;\nexports.circle = circle;\n\nvar _TPath = _interopRequireDefault(__webpack_require__(/*! ./TPath */ \"./src/component/TPath.js\"));\n\nvar _VectorOptProxy = __webpack_require__(/*! ./VectorOptProxy */ \"./src/component/VectorOptProxy.js\");\n\nvar _TMap = _interopRequireDefault(__webpack_require__(/*! ../core/TMap */ \"./src/core/TMap.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar circleOption = {\n  radius: 0.0,\n  t: 'circle'\n};\ncircleOption = Object.assign(_TPath.default, circleOption);\ncircleOption.fill = true;\n\nfunction circleProxy(layer) {\n  return (0, _VectorOptProxy.resetStyleHandler)(layer);\n}\n\nfunction circle(geo, options) {\n  var opt = (0, _VectorOptProxy.optionFill)(options, circleOption);\n  var Te = L.circle(geo, options);\n  Te.$options = opt;\n  Te = circleProxy(Te);\n\n  _TMap.default.map.addLayer(Te);\n\n  return Te;\n}\n\n//# sourceURL=webpack://tmap/./src/component/TCircle.js?");

/***/ }),

/***/ "./src/component/TCircleMarker.js":
/*!****************************************!*\
  !*** ./src/component/TCircleMarker.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.circleMarkerProxy = circleMarkerProxy;\nexports.circleMarker = circleMarker;\n\nvar _TPath = _interopRequireDefault(__webpack_require__(/*! ./TPath */ \"./src/component/TPath.js\"));\n\nvar _VectorOptProxy = __webpack_require__(/*! ./VectorOptProxy */ \"./src/component/VectorOptProxy.js\");\n\nvar _TMap = _interopRequireDefault(__webpack_require__(/*! ../core/TMap */ \"./src/core/TMap.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar cMarkerOption = {\n  radius: 10,\n  t: 'circleMarker'\n};\ncMarkerOption = Object.assign(_TPath.default, cMarkerOption);\ncMarkerOption.fill = true;\n\nfunction circleMarkerProxy(layer) {\n  return (0, _VectorOptProxy.resetStyleHandler)(layer);\n}\n\nfunction circleMarker(geo, options) {\n  var opt = (0, _VectorOptProxy.optionFill)(options, cMarkerOption);\n  var Te = L.circleMarker(geo, options);\n  Te.$options = opt;\n  Te = circleMarkerProxy(Te);\n\n  _TMap.default.map.addLayer(Te);\n\n  return Te;\n}\n\n//# sourceURL=webpack://tmap/./src/component/TCircleMarker.js?");

/***/ }),

/***/ "./src/component/TIcon.js":
/*!********************************!*\
  !*** ./src/component/TIcon.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.iconOpt = exports.icon = void 0;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar iconOpt = {\n  iconUrl: '',\n  iconRetinaUrl: '',\n  iconSize: null,\n  iconAnchor: null,\n  popupAnchor: [0, 0],\n  tooltipAnchor: [0, 0],\n  shadowUrl: null,\n  shadowRetinaUrl: null,\n  shadowSize: null,\n  shadowAnchor: null,\n  className: ''\n};\nexports.iconOpt = iconOpt;\n\nvar icon = function icon(opt) {\n  var options = {};\n\n  if (_typeof(opt) === 'object') {\n    options = Object.assign(iconOpt, opt);\n  } else if (typeof opt === 'string') {\n    options = Object.assign({}, iconOpt);\n    options.iconUrl = opt;\n  }\n\n  return L.icon(options);\n};\n\nexports.icon = icon;\n\n//# sourceURL=webpack://tmap/./src/component/TIcon.js?");

/***/ }),

/***/ "./src/component/TPath.js":
/*!********************************!*\
  !*** ./src/component/TPath.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar pathOption = {\n  stroke: true,\n  color: '#3388ff',\n  weight: 3,\n  opacity: 1.0,\n  lineCap: 'round',\n  lineJoin: 'round',\n  dashArray: null,\n  dashOffset: null,\n  fill: false,\n  fillColor: null,\n  fillOpacity: 0.2,\n  fillRule: 'evenodd',\n  bubblingMouseEvents: true,\n  renderer: undefined,\n  className: '',\n  interactive: true,\n  pane: 'overlayPane',\n  attribution: null\n};\nvar _default = pathOption;\nexports.default = _default;\nmodule.exports = exports[\"default\"];\n\n//# sourceURL=webpack://tmap/./src/component/TPath.js?");

/***/ }),

/***/ "./src/component/TPolygon.js":
/*!***********************************!*\
  !*** ./src/component/TPolygon.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.polygonProxy = polygonProxy;\nexports.polygon = polygon;\n\nvar _TPath = _interopRequireDefault(__webpack_require__(/*! ./TPath */ \"./src/component/TPath.js\"));\n\nvar _VectorOptProxy = __webpack_require__(/*! ./VectorOptProxy */ \"./src/component/VectorOptProxy.js\");\n\nvar _TMap = _interopRequireDefault(__webpack_require__(/*! ../core/TMap */ \"./src/core/TMap.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar polygonOption = {\n  smoothFactor: 1.0,\n  noClip: false,\n  t: 'polygon'\n};\npolygonOption = Object.assign(_TPath.default, polygonOption);\npolygonOption.fill = true;\n\nfunction polygonProxy(layer) {\n  return (0, _VectorOptProxy.resetStyleHandler)(layer);\n}\n\nfunction polygon(geo, options) {\n  var opt = (0, _VectorOptProxy.optionFill)(options, polygonOption);\n  var Te = L.polygon(geo, options);\n  Te.$options = opt;\n  Te = polygonProxy(Te);\n\n  _TMap.default.map.addLayer(Te);\n\n  return Te;\n}\n\n//# sourceURL=webpack://tmap/./src/component/TPolygon.js?");

/***/ }),

/***/ "./src/component/TPolyline.js":
/*!************************************!*\
  !*** ./src/component/TPolyline.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.polylineProxy = polylineProxy;\nexports.polyline = polyline;\n\nvar _TPath = _interopRequireDefault(__webpack_require__(/*! ./TPath */ \"./src/component/TPath.js\"));\n\nvar _VectorOptProxy = __webpack_require__(/*! ./VectorOptProxy */ \"./src/component/VectorOptProxy.js\");\n\nvar _TMap = _interopRequireDefault(__webpack_require__(/*! ../core/TMap */ \"./src/core/TMap.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar polylineOption = {\n  smoothFactor: 1.0,\n  noClip: false,\n  t: 'polyline'\n};\npolylineOption = Object.assign(_TPath.default, polylineOption);\n\nfunction polylineProxy(layer) {\n  return (0, _VectorOptProxy.resetStyleHandler)(layer);\n}\n\nfunction polyline(geo, options) {\n  var opt = (0, _VectorOptProxy.optionFill)(options, polylineOption);\n  var Te = L.polyline(geo, options);\n  Te.$options = opt;\n  Te = polylineProxy(Te);\n\n  _TMap.default.map.addLayer(Te);\n\n  return Te;\n}\n\n//# sourceURL=webpack://tmap/./src/component/TPolyline.js?");

/***/ }),

/***/ "./src/component/TRectangle.js":
/*!*************************************!*\
  !*** ./src/component/TRectangle.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.rectangleProxy = rectangleProxy;\nexports.rectangle = rectangle;\n\nvar _TPath = _interopRequireDefault(__webpack_require__(/*! ./TPath */ \"./src/component/TPath.js\"));\n\nvar _VectorOptProxy = __webpack_require__(/*! ./VectorOptProxy */ \"./src/component/VectorOptProxy.js\");\n\nvar _TMap = _interopRequireDefault(__webpack_require__(/*! ../core/TMap */ \"./src/core/TMap.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar rectangleOption = {\n  smoothFactor: 1.0,\n  noClip: false,\n  t: 'rectangle'\n};\nrectangleOption = Object.assign(_TPath.default, rectangleOption);\nrectangleOption.fill = true;\n\nfunction rectangleProxy(layer) {\n  return (0, _VectorOptProxy.resetStyleHandler)(layer);\n}\n\nfunction rectangle(geo, options) {\n  var opt = (0, _VectorOptProxy.optionFill)(options, rectangleOption);\n  var Te = L.rectangle(geo, options);\n  Te.$options = opt;\n  Te = rectangleProxy(Te);\n\n  _TMap.default.map.addLayer(Te);\n\n  return Te;\n}\n\n//# sourceURL=webpack://tmap/./src/component/TRectangle.js?");

/***/ }),

/***/ "./src/component/VectorOptProxy.js":
/*!*****************************************!*\
  !*** ./src/component/VectorOptProxy.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.optionFill = optionFill;\nexports.resetStyleHandler = resetStyleHandler;\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction optionFill(source, template) {\n  if (!source || source === {}) {\n    return new Proxy(template, {});\n  }\n\n  var temp = JSON.parse(JSON.stringify(template));\n\n  for (var key in temp) {\n    if (source.hasOwnProperty(key)) {\n      temp[key] = source[key];\n    }\n  }\n\n  for (var _key in source) {\n    if (!temp.hasOwnProperty(_key)) {\n      temp[_key] = source[_key];\n    }\n  }\n\n  return new Proxy(temp, {});\n}\n\nfunction resetStyleHandler(layer) {\n  var handler = {\n    //setStyle 后 同步options 内容至$options\n    apply: function apply(target, _this, args) {\n      var result = Reflect.apply.apply(Reflect, arguments);\n      layer.$options = Object.assign.apply(Object, [layer.$options].concat(_toConsumableArray(args)));\n      layer.redraw();\n      return result;\n    }\n  }; //直接修改options 更新属性 设置样式，重绘\n\n  var handlerLayer = {\n    set: function set(target, p, value, receiver) {\n      Reflect.set(target, p, value, receiver);\n\n      if (p === 'options') {\n        target.option = optionFill(target[p], target.$options);\n        target.setStyle(target.option);\n        target.redraw();\n      }\n\n      return true;\n    }\n  };\n  layer.setStyle = new Proxy(layer.setStyle, handler);\n  layer = new Proxy(layer, handlerLayer);\n  return layer;\n}\n\n//# sourceURL=webpack://tmap/./src/component/VectorOptProxy.js?");

/***/ }),

/***/ "./src/controls/Drawer.js":
/*!********************************!*\
  !*** ./src/controls/Drawer.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.drawerPlugin = void 0;\n\n__webpack_require__(/*! ../plugins/draw/leaflet.draw-src */ \"./src/plugins/draw/leaflet.draw-src.js\");\n\n__webpack_require__(/*! ../plugins/draw/leaflet.draw.css */ \"./src/plugins/draw/leaflet.draw.css\");\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar drawer = {\n  show: true,\n  activate: false,\n  drawer: {\n    polyline: true,\n    polygon: true,\n    circle: true,\n    rectangle: true,\n    marker: true,\n    circlemarker: true\n  },\n  editor: {\n    poly: {},\n    edit: {},\n    remove: {}\n  },\n  local: {\n    draw: {\n      toolbar: {\n        // #TODO: this should be reorganized where actions are nested in actions\n        // ex: actions.undo  or actions.cancel\n        actions: {\n          title: 'Cancel drawing',\n          text: 'Cancel'\n        },\n        finish: {\n          title: 'Finish drawing',\n          text: 'Finish'\n        },\n        undo: {\n          title: 'Delete last point drawn',\n          text: 'Delete last point'\n        },\n        buttons: {\n          polyline: '画polyline',\n          polygon: '画polygon',\n          rectangle: '画rectangle',\n          circle: '画circle',\n          marker: '画marker',\n          circlemarker: '画circlemarker'\n        }\n      },\n      handlers: {\n        circle: {\n          tooltip: {\n            start: 'Click and drag to draw circle.'\n          },\n          radius: 'Radius'\n        },\n        circlemarker: {\n          tooltip: {\n            start: 'Click map to place circle marker.'\n          }\n        },\n        marker: {\n          tooltip: {\n            start: '点击开始画点'\n          }\n        },\n        polygon: {\n          tooltip: {\n            start: '点击开始采集坐标',\n            cont: '点击继续采集坐标',\n            end: '点击第一节点结束采集坐标'\n          }\n        },\n        polyline: {\n          error: '<strong>错误:</strong> 图形节点不能相交',\n          tooltip: {\n            start: '点击开始画线',\n            cont: '点击继续画线',\n            end: '点击最后节点结束绘制'\n          }\n        },\n        rectangle: {\n          tooltip: {\n            start: 'Click and drag to draw rectangle.'\n          }\n        },\n        simpleshape: {\n          tooltip: {\n            end: 'Release mouse to finish drawing.'\n          }\n        }\n      }\n    },\n    edit: {\n      toolbar: {\n        actions: {\n          save: {\n            title: '保存修改',\n            text: '保存'\n          },\n          cancel: {\n            title: '取消编辑，放弃所有更改',\n            text: '取消'\n          },\n          clearAll: {\n            title: '清除所有要素',\n            text: '清除所有要素'\n          }\n        },\n        buttons: {\n          edit: '编辑要素',\n          editDisabled: '没有可编辑的要素',\n          remove: '删除要素',\n          removeDisabled: '没有可删除的要素'\n        }\n      },\n      handlers: {\n        edit: {\n          tooltip: {\n            text: '拖动控制点或要素点进行修改',\n            subtext: '点击取消按钮放弃修改'\n          }\n        },\n        remove: {\n          tooltip: {\n            text: '选中要素删除'\n          }\n        }\n      }\n    }\n  },\n  opt: {\n    position: 'topright',\n    //控件位置\n    draw: {\n      polyline: {\n        //线style\n        shapeOptions: {\n          color: '#f357a1',\n          weight: 10\n        }\n      },\n      polygon: {\n        //面style\n        allowIntersection: false,\n        drawError: {\n          color: '#e1e100',\n          message: '错误'\n        },\n        shapeOptions: {\n          color: '#bada55'\n        }\n      },\n      circle: true,\n      circlemarker: true,\n      rectangle: {\n        shapeOptions: {\n          clickable: true\n        }\n      },\n      marker: true\n    },\n    edit: {\n      featureGroup: null,\n      poly: {},\n      edit: {},\n      remove: {},\n      allowIntersection: false\n    }\n  },\n  targetLayer: null\n};\nL.drawLocal = drawer.local;\n\nvar drawerPlugin = function drawerPlugin(targetLayer, options) {\n  var opt = {\n    position: 'topright'\n  };\n\n  if (options.hasOwnProperty('draw')) {\n    if (typeof options.draw === 'boolean') {\n      if (options.draw) {\n        opt.draw = JSON.parse(JSON.stringify(drawer.opt.draw));\n      }\n    } else if (_typeof(options.draw) === 'object') {\n      opt.draw = {};\n\n      for (var key in drawer.drawer) {\n        if (options.draw.hasOwnProperty(key) && options.draw[key]) {\n          opt.draw[key] = JSON.parse(JSON.stringify(drawer.opt.draw[key]));\n        } else {\n          opt.draw[key] = false;\n        }\n      }\n    }\n  }\n\n  if (options.hasOwnProperty('edit')) {\n    if (typeof options.edit === 'boolean') {\n      if (options.edit) {\n        opt.edit = JSON.parse(JSON.stringify(drawer.opt.edit));\n        opt.edit.featureGroup = targetLayer;\n      }\n    } else if (_typeof(options.edit) === 'object') {\n      opt.edit = {};\n\n      for (var _key in drawer.editor) {\n        if (options.edit.hasOwnProperty(_key) && options.edit[_key]) {\n          opt.edit[_key] = JSON.parse(JSON.stringify(drawer.opt.edit[_key]));\n        } else {\n          opt.edit[_key] = false;\n        }\n      }\n\n      opt.edit.featureGroup = targetLayer;\n    }\n  }\n\n  var Tz = new L.Control.Draw(opt);\n\n  Tz.__proto__.show = function () {\n    this.$options.show = true;\n  };\n\n  Tz.__proto__.hide = function () {\n    this.$options.show = false;\n  };\n\n  Tz.__proto__.disableAll = function () {\n    if (Tz._toolbars.hasOwnProperty('edit')) {\n      Tz._toolbars.edit.disable();\n    }\n\n    if (Tz._toolbars.hasOwnProperty('draw')) {\n      Tz._toolbars.draw.disable();\n    }\n  };\n\n  Tz.__proto__.enableAll = function () {\n    if (Tz._toolbars.hasOwnProperty('edit')) {\n      Tz._toolbars.edit.enable();\n    }\n\n    if (Tz._toolbars.hasOwnProperty('draw')) {\n      Tz._toolbars.draw.enable();\n    }\n  };\n\n  Tz.__proto__.enable = function (item) {\n    if (Tz._toolbars.hasOwnProperty(item)) {\n      Tz._toolbars.edit.enable();\n    }\n  };\n\n  Tz.__proto__.disable = function (item) {\n    if (Tz._toolbars.hasOwnProperty(item)) {\n      Tz._toolbars.edit.disable();\n    }\n  };\n\n  var drawOpt = JSON.parse(JSON.stringify(drawer));\n  drawOpt.opt = opt;\n  T.map.on(L.Draw.Event.CREATED, function (event) {\n    var layer = event.layer;\n    targetLayer.addLayer(layer);\n  });\n  Tz.$groups = targetLayer;\n  Tz.$options = new Proxy(Object.assign({}, drawOpt), {\n    set: function set(target, p, value, receiver) {\n      Reflect.set(target, p, value, receiver);\n\n      if (p === 'show') {\n        if (value) {\n          Tz.$options.activate = true;\n          Tz._container.style.display = 'block';\n          Tz.enableAll();\n        } else {\n          Tz.$options.activate = false;\n          Tz._container.style.display = 'none';\n          Tz.disableAll();\n        }\n      }\n\n      return true;\n    }\n  });\n  return Tz;\n};\n\nexports.drawerPlugin = drawerPlugin;\n\n//# sourceURL=webpack://tmap/./src/controls/Drawer.js?");

/***/ }),

/***/ "./src/controls/Graticule.js":
/*!***********************************!*\
  !*** ./src/controls/Graticule.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.latLngGraticule = void 0;\n\n__webpack_require__(/*! ../plugins/graticule/L.LatlngGraticule */ \"./src/plugins/graticule/L.LatlngGraticule.js\");\n\nvar graticuleOpt = {\n  show: true,\n  activate: true,\n  opt: {\n    showLabel: true,\n    color: '#333333',\n    dashArray: [5, 5],\n    zoomInterval: [{\n      start: 1,\n      end: 3,\n      interval: 10\n    }, {\n      start: 4,\n      end: 4,\n      interval: 5\n    }, {\n      start: 5,\n      end: 7,\n      interval: 2\n    }, {\n      start: 8,\n      end: 10,\n      interval: 1\n    }, {\n      start: 10,\n      end: 12,\n      interval: 0.5\n    }, {\n      start: 13,\n      end: 15,\n      interval: 0.1\n    }]\n  }\n};\n\nvar latLngGraticule = function latLngGraticule() {\n  var opt = Object.assign({}, graticuleOpt.opt);\n  var Tz = L.latlngGraticule(opt);\n\n  Tz.__proto__.show = function () {\n    T.map.removeLayer(this);\n    this.$options.show = true;\n  };\n\n  Tz.__proto__.hide = function () {\n    this.$options.show = false;\n  };\n\n  Tz.$options = new Proxy(Object.assign({}, graticuleOpt), {\n    set: function set(target, p, value, receiver) {\n      Reflect.set(target, p, value, receiver);\n\n      if (p === 'show') {\n        if (value) {\n          Tz.$options.activate = true;\n          T.map.addLayer(Tz);\n        } else {\n          Tz.$options.activate = false;\n          T.map.removeLayer(Tz);\n        }\n      }\n\n      return true;\n    }\n  });\n  return Tz;\n};\n\nexports.latLngGraticule = latLngGraticule;\n\n//# sourceURL=webpack://tmap/./src/controls/Graticule.js?");

/***/ }),

/***/ "./src/controls/Measure.js":
/*!*********************************!*\
  !*** ./src/controls/Measure.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.measure = void 0;\n\n__webpack_require__(/*! ../plugins/measure/leaflet-measure.cn */ \"./src/plugins/measure/leaflet-measure.cn.js\");\n\n__webpack_require__(/*! ../plugins/measure/leaflet-measure.css */ \"./src/plugins/measure/leaflet-measure.css\");\n\nvar measureOpt = {\n  show: true,\n  activate: true,\n  opt: {\n    units: {},\n    position: 'topright',\n    primaryLengthUnit: 'meters',\n    secondaryLengthUnit: 'kilometers',\n    primaryAreaUnit: 'sqkilometers',\n    secondaryAreaUnit: 'sqmeters',\n    activeColor: '#ABE67E',\n    // base color for map features while actively measuring\n    completedColor: '#C8F2BE',\n    // base color for permenant features generated from completed measure\n    captureZIndex: 10000,\n    // z-index of the marker used to capture measure events\n    popupOptions: {\n      // standard leaflet popup options http://leafletjs.com/reference-1.3.0.html#popup-option\n      className: 'leaflet-measure-resultpopup',\n      autoPanPadding: [10, 10]\n    }\n  }\n};\n\nvar measure = function measure() {\n  var opt = Object.assign({}, measureOpt.opt);\n  var Tz = L.control.measure(opt);\n\n  Tz.__proto__.show = function () {\n    this.$options.show = true;\n  };\n\n  Tz.__proto__.hide = function () {\n    this.$options.show = false;\n  };\n\n  Tz.$options = new Proxy(Object.assign({}, measureOpt), {\n    set: function set(target, p, value, receiver) {\n      Reflect.set(target, p, value, receiver);\n\n      if (p === 'show') {\n        if (value) {\n          Tz.$options.activate = true;\n          Tz._container.style.display = 'block';\n        } else {\n          Tz.$options.activate = false;\n          Tz._container.style.display = 'none';\n        }\n      }\n\n      return true;\n    }\n  });\n  return Tz;\n};\n\nexports.measure = measure;\n\n//# sourceURL=webpack://tmap/./src/controls/Measure.js?");

/***/ }),

/***/ "./src/controls/Position.js":
/*!**********************************!*\
  !*** ./src/controls/Position.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pointer = void 0;\nvar pointerOpt = {\n  show: true,\n  activate: true,\n  opt: {\n    position: 'bottomright'\n  }\n};\n\nvar pointer = function pointer() {\n  var opt = Object.assign({}, pointerOpt.opt);\n  var Tz = L.control(opt);\n  Tz._leaflet_id = 'pointer_control';\n\n  Tz.onAdd = function () {\n    var me = this;\n    me._container = L.DomUtil.create('div');\n    me._container.style.width = '200px';\n    me._container.style.height = '20px';\n    me._container.style.position = 'absolute';\n    me._container.style.right = '10px';\n    me._container.style.bottom = '0px';\n    me._container.style.zindex = 2;\n    me._container.style.textAlign = 'center';\n    var inner = L.DomUtil.create('div');\n    inner.style.fontSize = '14px';\n    inner.style.color = '#222';\n\n    me._container.appendChild(inner);\n\n    return me._container;\n  };\n\n  T.map.on('mousemove', function (e) {\n    Tz._container.innerText = Number(e.latlng.lng).toFixed(6) + ',' + Number(e.latlng.lat).toFixed(6);\n  });\n\n  Tz.__proto__.show = function () {\n    this.$options.show = true;\n  };\n\n  Tz.__proto__.hide = function () {\n    this.$options.show = false;\n  };\n\n  Tz.$options = new Proxy(Object.assign({}, pointerOpt), {\n    set: function set(target, p, value, receiver) {\n      Reflect.set(target, p, value, receiver);\n\n      if (p === 'show') {\n        if (value) {\n          Tz.$options.activate = true;\n          Tz._container.style.display = 'block';\n        } else {\n          Tz.$options.activate = false;\n          Tz._container.style.display = 'none';\n        }\n      }\n\n      return true;\n    }\n  });\n  return Tz;\n};\n\nexports.pointer = pointer;\n\n//# sourceURL=webpack://tmap/./src/controls/Position.js?");

/***/ }),

/***/ "./src/controls/Printer.js":
/*!*********************************!*\
  !*** ./src/controls/Printer.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.printer = void 0;\n\n__webpack_require__(/*! ../plugins/print/leaflet.browser.print.min */ \"./src/plugins/print/leaflet.browser.print.min.js\");\n\nvar printerOpt = {\n  show: true,\n  activate: true,\n  opt: {\n    position: 'topright'\n  }\n};\n\nvar printer = function printer() {\n  var opt = Object.assign({}, printerOpt.opt);\n  var Tz = L.control.browserPrint(opt);\n\n  Tz.__proto__.show = function () {\n    this.$options.show = true;\n  };\n\n  Tz.__proto__.hide = function () {\n    this.$options.show = false;\n  };\n\n  Tz.$options = new Proxy(Object.assign({}, printerOpt), {\n    set: function set(target, p, value, receiver) {\n      Reflect.set(target, p, value, receiver);\n\n      if (p === 'show') {\n        if (value) {\n          Tz.$options.activate = true;\n          Tz._container.style.display = 'block';\n        } else {\n          Tz.$options.activate = false;\n          Tz._container.style.display = 'none';\n        }\n      }\n\n      return true;\n    }\n  });\n  Tz.$options.title = document.title;\n  T.map.on('browser-print', function (e) {\n    var tit = prompt('输入地图名称：', Tz.$options.title);\n\n    if (tit) {\n      e.printMap._container.ownerDocument.title = tit;\n    } else {\n      e.printMap._container.ownerDocument.title = Tz.$options.title;\n    }\n\n    var canvas = e.printMap.getPane('overlayPane').querySelector('canvas');\n\n    if (canvas) {\n      canvas.style.border = '2px solid #666666';\n      canvas.style.width = parseInt(canvas.style.width.replace('px', '')) - 3 + 'px';\n      canvas.style.height = parseInt(canvas.style.height.replace('px', '')) - 3 + 'px';\n    }\n  });\n  T.map.on('browser-print-end', function (e) {\n    document.title = Tz.$options.title;\n    location.reload();\n  });\n\n  var afterPrint = function afterPrint() {\n    Tz._clearPrint();\n\n    document.body.className = document.body.className.replace(' leaflet--printing', '');\n\n    Tz._map.invalidateSize({\n      reset: !0,\n      animate: !1,\n      pan: !1\n    });\n  };\n\n  if (window.matchMedia) {\n    var mediaQueryList = window.matchMedia('print');\n    mediaQueryList.addListener(function (mql) {\n      if (mql.matches) {} else {\n        afterPrint();\n      }\n    });\n  }\n\n  window.onafterprint = afterPrint;\n  return Tz;\n};\n\nexports.printer = printer;\n\n//# sourceURL=webpack://tmap/./src/controls/Printer.js?");

/***/ }),

/***/ "./src/controls/ScaleBar.js":
/*!**********************************!*\
  !*** ./src/controls/ScaleBar.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.scaleBar = void 0;\n\n__webpack_require__(/*! ../plugins/scalebar/L.Control.BetterScale.css */ \"./src/plugins/scalebar/L.Control.BetterScale.css\");\n\n__webpack_require__(/*! ../plugins/scalebar/L.Control.BetterScale */ \"./src/plugins/scalebar/L.Control.BetterScale.js\");\n\nvar scaleBarOpt = {\n  show: true,\n  activate: true,\n  opt: {\n    position: 'bottomright',\n    metric: true,\n    imperial: false\n  }\n};\n\nvar scaleBar = function scaleBar() {\n  var opt = Object.assign({}, scaleBarOpt.opt);\n  var Tz = L.control.betterscale(opt);\n  Tz._leaflet_id = 'scalebar_control';\n\n  Tz.__proto__.show = function () {\n    this.$options.show = true;\n  };\n\n  Tz.__proto__.hide = function () {\n    this.$options.show = false;\n  };\n\n  Tz.$options = new Proxy(Object.assign({}, scaleBarOpt), {\n    set: function set(target, p, value, receiver) {\n      Reflect.set(target, p, value, receiver);\n\n      if (p === 'show') {\n        if (value) {\n          Tz.$options.activate = true;\n          Tz._container.style.display = 'block';\n        } else {\n          Tz.$options.activate = false;\n          Tz._container.style.display = 'none';\n        }\n      }\n\n      return true;\n    }\n  });\n  return Tz;\n};\n\nexports.scaleBar = scaleBar;\n\n//# sourceURL=webpack://tmap/./src/controls/ScaleBar.js?");

/***/ }),

/***/ "./src/controls/Zoom.js":
/*!******************************!*\
  !*** ./src/controls/Zoom.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.zoomControl = void 0;\nvar zoomOpt = {\n  show: true,\n  activate: true,\n  opt: {\n    position: 'topleft',\n    zoomInText: '+',\n    zoomInTitle: 'Zoom in',\n    zoomOutText: '&#x2212\t',\n    zoomOutTitle: 'Zoom out'\n  }\n};\n\nvar zoomControl = function zoomControl() {\n  var opt = Object.assign({}, zoomOpt.opt);\n  var Tz = L.control.zoom(opt);\n\n  Tz.__proto__.show = function () {\n    this.$options.show = true;\n  };\n\n  Tz.__proto__.hide = function () {\n    this.$options.show = false;\n  };\n\n  Tz.$options = new Proxy(Object.assign({}, zoomOpt), {\n    set: function set(target, p, value, receiver) {\n      Reflect.set(target, p, value, receiver);\n\n      if (p === 'show') {\n        if (value) {\n          Tz.$options.activate = true;\n          Tz._container.style.display = 'block';\n        } else {\n          Tz.$options.activate = false;\n          Tz._container.style.display = 'none';\n        }\n      }\n\n      return true;\n    }\n  });\n  return Tz;\n};\n\nexports.zoomControl = zoomControl;\n\n//# sourceURL=webpack://tmap/./src/controls/Zoom.js?");

/***/ }),

/***/ "./src/core/ControlManager.js":
/*!************************************!*\
  !*** ./src/core/ControlManager.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _TMap = _interopRequireDefault(__webpack_require__(/*! ./TMap */ \"./src/core/TMap.js\"));\n\nvar _Zoom = __webpack_require__(/*! ../controls/Zoom */ \"./src/controls/Zoom.js\");\n\nvar _Graticule = __webpack_require__(/*! ../controls/Graticule */ \"./src/controls/Graticule.js\");\n\nvar _ScaleBar = __webpack_require__(/*! ../controls/ScaleBar */ \"./src/controls/ScaleBar.js\");\n\nvar _Position = __webpack_require__(/*! ../controls/Position */ \"./src/controls/Position.js\");\n\nvar _Printer = __webpack_require__(/*! ../controls/Printer */ \"./src/controls/Printer.js\");\n\nvar _Measure = __webpack_require__(/*! ../controls/Measure */ \"./src/controls/Measure.js\");\n\nvar _Drawer = __webpack_require__(/*! ../controls/Drawer */ \"./src/controls/Drawer.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar controls = {\n  zoom: _Zoom.zoomControl,\n  measure: _Measure.measure,\n  drawer: _Drawer.drawerPlugin,\n  scaleBar: _ScaleBar.scaleBar,\n  graticule: _Graticule.latLngGraticule,\n  printer: _Printer.printer,\n  pointer: _Position.pointer,\n  legend: '',\n  cts: {},\n  init: function init() {\n    _TMap.default.map.addControl = new Proxy(_TMap.default.map.addControl, {\n      apply: function apply(target, _this, argArray) {\n        var result = Reflect.apply.apply(Reflect, arguments);\n\n        if (argArray.length > 0 && argArray[0].hasOwnProperty('_leaflet_id')) {\n          var ct = argArray[0];\n          _TMap.default.controls.cts[ct._leaflet_id] = ct;\n        }\n\n        return result;\n      }\n    });\n    _TMap.default.map.removeControl = new Proxy(_TMap.default.map.removeControl, {\n      apply: function apply(target, _this, argArray) {\n        var result = Reflect.apply.apply(Reflect, arguments);\n\n        if (argArray.length > 0 && argArray[0].hasOwnProperty('_leaflet_id')) {\n          var ct = argArray[0];\n\n          if (_TMap.default.controls.cts[ct._leaflet_id]) {\n            delete _TMap.default.controls.cts[ct._leaflet_id];\n          }\n        }\n\n        return result;\n      }\n    });\n  },\n  addControl: function addControl(control, type) {\n    var ct = _TMap.default.map.addControl(control);\n\n    this.cts[type] = ct;\n    return ct;\n  },\n  removeControl: function removeControl(ct) {\n    if (_typeof(ct) === 'object') {\n      _TMap.default.map.removeControl(ct);\n\n      for (var k in this.cts) {\n        var tmpCt = this.cts[k];\n\n        if (tmpCt._leaflet_id === ct._leaflet_id) {\n          delete this.cts[k];\n          break;\n        }\n      }\n    } else {\n      var _tmpCt = this.cts[ct];\n\n      if (_tmpCt !== undefined) {\n        _TMap.default.map.removeControl(_tmpCt);\n\n        delete this.cts[ct];\n      }\n    }\n  },\n  hide: function hide(ct) {\n    ct.hide();\n  },\n  show: function show(ct) {\n    ct.show();\n  },\n  hideAll: function hideAll() {\n    for (var k in this.cts) {\n      this.cts[k].hide();\n    }\n  },\n  showAll: function showAll() {\n    for (var k in this.cts) {\n      this.cts[k].show();\n    }\n  }\n};\nvar _default = controls;\nexports.default = _default;\nmodule.exports = exports[\"default\"];\n\n//# sourceURL=webpack://tmap/./src/core/ControlManager.js?");

/***/ }),

/***/ "./src/core/TMap.js":
/*!**************************!*\
  !*** ./src/core/TMap.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _MapOption = _interopRequireDefault(__webpack_require__(/*! ../component/MapOption */ \"./src/component/MapOption.js\"));\n\nvar _TRectangle = __webpack_require__(/*! ../component/TRectangle */ \"./src/component/TRectangle.js\");\n\nvar _TCircle = __webpack_require__(/*! ../component/TCircle */ \"./src/component/TCircle.js\");\n\nvar _TPolyline = __webpack_require__(/*! ../component/TPolyline */ \"./src/component/TPolyline.js\");\n\nvar _TCircleMarker = __webpack_require__(/*! ../component/TCircleMarker */ \"./src/component/TCircleMarker.js\");\n\nvar _TPolygon = __webpack_require__(/*! ../component/TPolygon */ \"./src/component/TPolygon.js\");\n\nvar _ControlManager = _interopRequireDefault(__webpack_require__(/*! ./ControlManager */ \"./src/core/ControlManager.js\"));\n\nvar _TIcon = __webpack_require__(/*! ../component/TIcon */ \"./src/component/TIcon.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar T = new Proxy({\n  map: null,\n  rectangle: _TRectangle.rectangle,\n  circle: _TCircle.circle,\n  circleMarker: _TCircleMarker.circleMarker,\n  marker: null,\n  polyline: _TPolyline.polyline,\n  polygon: _TPolygon.polygon,\n  controls: _ControlManager.default,\n  icon: _TIcon.icon\n}, {});\n\nT.createMap = function (dom) {\n  T.map = L.map(dom, _MapOption.default);\n  T.controls.init();\n  return T.map;\n};\n\nT.marker = function (options) {};\n\nvar _default = T;\nexports.default = _default;\nmodule.exports = exports[\"default\"];\n\n//# sourceURL=webpack://tmap/./src/core/TMap.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _TMap = _interopRequireDefault(__webpack_require__(/*! ./core/TMap */ \"./src/core/TMap.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nwindow.T = _TMap.default;\n\n//# sourceURL=webpack://tmap/./src/index.js?");

/***/ }),

/***/ "./src/plugins/draw/images/spritesheet-2x.png":
/*!****************************************************!*\
  !*** ./src/plugins/draw/images/spritesheet-2x.png ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAA8CAYAAAC6nMS5AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA16SURBVHic7d1/jBxneQfw7zNzvotdn+9sVQkxoRKoammBqqpbk6uT5mLfvHPn42yn1VFRVCEhoFH5IYpoSaUCKi1NcGkcfrbCVRFKEwG2aHLn83pmLvY2CTqT1AmCOBE0EOT4B0nBPw/snb2dp3/sLr6s77i923dud/a+H8ny7tzMo8f3eud99p133gGIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiFYGaXYCRETUPMYYrWe/MAzZX2QQ27d5OpqdABFROxgZGVlz5cqVrzuOc18QBJPNzofsYvvSYrVcgTVftZ2l6npgYODXHMc5oKoHHcfZHQTB2WbnRETpGRkZWVMoFA6IyO2qutX3/R1Z64TnO8fWOwLSzti+mSKDg4M3l0qlnSJyG4CbAFwP4ByAlwE8paoPX3fddcH4+PjP00yk5QqsrDPGvAZAHsBrReRNqvpeY8x/iMg9QRCcaXJ6ZIHv+xtUdReAHQBej/IHGABOAnhORMY6OjoempiYONe0JC3zPM84jjOqqrfi6r/3RQCPAdgXhmHUvOyaa3R01L1w4cJBALdVNq1W1THP87woir7ZzNyocWzf7PA8b4uI7E6S5A9Frqknb6j8eZOIvKNQKPzU9/1/dhznvlwuV0gjn5YbFapW09Vqu/Z9K9u2bdsNruvmUe50axUAfMV13X/I5XInlzcze2x/28lCu1b19fWt7u7u/hCAvwGwboHdL6jq7unp6T1TU1OXlyG9VAwODv5mkiR7Ady6wK6Plkqldz/yyCPfX468bBkaGuqamZm5E8DbReQNANYscMiLIrI1CILnZ280xrwHwL+hck4VkacBDLTS6HVaIxWt/Blm+zauldu3atOmTas2bNjwWRG5s7LplKp+VUQOuq77/bVr17589uzZ9SKy0XGcAVUdFZE/qOx7zHXdXWn0yy31i6sMw/4MyF6BZYy5XlWPiMhvL7BrrKpfcxznE7Uf4ixYqQWW53kbATw060NZr28nSbJzcnLyRBp5pcnzvNtE5CEAvXUecg7ArjAMH00xLWuGhoZuKpVKEwB+p85DXnRd9/ZcLvcDAOjv778un88XAChwtRMWkW+jxTpfYOV1wGxfO1q1fav6+vpWr1u3blxVtwH4uar+/fT09OcW+mJrjBkBcC+AXwdwBoAJw/AZm7m1zC+uUlyNA9g6189buZH7+/t/tbOz8wiANy7isKKqftV13U8eOnToe2nlZttKLLAqJ+qjAF69xBAnZ2Zmbj58+PApm3mlqTJydRTXFldHAUxVXvcBuLnm5+dU9c1RFP1v2jk2YmhoqKtUKj2B+jvfE0mS3D45OflD4OqcHADPh2H4F6h0wp7nva1YLOby+fz5dDKnerB9Vwzxff8BVX0bgFMAdoZheKzeg4eHh9cXi8WvAfAAvOC67ptzudz/WUvOVqBGVO7OmBCR/vn2adWOuL+/v7ezs3MSwKYlhkgAHBSRjwdB8JTF1FKx0gqsymXBxwH8XoOh/ieO41vz+fwVG3mlzRjzKF55WfA8gD8LwzA3ez/P87aLyIMAeqrbVDUfRdHty5Pp0hhjPgDgM9X3qnq/iNwPYM5RCdd1T1RPvLM63+q/ce/sTpiaj+27Mvi+f6eq/iuAi67r9uVyuWcXG6NSjB8B0KeqE1EUvcVWfk3v3OYZuXosjuPt+Xx+ull51WNgYKBHRKIlXDaaS6Kq+6Mo+lMLsVKz0gosz/M+KiKfsBTub8MwvMdSrNQYYzwAYc3m7bXFVZXv+8OqemD2NlUdiKLokbRybJQx5lsANlfefi4Mww/UedyvADgI4I9mbxeRDwdB8C92s0yHrc9wK3922b6Na+X2BYD+/v61nZ2dz6M8cX00DMP9S421ffv2V83MzDwHoNfmucuxEWSpslxcjYyMrHEcZ8xScQUAjoj8vqVYZIHv+xtE5MMWQ941PDy83mK8VIjIW2s2HZ2vuAKAIAgmADyxQIxWM3uu5J56DhgZGVkDYBw1nS+ApwB82VJeZAfbt82tWrXqPSgXV481UlwBwMGDB3+sqncDgIh81EZ+QBMLrKwXV5Uh5NoPYqMyN+m9nanqHVj4bsHF6InjeKfFeKmoLMUw+/2Ct6KLyOM1m2x/NmxbW30RhuGPFtp5jstGVU+JiNdqE57rEYahzB6lWOz7Fsf2be/2hYj8SeXlvTbiFYvFLwK4DOAWY8z1NmI2pcDKcnE1OjraWSgU9uPaD2LDRKSlJwavQCO2A4rIDtsxU7BxsQeoau2Jeak3BDTDL72kUm/n63neaFoJUkPYvm3G9/0NKN9gc7mrq6t2OsOSVGqPSQCuiAzaiLnsBVaWiysAuHDhwn4AQ2nEVtUfpBGXluwNKcRcaBmPVpDMfiMiW+o4pnafZM69MmYxnW9lsj9lCNs3m1T1tSjXL89aXo39WCX+62wEW9YCK+vFVcXLKcbmJcLW8qoUYmZhZOfFmvc3e563fb6djTFvwdUJxfPFyJx6O1/f999a6Xz5ZIwMYftm2o2Vv60+HUVETldeLnoUfy7LVmC1SXEFVf0YgFSeX5QkCQus9tfyIzsicnSObQ/6vj9cu71SXP1nPTGyplAo5FDT+arqk3Ecb5s9J0dV2flmENs3u0REgTmnJjRkVjwrd2Iuy3+adimuACCKotPGmC8A+GvLoZOZmZkXLMekBojIaVX9DcthTy+8S3MlSTIuIu+q2dyjqgeMMU8A+CYAUdUtAOa8izZJkvG081wG19xN5jjO4ByLTLrLlRBZxfbNrjMAICI3LrTjIlVHrqyMjKU+gtVOxVVVHMf/hHkWrGvAiawsQrlSqOqiF61rRkzbOjo6AsxfCG4G8FcAPvhLlih5qVgsWpl42kIyezcZ1YXtmy0/QvlqwG9V1i6zZRMAiIiV+dCpFljtWFwBQOUbzqcth+XlwdZjfRRGRMZsx7St8mT5zzcQ4r52+LKgqp9S1U8B+GTtZSPKPrZvdlXaagrAalU1NmJWCrVtAEqO4xyyETO1S4TtWlxVXbp06b7u7u6/BHCTjXiqygKrxYjIQ6p6L2Y9BqZB51etWtXyBRYAuK77hVKp9H5cnUxarzOu634xjZyWWxRFdzU7B0oP2zfbVPUbIrLFcZwPAfivRuOJyPtUdbWq5m09jzCVEax2L64AYGpq6rKq/qOteI7jsMBqMUEQnFXV3bbiqerdExMT52zFS1Mul7soIovugETkI7lc7mIaORERVRWLxS8BeElVb/F9v6EnR/i+f6Oq3gUAjuPYejSavQLLGKPVP4VC4Wd4ZXF1pKura7Bdiquq3t7efwfwnKVwLLBa0PT09B5U1kZp0BPFYvGzFuIsmyAI7kf5uWz1OhgEwTV3FLaoX5yLKosWLknNsZcayohsYvu2uUo98TEAUNW9vu8vad3CoaGhLlX9BoBeAONBEByxleNyLNPwWBzHOywvBtYS9u3bV1LVj1sKxwKrBU1NTV12XXcXgFMNhDmpqndkcF6SisifAzhRx76n4jh+Byzd3rwMjldfqOqSV+xPkmT2yvzH592RlhvbdwUIw3AvgAcArFPVcHBwcFHPBvZ9f0OpVDqA8qrwL8Rx/E6b+VkvsGqfZ9ROlwXnEkXRfgDfajCMXrx48Yc28iH7crncSVXdrKpPLvZYEXk6SZItURS1/PIMcwmC4KzjOCMAam9dn+0SgJ35fP4ny5SWDQ/Mer3HGLPoTtgYMyIiv3gOmqpmZfRuJWD7rgwax/G7UH7EzcYkSf7bGHNXX1/f6oUO9H1/Z+WcPoDysgw7bJ/DUl8Hq52LqwoVkb9T1WiRx8UoX158RlWfnJqaupxCbmRJFEWn+/r6buvu7v4ggI9g4Ynv50XknkKh8JkMjly9wqFDh77j+/6oqo4BqD1xXRaRPw6CwMZl1GXjuu6XSqXSOwH8LoD1AMaMMecA1PtF53WV4wCUC+menp699jOlpWD7rhz5fP5Kf3//UFdX132q+l4Ad3d3d7/fGPN1EZlQ1e/19PS8dPbs2fWu694kIgOqOqqqm4Dy4rKlUumOw4cPN3KVYk7WVkE1xsx5aSBLT+duhDEmQrkSnssZlIeXnxWRY6p6PI7j41nveFeq4eHh9XEc7xSRnQBej6t3kp5EuWh+OI7jh+dYsDDTfN/frKrjAKpPmv9pkiS7JicnH29mXku1devWV3d0dBxAuRNeMhF5ulgsjqRxgk7DfOfqxWr1czvbtzGt3r5zGRwc7FPV3ap6y0L7ishPAHx63bp1e/bt2xenkQ8LLEuMMZtE5JCqfhfAMwCeSZLkO2vWrDk+NjbGyZHUFjzP2yginwcAVX1fVi99Vo2OjnaeP3/+3SLydgBvBNBd56GXAHxXVR/s7e3dm9YJOg0rqQNm+y5dFtp3HmKM2QxgF8qr9b8GwA0AzgH4MYBjIjJ28eLFkFeOiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIhWgv8Hnffz4dmwY9cAAAAASUVORK5CYII=\");\n\n//# sourceURL=webpack://tmap/./src/plugins/draw/images/spritesheet-2x.png?");

/***/ }),

/***/ "./src/plugins/draw/images/spritesheet.png":
/*!*************************************************!*\
  !*** ./src/plugins/draw/images/spritesheet.png ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAAeCAYAAACWuCNnAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAG7AAABuwBHnU4NQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAbvSURBVHic7dtdbBxXFQfw/9nZ3SRKwAP7UFFUQOoHqGnUoEAoNghX9tyxVcpD1X0J+WgiUQmpfUB5ACSgG1qJIKASqBIUIauqAbWseIlqb+bOWHVR6y0FKZBEqdIUQROIREGRx3FFvR/38ODZst3a3nE8Ywfv+T2t7hzdM3fle/bOnWtACCGEEEIIIYQQQgghhBBCCCGEEEIIIcRa0EbfgBDdFItFKwzDAa3175LuWylVAvBIR/MxrXUp6Vxx9dp4VyObVEdKKW591lonXgiVUg6AHzPzk9ls9meVSmUh6RzXkz179uQKhcIgM+8CACI6U6vVnp+enm6knXt4ePiuTCbzWQAwxlSDIHg57ZwroDAMnwKwz3XdBzzPG08hxzsTNprQG2lTjtd13WFmfghAP4A+AJcATFiW9YNKpfL3uP0kUliiX4SG1pqUUpx0wXJd9/PMXAGwPWq6yMyPz8/P/7xarf4nyVwt7QV4JWkU52i8YwBu6bh0wRhzJAiCF5POCQCDg4N2Pp//NYDRjkuTxph9QRCESeYrFov5ubm5R5n5AIAPtV1aYOb7BgYGTpZKJeO67lFmPsbM9/i+/8Ja8y6zylhOYquPXhsvAJRKpczMzMwTAIaJ6LFGo+HNzs5eKRQKNxPRAWb+CoAjWuvn4vS35skWFasxAAdbbUlOYqVUPwAPwI4lLr8J4KeWZT1eqVTmksoZ5d2QghUVKx/AlmVCFph5yPf9l5LMCwBKqUksFqszRHQcAJj5GwB2MfOE7/tfTDKf4zjHiejrAE4CuNhqZ+bf2rY9FYbhGBH92/O8o47j3Oj7/uUk86+3XhsvACilHmPmgW3btn3pxIkTVzuvj4yMfNoY85wxZiQIglPd+lvTZIuq5xiAQwCe6evr218ul5tr6bNd9GiiAbyvS+hFrfVHk8oLbEzBih4Dz+G9K6t3IaLXFhYWdib5eBh911UA8wBu1lq/CQBDQ0M3WJb1OoAdRPQZz/NeSSqnUuofAKpa6/vb26MfwacA7AdwFcCdWuu/JpU3yl1C91VHoquNXhvvyMjIx4wxr1iWtbNSqfxruTjHcR4AcMj3/bu79XnNe1hpFyvHcXYT0QS6FysASHR1tVEKhcIguhQrAGDm23K53BcATCWV27KsAWYGgPOtYgUAU1NT/1RKnQewxxjzOQCJFSwANwI4297QtmLfD+AtZr43m83OJ5iz3bGU+l1OT43XGFNk5mdXKlYAYNv2eBiG31dK3aS1vrRSbOZabqRYLFppFisAIKJxAB+MGf56krk30O64gZlMJnZsHMxsoo8fHxoauqHVHn3+BAAQUaxV57Xq2F54i5nvIaJXm81mYoX5etID491JRH/sFlQul5tEdMoYc3u32FUXrLYvObViBQDM/MQqwi8knX8jEJHpHrXIGJNo8WDm1spph2VZgeu6+5RSX7YsK8D/Xnb8Psmcnebm5h7G4uS9ysxutOH8VQC70sy7UTb7eImImTnWlgkzUyaT6fr3v6qC1fGL8EytVjuQRrECANu2fwHg1TixzPyXNO5hvTHz6VWE/znJ3L7vzxBRa9PzDmb+FYBfArgjajvd39+f9vGGKwACZh5te6mwmc8KburxMvO5TCbzqW5xxWLRArDbsqyu8z32HtZSxSrNM0Hlcrnpum6JmZ+NEb4pHglrtdrz+Xz+AoBbu4Ser9fra37d3YEBfBvAkq+XmfmbpVIp9grwWnie9zSAp9PMcT3Z7OPNZrO/aTQaf1BKfbd9X7RTGIaHmPlcnPNYsVZYSikOw7AB4CAzj/f19e1fjwOMnueVEeMxJJfLbYqCNT093TDGHAGw0qHYBQBH0vj+Pc+bYOb3HFRk5nHf9yeTzgfgMhF9uEvMTQD+71/vR3pqvJOTk28AeBJAeXR09P1LxbiuuxfA9wB8LU6fsVdYrUOhtm0fTusxcAlMRN+KziUt5SqAM3v37r00OZnGfFp/QRC86DjOUCaTGWPm2zoun8fiIbuZtPLX6/UH8/n8rQDuippertfrD6aRKyqOR5VS81ji8Z+IbmfmgwB+mEb+9dZr4wWA/v7+R6rV6k+azeYpx3EezeVyJ7dv335lfn7+lkajcZCZDzPzYd/3/xSnv9gFq3UuaR2LFQDA87xAKVUB8BEAZ6N9nrNEdEZr/TcArLVOPG8aJ9jj8n3/pcHBwZ1btmx5519zmPl0vV5/Ie2V7fT09Nujo6Nus9kcA4CtW7ce1lq/nUYu27a/Mzs7CyI6gMVX/u/CzJeZ+Ue2bcc9pb1aXc8lJZms18YLANE2wkOu694N4OFGo3E8DMMPAHiDiCaY+ZOb4YCsEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhEjYfwGO+b5dFNs4OgAAAABJRU5ErkJggg==\");\n\n//# sourceURL=webpack://tmap/./src/plugins/draw/images/spritesheet.png?");

/***/ }),

/***/ "./src/plugins/draw/images/spritesheet.svg":
/*!*************************************************!*\
  !*** ./src/plugins/draw/images/spritesheet.svg ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHZpZXdCb3g9IjAgMCA2MDAgNjAiCiAgIGhlaWdodD0iNjAiCiAgIHdpZHRoPSI2MDAiCiAgIGlkPSJzdmc0MjI1IgogICB2ZXJzaW9uPSIxLjEiCiAgIGlua3NjYXBlOnZlcnNpb249IjAuOTEgcjEzNzI1IgogICBzb2RpcG9kaTpkb2NuYW1lPSJzcHJpdGVzaGVldC5zdmciCiAgIGlua3NjYXBlOmV4cG9ydC1maWxlbmFtZT0iL2hvbWUvZnB1Z2EvZGV2ZWxvcG1lbnQvdXBzdHJlYW0vaWNhcnRvLkxlYWZsZXQuZHJhdy9zcmMvaW1hZ2VzL3Nwcml0ZXNoZWV0LTJ4LnBuZyIKICAgaW5rc2NhcGU6ZXhwb3J0LXhkcGk9IjkwIgogICBpbmtzY2FwZTpleHBvcnQteWRwaT0iOTAiPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTQyNTgiPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgICAgPGRjOnRpdGxlIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0MjU2IiAvPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMSIKICAgICBvYmplY3R0b2xlcmFuY2U9IjEwIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwIgogICAgIGd1aWRldG9sZXJhbmNlPSIxMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTkyMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIxMDU2IgogICAgIGlkPSJuYW1lZHZpZXc0MjU0IgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTp6b29tPSIxLjMxMDE4NTIiCiAgICAgaW5rc2NhcGU6Y3g9IjIzNy41NjkyOCIKICAgICBpbmtzY2FwZTpjeT0iNy4yNDE5NjIxIgogICAgIGlua3NjYXBlOndpbmRvdy14PSIxOTIwIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIyNCIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIxIgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9InN2ZzQyMjUiIC8+CiAgPGcKICAgICBpZD0iZW5hYmxlZCIKICAgICBzdHlsZT0iZmlsbDojNDY0NjQ2O2ZpbGwtb3BhY2l0eToxIj4KICAgIDxnCiAgICAgICBpZD0icG9seWxpbmUiCiAgICAgICBzdHlsZT0iZmlsbDojNDY0NjQ2O2ZpbGwtb3BhY2l0eToxIj4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAxOCwzNiAwLDYgNiwwIDAsLTYgLTYsMCB6IG0gNCw0IC0yLDAgMCwtMiAyLDAgMCwyIHoiCiAgICAgICAgIGlkPSJwYXRoNDIyOSIKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgICAgc3R5bGU9ImZpbGw6IzQ2NDY0NjtmaWxsLW9wYWNpdHk6MSIgLz4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAzNiwxOCAwLDYgNiwwIDAsLTYgLTYsMCB6IG0gNCw0IC0yLDAgMCwtMiAyLDAgMCwyIHoiCiAgICAgICAgIGlkPSJwYXRoNDIzMSIKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgICAgc3R5bGU9ImZpbGw6IzQ2NDY0NjtmaWxsLW9wYWNpdHk6MSIgLz4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAyMy4xNDIsMzkuMTQ1IC0yLjI4NSwtMi4yOSAxNiwtMTUuOTk4IDIuMjg1LDIuMjg1IHoiCiAgICAgICAgIGlkPSJwYXRoNDIzMyIKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgICAgc3R5bGU9ImZpbGw6IzQ2NDY0NjtmaWxsLW9wYWNpdHk6MSIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBpZD0icG9seWdvbiIKICAgICAgIGQ9Ik0gMTAwLDI0LjU2NSA5Ny45MDQsMzkuMzk1IDgzLjA3LDQyIDc2LDI4Ljc3MyA4Ni40NjMsMTggWiIKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICBzdHlsZT0iZmlsbDojNDY0NjQ2O2ZpbGwtb3BhY2l0eToxIiAvPgogICAgPHBhdGgKICAgICAgIGlkPSJyZWN0YW5nbGUiCiAgICAgICBkPSJtIDE0MCwyMCAyMCwwIDAsMjAgLTIwLDAgeiIKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICBzdHlsZT0iZmlsbDojNDY0NjQ2O2ZpbGwtb3BhY2l0eToxIiAvPgogICAgPHBhdGgKICAgICAgIGlkPSJjaXJjbGUiCiAgICAgICBkPSJtIDIyMSwzMCBjIDAsNi4wNzggLTQuOTI2LDExIC0xMSwxMSAtNi4wNzQsMCAtMTEsLTQuOTIyIC0xMSwtMTEgMCwtNi4wNzQgNC45MjYsLTExIDExLC0xMSA2LjA3NCwwIDExLDQuOTI2IDExLDExIHoiCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgc3R5bGU9ImZpbGw6IzQ2NDY0NjtmaWxsLW9wYWNpdHk6MSIgLz4KICAgIDxwYXRoCiAgICAgICBpZD0ibWFya2VyIgogICAgICAgZD0ibSAyNzAsMTkgYyAtNC45NzEsMCAtOSw0LjAyOSAtOSw5IDAsNC45NzEgNS4wMDEsMTIgOSwxNCA0LjAwMSwtMiA5LC05LjAyOSA5LC0xNCAwLC00Ljk3MSAtNC4wMjksLTkgLTksLTkgeiBtIDAsMTIuNSBjIC0yLjQ4NCwwIC00LjUsLTIuMDE0IC00LjUsLTQuNSAwLC0yLjQ4NCAyLjAxNiwtNC41IDQuNSwtNC41IDIuNDg1LDAgNC41LDIuMDE2IDQuNSw0LjUgMCwyLjQ4NiAtMi4wMTUsNC41IC00LjUsNC41IHoiCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgc3R5bGU9ImZpbGw6IzQ2NDY0NjtmaWxsLW9wYWNpdHk6MSIgLz4KICAgIDxnCiAgICAgICBpZD0iZWRpdCIKICAgICAgIHN0eWxlPSJmaWxsOiM0NjQ2NDY7ZmlsbC1vcGFjaXR5OjEiPgogICAgICA8cGF0aAogICAgICAgICBkPSJtIDMzNywzMC4xNTYgMCwwLjQwNyAwLDUuNjA0IGMgMCwxLjY1OCAtMS4zNDQsMyAtMywzIGwgLTEwLDAgYyAtMS42NTUsMCAtMywtMS4zNDIgLTMsLTMgbCAwLC0xMCBjIDAsLTEuNjU3IDEuMzQ1LC0zIDMsLTMgbCA2LjM0NSwwIDMuMTksLTMuMTcgLTkuNTM1LDAgYyAtMy4zMTMsMCAtNiwyLjY4NyAtNiw2IGwgMCwxMCBjIDAsMy4zMTMgMi42ODcsNiA2LDYgbCAxMCwwIGMgMy4zMTQsMCA2LC0yLjY4NyA2LC02IGwgMCwtOC44MDkgLTMsMi45NjgiCiAgICAgICAgIGlkPSJwYXRoNDI0MCIKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgICAgc3R5bGU9ImZpbGw6IzQ2NDY0NjtmaWxsLW9wYWNpdHk6MSIgLz4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAzMzguNzIsMjQuNjM3IC04Ljg5Miw4Ljg5MiAtMi44MjgsMCAwLC0yLjgyOSA4Ljg5LC04Ljg5IHoiCiAgICAgICAgIGlkPSJwYXRoNDI0MiIKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgICAgc3R5bGU9ImZpbGw6IzQ2NDY0NjtmaWxsLW9wYWNpdHk6MSIgLz4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAzMzguNjk3LDE3LjgyNiA0LDAgMCw0IC00LDAgeiIKICAgICAgICAgdHJhbnNmb3JtPSJtYXRyaXgoLTAuNzA2OTgzMzYsLTAuNzA3MjMwMTgsMC43MDcyMzAxOCwtMC43MDY5ODMzNiw1NjcuNTU5MTcsMjc0Ljc4MjczKSIKICAgICAgICAgaWQ9InBhdGg0MjQ0IgogICAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgICBzdHlsZT0iZmlsbDojNDY0NjQ2O2ZpbGwtb3BhY2l0eToxIiAvPgogICAgPC9nPgogICAgPGcKICAgICAgIGlkPSJyZW1vdmUiCiAgICAgICBzdHlsZT0iZmlsbDojNDY0NjQ2O2ZpbGwtb3BhY2l0eToxIj4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAzODEsNDIgMTgsMCAwLC0xOCAtMTgsMCAwLDE4IHogbSAxNCwtMTYgMiwwIDAsMTQgLTIsMCAwLC0xNCB6IG0gLTQsMCAyLDAgMCwxNCAtMiwwIDAsLTE0IHogbSAtNCwwIDIsMCAwLDE0IC0yLDAgMCwtMTQgeiBtIC00LDAgMiwwIDAsMTQgLTIsMCAwLC0xNCB6IgogICAgICAgICBpZD0icGF0aDQyNDciCiAgICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICAgIHN0eWxlPSJmaWxsOiM0NjQ2NDY7ZmlsbC1vcGFjaXR5OjEiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIGQ9Im0gMzk1LDIwIDAsLTQgLTEwLDAgMCw0IC02LDAgMCwyIDIyLDAgMCwtMiAtNiwwIHogbSAtMiwwIC02LDAgMCwtMiA2LDAgMCwyIHoiCiAgICAgICAgIGlkPSJwYXRoNDI0OSIKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgICAgc3R5bGU9ImZpbGw6IzQ2NDY0NjtmaWxsLW9wYWNpdHk6MSIgLz4KICAgIDwvZz4KICA8L2c+CiAgPGcKICAgICBpZD0iZGlzYWJsZWQiCiAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTIwLDApIgogICAgIHN0eWxlPSJmaWxsOiNiYmJiYmIiPgogICAgPHVzZQogICAgICAgeGxpbms6aHJlZj0iI2VkaXQiCiAgICAgICBpZD0iZWRpdC1kaXNhYmxlZCIKICAgICAgIHg9IjAiCiAgICAgICB5PSIwIgogICAgICAgd2lkdGg9IjEwMCUiCiAgICAgICBoZWlnaHQ9IjEwMCUiIC8+CiAgICA8dXNlCiAgICAgICB4bGluazpocmVmPSIjcmVtb3ZlIgogICAgICAgaWQ9InJlbW92ZS1kaXNhYmxlZCIKICAgICAgIHg9IjAiCiAgICAgICB5PSIwIgogICAgICAgd2lkdGg9IjEwMCUiCiAgICAgICBoZWlnaHQ9IjEwMCUiIC8+CiAgPC9nPgogIDxwYXRoCiAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzQ2NDY0NjtzdHJva2Utd2lkdGg6MjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgIGlkPSJjaXJjbGUtMyIKICAgICBkPSJtIDU4MS42NTcyNSwzMCBjIDAsNi4wNzggLTQuOTI2LDExIC0xMSwxMSAtNi4wNzQsMCAtMTEsLTQuOTIyIC0xMSwtMTEgMCwtNi4wNzQgNC45MjYsLTExIDExLC0xMSA2LjA3NCwwIDExLDQuOTI2IDExLDExIHoiCiAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIgLz4KPC9zdmc+Cg==\");\n\n//# sourceURL=webpack://tmap/./src/plugins/draw/images/spritesheet.svg?");

/***/ }),

/***/ "./src/plugins/draw/leaflet.draw-src.js":
/*!**********************************************!*\
  !*** ./src/plugins/draw/leaflet.draw-src.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\n Leaflet.draw 1.0.3+, a plugin that adds drawing and editing tools to Leaflet powered maps.\n (c) 2012-2017, Jacob Toye, Jon West, Smartrak, Leaflet\n\n https://github.com/Leaflet/Leaflet.draw\n http://leafletjs.com\n */\n(function (window, document, undefined) {\n  /**\n   * Leaflet.draw assumes that you have already included the Leaflet library.\n   */\n  L.drawVersion = '1.0.3+';\n  /**\n   * @class L.Draw\n   * @aka Draw\n   *\n   *\n   * To add the draw toolbar set the option drawControl: true in the map options.\n   *\n   * @example\n   * ```js\n   *      var map = L.map('map', {drawControl: true}).setView([51.505, -0.09], 13);\n   *\n   *      L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {\n   *          attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n   *      }).addTo(map);\n   * ```\n   *\n   * ### Adding the edit toolbar\n   * To use the edit toolbar you must initialise the Leaflet.draw control and manually add it to the map.\n   *\n   * ```js\n   *      var map = L.map('map').setView([51.505, -0.09], 13);\n   *\n   *      L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {\n   *          attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n   *      }).addTo(map);\n   *\n   *      // FeatureGroup is to store editable layers\n   *      var drawnItems = new L.FeatureGroup();\n   *      map.addLayer(drawnItems);\n   *\n   *      var drawControl = new L.Control.Draw({\n   *          edit: {\n   *              featureGroup: drawnItems\n   *          }\n   *      });\n   *      map.addControl(drawControl);\n   * ```\n   *\n   * The key here is the featureGroup option. This tells the plugin which FeatureGroup contains the layers that\n   * should be editable. The featureGroup can contain 0 or more features with geometry types Point, LineString, and Polygon.\n   * Leaflet.draw does not work with multigeometry features such as MultiPoint, MultiLineString, MultiPolygon,\n   * or GeometryCollection. If you need to add multigeometry features to the draw plugin, convert them to a\n   * FeatureCollection of non-multigeometries (Points, LineStrings, or Polygons).\n   */\n\n  L.Draw = {};\n  /**\n   * @class L.drawLocal\n   * @aka L.drawLocal\n   *\n   * The core toolbar class of the API — it is used to create the toolbar ui\n   *\n   * @example\n   * ```js\n   *      var modifiedDraw = L.drawLocal.extend({\n   *          draw: {\n   *              toolbar: {\n   *                  buttons: {\n   *                      polygon: 'Draw an awesome polygon'\n   *                  }\n   *              }\n   *          }\n   *      });\n   * ```\n   *\n   * The default state for the control is the draw toolbar just below the zoom control.\n   *  This will allow map users to draw vectors and markers.\n   *  **Please note the edit toolbar is not enabled by default.**\n   */\n\n  L.drawLocal = {\n    // format: {\n    // \tnumeric: {\n    // \t\tdelimiters: {\n    // \t\t\tthousands: ',',\n    // \t\t\tdecimal: '.'\n    // \t\t}\n    // \t}\n    // },\n    draw: {\n      toolbar: {\n        // #TODO: this should be reorganized where actions are nested in actions\n        // ex: actions.undo  or actions.cancel\n        actions: {\n          title: 'Cancel drawing',\n          text: 'Cancel'\n        },\n        finish: {\n          title: 'Finish drawing',\n          text: 'Finish'\n        },\n        undo: {\n          title: 'Delete last point drawn',\n          text: 'Delete last point'\n        },\n        buttons: {\n          polyline: 'Draw a polyline',\n          polygon: 'Draw a polygon',\n          rectangle: 'Draw a rectangle',\n          circle: 'Draw a circle',\n          marker: 'Draw a marker',\n          circlemarker: 'Draw a circlemarker'\n        }\n      },\n      handlers: {\n        circle: {\n          tooltip: {\n            start: 'Click and drag to draw circle.'\n          },\n          radius: 'Radius'\n        },\n        circlemarker: {\n          tooltip: {\n            start: 'Click map to place circle marker.'\n          }\n        },\n        marker: {\n          tooltip: {\n            start: 'Click map to place marker.'\n          }\n        },\n        polygon: {\n          tooltip: {\n            start: 'Click to start drawing shape.',\n            cont: 'Click to continue drawing shape.',\n            end: 'Click first point to close this shape.'\n          }\n        },\n        polyline: {\n          error: '<strong>Error:</strong> shape edges cannot cross!',\n          tooltip: {\n            start: 'Click to start drawing line.',\n            cont: 'Click to continue drawing line.',\n            end: 'Click last point to finish line.'\n          }\n        },\n        rectangle: {\n          tooltip: {\n            start: 'Click and drag to draw rectangle.'\n          }\n        },\n        simpleshape: {\n          tooltip: {\n            end: 'Release mouse to finish drawing.'\n          }\n        }\n      }\n    },\n    edit: {\n      toolbar: {\n        actions: {\n          save: {\n            title: 'Save changes',\n            text: 'Save'\n          },\n          cancel: {\n            title: 'Cancel editing, discards all changes',\n            text: 'Cancel'\n          },\n          clearAll: {\n            title: 'Clear all layers',\n            text: 'Clear All'\n          }\n        },\n        buttons: {\n          edit: 'Edit layers',\n          editDisabled: 'No layers to edit',\n          remove: 'Delete layers',\n          removeDisabled: 'No layers to delete'\n        }\n      },\n      handlers: {\n        edit: {\n          tooltip: {\n            text: 'Drag handles or markers to edit features.',\n            subtext: 'Click cancel to undo changes.'\n          }\n        },\n        remove: {\n          tooltip: {\n            text: 'Click on a feature to remove.'\n          }\n        }\n      }\n    }\n  };\n  /**\n   * ### Events\n   * Once you have successfully added the Leaflet.draw plugin to your map you will want to respond to the different\n   * actions users can initiate. The following events will be triggered on the map:\n   *\n   * @class L.Draw.Event\n   * @aka Draw.Event\n   *\n   * Use `L.Draw.Event.EVENTNAME` constants to ensure events are correct.\n   *\n   * @example\n   * ```js\n   * map.on(L.Draw.Event.CREATED; function (e) {\n   *    var type = e.layerType,\n   *        layer = e.layer;\n   *\n   *    if (type === 'marker') {\n   *        // Do marker specific actions\n   *    }\n   *\n   *    // Do whatever else you need to. (save to db; add to map etc)\n   *    map.addLayer(layer);\n   *});\n   * ```\n   */\n\n  L.Draw.Event = {};\n  /**\n   * @event draw:created: PolyLine; Polygon; Rectangle; Circle; Marker | String\n   *\n   * Layer that was just created.\n   * The type of layer this is. One of: `polyline`; `polygon`; `rectangle`; `circle`; `marker`\n   * Triggered when a new vector or marker has been created.\n   *\n   */\n\n  L.Draw.Event.CREATED = 'draw:created';\n  /**\n   * @event draw:edited: LayerGroup\n   *\n   * List of all layers just edited on the map.\n   *\n   *\n   * Triggered when layers in the FeatureGroup; initialised with the plugin; have been edited and saved.\n   *\n   * @example\n   * ```js\n   *      map.on('draw:edited', function (e) {\n   *          var layers = e.layers;\n   *          layers.eachLayer(function (layer) {\n   *              //do whatever you want; most likely save back to db\n   *          });\n   *      });\n   * ```\n   */\n\n  L.Draw.Event.EDITED = 'draw:edited';\n  /**\n   * @event draw:deleted: LayerGroup\n   *\n   * List of all layers just removed from the map.\n   *\n   * Triggered when layers have been removed (and saved) from the FeatureGroup.\n   */\n\n  L.Draw.Event.DELETED = 'draw:deleted';\n  /**\n   * @event draw:drawstart: String\n   *\n   * The type of layer this is. One of:`polyline`; `polygon`; `rectangle`; `circle`; `marker`\n   *\n   * Triggered when the user has chosen to draw a particular vector or marker.\n   */\n\n  L.Draw.Event.DRAWSTART = 'draw:drawstart';\n  /**\n   * @event draw:drawstop: String\n   *\n   * The type of layer this is. One of: `polyline`; `polygon`; `rectangle`; `circle`; `marker`\n   *\n   * Triggered when the user has finished a particular vector or marker.\n   */\n\n  L.Draw.Event.DRAWSTOP = 'draw:drawstop';\n  /**\n   * @event draw:drawvertex: LayerGroup\n   *\n   * List of all layers just being added from the map.\n   *\n   * Triggered when a vertex is created on a polyline or polygon.\n   */\n\n  L.Draw.Event.DRAWVERTEX = 'draw:drawvertex';\n  /**\n   * @event draw:editstart: String\n   *\n   * The type of edit this is. One of: `edit`\n   *\n   * Triggered when the user starts edit mode by clicking the edit tool button.\n   */\n\n  L.Draw.Event.EDITSTART = 'draw:editstart';\n  /**\n   * @event draw:editmove: ILayer\n   *\n   *  Layer that was just moved.\n   *\n   * Triggered as the user moves a rectangle; circle or marker.\n   */\n\n  L.Draw.Event.EDITMOVE = 'draw:editmove';\n  /**\n   * @event draw:editresize: ILayer\n   *\n   * Layer that was just moved.\n   *\n   * Triggered as the user resizes a rectangle or circle.\n   */\n\n  L.Draw.Event.EDITRESIZE = 'draw:editresize';\n  /**\n   * @event draw:editvertex: LayerGroup\n   *\n   * List of all layers just being edited from the map.\n   *\n   * Triggered when a vertex is edited on a polyline or polygon.\n   */\n\n  L.Draw.Event.EDITVERTEX = 'draw:editvertex';\n  /**\n   * @event draw:editstop: String\n   *\n   * The type of edit this is. One of: `edit`\n   *\n   * Triggered when the user has finshed editing (edit mode) and saves edits.\n   */\n\n  L.Draw.Event.EDITSTOP = 'draw:editstop';\n  /**\n   * @event draw:deletestart: String\n   *\n   * The type of edit this is. One of: `remove`\n   *\n   * Triggered when the user starts remove mode by clicking the remove tool button.\n   */\n\n  L.Draw.Event.DELETESTART = 'draw:deletestart';\n  /**\n   * @event draw:deletestop: String\n   *\n   * The type of edit this is. One of: `remove`\n   *\n   * Triggered when the user has finished removing shapes (remove mode) and saves.\n   */\n\n  L.Draw.Event.DELETESTOP = 'draw:deletestop';\n  /**\n   * @event draw:toolbaropened: String\n   *\n   * Triggered when a toolbar is opened.\n   */\n\n  L.Draw.Event.TOOLBAROPENED = 'draw:toolbaropened';\n  /**\n   * @event draw:toolbarclosed: String\n   *\n   * Triggered when a toolbar is closed.\n   */\n\n  L.Draw.Event.TOOLBARCLOSED = 'draw:toolbarclosed';\n  /**\n   * @event draw:markercontext: String\n   *\n   * Triggered when a marker is right clicked.\n   */\n\n  L.Draw.Event.MARKERCONTEXT = 'draw:markercontext';\n  L.Draw = L.Draw || {};\n  /**\n   * @class L.Draw.Feature\n   * @aka Draw.Feature\n   */\n\n  L.Draw.Feature = L.Handler.extend({\n    // @method initialize(): void\n    initialize: function initialize(map, options) {\n      this._map = map;\n      this._container = map._container;\n      this._overlayPane = map._panes.overlayPane;\n      this._popupPane = map._panes.popupPane; // Merge default shapeOptions options with custom shapeOptions\n\n      if (options && options.shapeOptions) {\n        options.shapeOptions = L.Util.extend({}, this.options.shapeOptions, options.shapeOptions);\n      }\n\n      L.setOptions(this, options);\n      var version = L.version.split('.'); //If Version is >= 1.2.0\n\n      if (parseInt(version[0], 10) === 1 && parseInt(version[1], 10) >= 2) {\n        L.Draw.Feature.include(L.Evented.prototype);\n      } else {\n        L.Draw.Feature.include(L.Mixin.Events);\n      }\n    },\n    // @method enable(): void\n    // Enables this handler\n    enable: function enable() {\n      if (this._enabled) {\n        return;\n      }\n\n      L.Handler.prototype.enable.call(this);\n      this.fire('enabled', {\n        handler: this.type\n      });\n\n      this._map.fire(L.Draw.Event.DRAWSTART, {\n        layerType: this.type\n      });\n    },\n    // @method disable(): void\n    disable: function disable() {\n      if (!this._enabled) {\n        return;\n      }\n\n      L.Handler.prototype.disable.call(this);\n\n      this._map.fire(L.Draw.Event.DRAWSTOP, {\n        layerType: this.type\n      });\n\n      this.fire('disabled', {\n        handler: this.type\n      });\n    },\n    // @method addHooks(): void\n    // Add's event listeners to this handler\n    addHooks: function addHooks() {\n      var map = this._map;\n\n      if (map) {\n        L.DomUtil.disableTextSelection();\n        map.getContainer().focus();\n        this._tooltip = new L.Draw.Tooltip(this._map);\n        L.DomEvent.on(this._container, 'keyup', this._cancelDrawing, this);\n      }\n    },\n    // @method removeHooks(): void\n    // Removes event listeners from this handler\n    removeHooks: function removeHooks() {\n      if (this._map) {\n        L.DomUtil.enableTextSelection();\n\n        this._tooltip.dispose();\n\n        this._tooltip = null;\n        L.DomEvent.off(this._container, 'keyup', this._cancelDrawing, this);\n      }\n    },\n    // @method setOptions(object): void\n    // Sets new options to this handler\n    setOptions: function setOptions(options) {\n      L.setOptions(this, options);\n    },\n    _fireCreatedEvent: function _fireCreatedEvent(layer) {\n      this._map.fire(L.Draw.Event.CREATED, {\n        layer: layer,\n        layerType: this.type\n      });\n    },\n    // Cancel drawing when the escape key is pressed\n    _cancelDrawing: function _cancelDrawing(e) {\n      if (e.keyCode === 27) {\n        this._map.fire('draw:canceled', {\n          layerType: this.type\n        });\n\n        this.disable();\n      }\n    }\n  });\n  /**\n   * @class L.Draw.Polyline\n   * @aka Draw.Polyline\n   * @inherits L.Draw.Feature\n   */\n\n  L.Draw.Polyline = L.Draw.Feature.extend({\n    statics: {\n      TYPE: 'polyline'\n    },\n    Poly: L.Polyline,\n    options: {\n      allowIntersection: true,\n      repeatMode: false,\n      drawError: {\n        color: '#b00b00',\n        timeout: 2500\n      },\n      icon: new L.DivIcon({\n        iconSize: new L.Point(8, 8),\n        className: 'leaflet-div-icon leaflet-editing-icon'\n      }),\n      touchIcon: new L.DivIcon({\n        iconSize: new L.Point(20, 20),\n        className: 'leaflet-div-icon leaflet-editing-icon leaflet-touch-icon'\n      }),\n      guidelineDistance: 20,\n      maxGuideLineLength: 4000,\n      shapeOptions: {\n        stroke: true,\n        color: '#3388ff',\n        weight: 4,\n        opacity: 0.5,\n        fill: false,\n        clickable: true\n      },\n      metric: true,\n      // Whether to use the metric measurement system or imperial\n      feet: true,\n      // When not metric, to use feet instead of yards for display.\n      nautic: false,\n      // When not metric, not feet use nautic mile for display\n      showLength: true,\n      // Whether to display distance in the tooltip\n      zIndexOffset: 2000,\n      // This should be > than the highest z-index any map layers\n      factor: 1,\n      // To change distance calculation\n      maxPoints: 0 // Once this number of points are placed, finish shape\n\n    },\n    // @method initialize(): void\n    initialize: function initialize(map, options) {\n      // if touch, switch to touch icon\n      if (L.Browser.touch) {\n        this.options.icon = this.options.touchIcon;\n      } // Need to set this here to ensure the correct message is used.\n\n\n      this.options.drawError.message = L.drawLocal.draw.handlers.polyline.error; // Merge default drawError options with custom options\n\n      if (options && options.drawError) {\n        options.drawError = L.Util.extend({}, this.options.drawError, options.drawError);\n      } // Save the type so super can fire, need to do this as cannot do this.TYPE :(\n\n\n      this.type = L.Draw.Polyline.TYPE;\n      L.Draw.Feature.prototype.initialize.call(this, map, options);\n    },\n    // @method addHooks(): void\n    // Add listener hooks to this handler\n    addHooks: function addHooks() {\n      L.Draw.Feature.prototype.addHooks.call(this);\n\n      if (this._map) {\n        this._markers = [];\n        this._markerGroup = new L.LayerGroup();\n\n        this._map.addLayer(this._markerGroup);\n\n        this._poly = new L.Polyline([], this.options.shapeOptions);\n\n        this._tooltip.updateContent(this._getTooltipText()); // Make a transparent marker that will used to catch click events. These click\n        // events will create the vertices. We need to do this so we can ensure that\n        // we can create vertices over other map layers (markers, vector layers). We\n        // also do not want to trigger any click handlers of objects we are clicking on\n        // while drawing.\n\n\n        if (!this._mouseMarker) {\n          this._mouseMarker = L.marker(this._map.getCenter(), {\n            icon: L.divIcon({\n              className: 'leaflet-mouse-marker',\n              iconAnchor: [20, 20],\n              iconSize: [40, 40]\n            }),\n            opacity: 0,\n            zIndexOffset: this.options.zIndexOffset\n          });\n        }\n\n        this._mouseMarker.on('mouseout', this._onMouseOut, this).on('mousemove', this._onMouseMove, this) // Necessary to prevent 0.8 stutter\n        .on('mousedown', this._onMouseDown, this).on('mouseup', this._onMouseUp, this) // Necessary for 0.8 compatibility\n        .addTo(this._map);\n\n        this._map.on('mouseup', this._onMouseUp, this) // Necessary for 0.7 compatibility\n        .on('mousemove', this._onMouseMove, this).on('zoomlevelschange', this._onZoomEnd, this).on('touchstart', this._onTouch, this).on('zoomend', this._onZoomEnd, this);\n      }\n    },\n    // @method removeHooks(): void\n    // Remove listener hooks from this handler.\n    removeHooks: function removeHooks() {\n      L.Draw.Feature.prototype.removeHooks.call(this);\n\n      this._clearHideErrorTimeout();\n\n      this._cleanUpShape(); // remove markers from map\n\n\n      this._map.removeLayer(this._markerGroup);\n\n      delete this._markerGroup;\n      delete this._markers;\n\n      this._map.removeLayer(this._poly);\n\n      delete this._poly;\n\n      this._mouseMarker.off('mousedown', this._onMouseDown, this).off('mouseout', this._onMouseOut, this).off('mouseup', this._onMouseUp, this).off('mousemove', this._onMouseMove, this);\n\n      this._map.removeLayer(this._mouseMarker);\n\n      delete this._mouseMarker; // clean up DOM\n\n      this._clearGuides();\n\n      this._map.off('mouseup', this._onMouseUp, this).off('mousemove', this._onMouseMove, this).off('zoomlevelschange', this._onZoomEnd, this).off('zoomend', this._onZoomEnd, this).off('touchstart', this._onTouch, this).off('click', this._onTouch, this);\n    },\n    // @method deleteLastVertex(): void\n    // Remove the last vertex from the polyline, removes polyline from map if only one point exists.\n    deleteLastVertex: function deleteLastVertex() {\n      if (this._markers.length <= 1) {\n        return;\n      }\n\n      var lastMarker = this._markers.pop(),\n          poly = this._poly,\n          // Replaces .spliceLatLngs()\n      latlngs = poly.getLatLngs(),\n          latlng = latlngs.splice(-1, 1)[0];\n\n      this._poly.setLatLngs(latlngs);\n\n      this._markerGroup.removeLayer(lastMarker);\n\n      if (poly.getLatLngs().length < 2) {\n        this._map.removeLayer(poly);\n      }\n\n      this._vertexChanged(latlng, false);\n    },\n    // @method addVertex(): void\n    // Add a vertex to the end of the polyline\n    addVertex: function addVertex(latlng) {\n      var markersLength = this._markers.length; // markersLength must be greater than or equal to 2 before intersections can occur\n\n      if (markersLength >= 2 && !this.options.allowIntersection && this._poly.newLatLngIntersects(latlng)) {\n        this._showErrorTooltip();\n\n        return;\n      } else if (this._errorShown) {\n        this._hideErrorTooltip();\n      }\n\n      this._markers.push(this._createMarker(latlng));\n\n      this._poly.addLatLng(latlng);\n\n      if (this._poly.getLatLngs().length === 2) {\n        this._map.addLayer(this._poly);\n      }\n\n      this._vertexChanged(latlng, true);\n    },\n    // @method completeShape(): void\n    // Closes the polyline between the first and last points\n    completeShape: function completeShape() {\n      if (this._markers.length <= 1 || !this._shapeIsValid()) {\n        return;\n      }\n\n      this._fireCreatedEvent();\n\n      this.disable();\n\n      if (this.options.repeatMode) {\n        this.enable();\n      }\n    },\n    _finishShape: function _finishShape() {\n      var latlngs = this._poly._defaultShape ? this._poly._defaultShape() : this._poly.getLatLngs();\n\n      var intersects = this._poly.newLatLngIntersects(latlngs[latlngs.length - 1]);\n\n      if (!this.options.allowIntersection && intersects || !this._shapeIsValid()) {\n        this._showErrorTooltip();\n\n        return;\n      }\n\n      this._fireCreatedEvent();\n\n      this.disable();\n\n      if (this.options.repeatMode) {\n        this.enable();\n      }\n    },\n    // Called to verify the shape is valid when the user tries to finish it\n    // Return false if the shape is not valid\n    _shapeIsValid: function _shapeIsValid() {\n      return true;\n    },\n    _onZoomEnd: function _onZoomEnd() {\n      if (this._markers !== null) {\n        this._updateGuide();\n      }\n    },\n    _onMouseMove: function _onMouseMove(e) {\n      var newPos = this._map.mouseEventToLayerPoint(e.originalEvent);\n\n      var latlng = this._map.layerPointToLatLng(newPos); // Save latlng\n      // should this be moved to _updateGuide() ?\n\n\n      this._currentLatLng = latlng;\n\n      this._updateTooltip(latlng); // Update the guide line\n\n\n      this._updateGuide(newPos); // Update the mouse marker position\n\n\n      this._mouseMarker.setLatLng(latlng);\n\n      L.DomEvent.preventDefault(e.originalEvent);\n    },\n    _vertexChanged: function _vertexChanged(latlng, added) {\n      this._map.fire(L.Draw.Event.DRAWVERTEX, {\n        layers: this._markerGroup\n      });\n\n      this._updateFinishHandler();\n\n      this._updateRunningMeasure(latlng, added);\n\n      this._clearGuides();\n\n      this._updateTooltip();\n    },\n    _onMouseDown: function _onMouseDown(e) {\n      if (!this._clickHandled && !this._touchHandled && !this._disableMarkers) {\n        this._onMouseMove(e);\n\n        this._clickHandled = true;\n\n        this._disableNewMarkers();\n\n        var originalEvent = e.originalEvent;\n        var clientX = originalEvent.clientX;\n        var clientY = originalEvent.clientY;\n\n        this._startPoint.call(this, clientX, clientY);\n      }\n    },\n    _startPoint: function _startPoint(clientX, clientY) {\n      this._mouseDownOrigin = L.point(clientX, clientY);\n    },\n    _onMouseUp: function _onMouseUp(e) {\n      var originalEvent = e.originalEvent;\n      var clientX = originalEvent.clientX;\n      var clientY = originalEvent.clientY;\n\n      this._endPoint.call(this, clientX, clientY, e);\n\n      this._clickHandled = null;\n    },\n    _endPoint: function _endPoint(clientX, clientY, e) {\n      if (this._mouseDownOrigin) {\n        var dragCheckDistance = L.point(clientX, clientY).distanceTo(this._mouseDownOrigin);\n\n        var lastPtDistance = this._calculateFinishDistance(e.latlng);\n\n        if (this.options.maxPoints > 1 && this.options.maxPoints == this._markers.length + 1) {\n          this.addVertex(e.latlng);\n\n          this._finishShape();\n        } else if (lastPtDistance < 10 && L.Browser.touch) {\n          this._finishShape();\n        } else if (Math.abs(dragCheckDistance) < 9 * (window.devicePixelRatio || 1)) {\n          this.addVertex(e.latlng);\n        }\n\n        this._enableNewMarkers(); // after a short pause, enable new markers\n\n      }\n\n      this._mouseDownOrigin = null;\n    },\n    // ontouch prevented by clickHandled flag because some browsers fire both click/touch events,\n    // causing unwanted behavior\n    _onTouch: function _onTouch(e) {\n      var originalEvent = e.originalEvent;\n      var clientX;\n      var clientY;\n\n      if (originalEvent.touches && originalEvent.touches[0] && !this._clickHandled && !this._touchHandled && !this._disableMarkers) {\n        clientX = originalEvent.touches[0].clientX;\n        clientY = originalEvent.touches[0].clientY;\n\n        this._disableNewMarkers();\n\n        this._touchHandled = true;\n\n        this._startPoint.call(this, clientX, clientY);\n\n        this._endPoint.call(this, clientX, clientY, e);\n\n        this._touchHandled = null;\n      }\n\n      this._clickHandled = null;\n    },\n    _onMouseOut: function _onMouseOut() {\n      if (this._tooltip) {\n        this._tooltip._onMouseOut.call(this._tooltip);\n      }\n    },\n    // calculate if we are currently within close enough distance\n    // of the closing point (first point for shapes, last point for lines)\n    // this is semi-ugly code but the only reliable way i found to get the job done\n    // note: calculating point.distanceTo between mouseDownOrigin and last marker did NOT work\n    _calculateFinishDistance: function _calculateFinishDistance(potentialLatLng) {\n      var lastPtDistance;\n\n      if (this._markers.length > 0) {\n        var finishMarker;\n\n        if (this.type === L.Draw.Polyline.TYPE) {\n          finishMarker = this._markers[this._markers.length - 1];\n        } else if (this.type === L.Draw.Polygon.TYPE) {\n          finishMarker = this._markers[0];\n        } else {\n          return Infinity;\n        }\n\n        var lastMarkerPoint = this._map.latLngToContainerPoint(finishMarker.getLatLng()),\n            potentialMarker = new L.Marker(potentialLatLng, {\n          icon: this.options.icon,\n          zIndexOffset: this.options.zIndexOffset * 2\n        });\n\n        var potentialMarkerPint = this._map.latLngToContainerPoint(potentialMarker.getLatLng());\n\n        lastPtDistance = lastMarkerPoint.distanceTo(potentialMarkerPint);\n      } else {\n        lastPtDistance = Infinity;\n      }\n\n      return lastPtDistance;\n    },\n    _updateFinishHandler: function _updateFinishHandler() {\n      var markerCount = this._markers.length; // The last marker should have a click handler to close the polyline\n\n      if (markerCount > 1) {\n        this._markers[markerCount - 1].on('click', this._finishShape, this);\n      } // Remove the old marker click handler (as only the last point should close the polyline)\n\n\n      if (markerCount > 2) {\n        this._markers[markerCount - 2].off('click', this._finishShape, this);\n      }\n    },\n    _createMarker: function _createMarker(latlng) {\n      var marker = new L.Marker(latlng, {\n        icon: this.options.icon,\n        zIndexOffset: this.options.zIndexOffset * 2\n      });\n\n      this._markerGroup.addLayer(marker);\n\n      return marker;\n    },\n    _updateGuide: function _updateGuide(newPos) {\n      var markerCount = this._markers ? this._markers.length : 0;\n\n      if (markerCount > 0) {\n        newPos = newPos || this._map.latLngToLayerPoint(this._currentLatLng); // draw the guide line\n\n        this._clearGuides();\n\n        this._drawGuide(this._map.latLngToLayerPoint(this._markers[markerCount - 1].getLatLng()), newPos);\n      }\n    },\n    _updateTooltip: function _updateTooltip(latLng) {\n      var text = this._getTooltipText();\n\n      if (latLng) {\n        this._tooltip.updatePosition(latLng);\n      }\n\n      if (!this._errorShown) {\n        this._tooltip.updateContent(text);\n      }\n    },\n    _drawGuide: function _drawGuide(pointA, pointB) {\n      var length = Math.floor(Math.sqrt(Math.pow(pointB.x - pointA.x, 2) + Math.pow(pointB.y - pointA.y, 2))),\n          guidelineDistance = this.options.guidelineDistance,\n          maxGuideLineLength = this.options.maxGuideLineLength,\n          // Only draw a guideline with a max length\n      i = length > maxGuideLineLength ? length - maxGuideLineLength : guidelineDistance,\n          fraction,\n          dashPoint,\n          dash; //create the guides container if we haven't yet\n\n      if (!this._guidesContainer) {\n        this._guidesContainer = L.DomUtil.create('div', 'leaflet-draw-guides', this._overlayPane);\n      } //draw a dash every GuildeLineDistance\n\n\n      for (; i < length; i += this.options.guidelineDistance) {\n        //work out fraction along line we are\n        fraction = i / length; //calculate new x,y point\n\n        dashPoint = {\n          x: Math.floor(pointA.x * (1 - fraction) + fraction * pointB.x),\n          y: Math.floor(pointA.y * (1 - fraction) + fraction * pointB.y)\n        }; //add guide dash to guide container\n\n        dash = L.DomUtil.create('div', 'leaflet-draw-guide-dash', this._guidesContainer);\n        dash.style.backgroundColor = !this._errorShown ? this.options.shapeOptions.color : this.options.drawError.color;\n        L.DomUtil.setPosition(dash, dashPoint);\n      }\n    },\n    _updateGuideColor: function _updateGuideColor(color) {\n      if (this._guidesContainer) {\n        for (var i = 0, l = this._guidesContainer.childNodes.length; i < l; i++) {\n          this._guidesContainer.childNodes[i].style.backgroundColor = color;\n        }\n      }\n    },\n    // removes all child elements (guide dashes) from the guides container\n    _clearGuides: function _clearGuides() {\n      if (this._guidesContainer) {\n        while (this._guidesContainer.firstChild) {\n          this._guidesContainer.removeChild(this._guidesContainer.firstChild);\n        }\n      }\n    },\n    _getTooltipText: function _getTooltipText() {\n      var showLength = this.options.showLength,\n          labelText,\n          distanceStr;\n\n      if (this._markers.length === 0) {\n        labelText = {\n          text: L.drawLocal.draw.handlers.polyline.tooltip.start\n        };\n      } else {\n        distanceStr = showLength ? this._getMeasurementString() : '';\n\n        if (this._markers.length === 1) {\n          labelText = {\n            text: L.drawLocal.draw.handlers.polyline.tooltip.cont,\n            subtext: distanceStr\n          };\n        } else {\n          labelText = {\n            text: L.drawLocal.draw.handlers.polyline.tooltip.end,\n            subtext: distanceStr\n          };\n        }\n      }\n\n      return labelText;\n    },\n    _updateRunningMeasure: function _updateRunningMeasure(latlng, added) {\n      var markersLength = this._markers.length,\n          previousMarkerIndex,\n          distance;\n\n      if (this._markers.length === 1) {\n        this._measurementRunningTotal = 0;\n      } else {\n        previousMarkerIndex = markersLength - (added ? 2 : 1); // Calculate the distance based on the version\n\n        if (L.GeometryUtil.isVersion07x()) {\n          distance = latlng.distanceTo(this._markers[previousMarkerIndex].getLatLng()) * (this.options.factor || 1);\n        } else {\n          distance = this._map.distance(latlng, this._markers[previousMarkerIndex].getLatLng()) * (this.options.factor || 1);\n        }\n\n        this._measurementRunningTotal += distance * (added ? 1 : -1);\n      }\n    },\n    _getMeasurementString: function _getMeasurementString() {\n      var currentLatLng = this._currentLatLng,\n          previousLatLng = this._markers[this._markers.length - 1].getLatLng(),\n          distance; // Calculate the distance from the last fixed point to the mouse position based on the version\n\n\n      if (L.GeometryUtil.isVersion07x()) {\n        distance = previousLatLng && currentLatLng && currentLatLng.distanceTo ? this._measurementRunningTotal + currentLatLng.distanceTo(previousLatLng) * (this.options.factor || 1) : this._measurementRunningTotal || 0;\n      } else {\n        distance = previousLatLng && currentLatLng ? this._measurementRunningTotal + this._map.distance(currentLatLng, previousLatLng) * (this.options.factor || 1) : this._measurementRunningTotal || 0;\n      }\n\n      return L.GeometryUtil.readableDistance(distance, this.options.metric, this.options.feet, this.options.nautic, this.options.precision);\n    },\n    _showErrorTooltip: function _showErrorTooltip() {\n      this._errorShown = true; // Update tooltip\n\n      this._tooltip.showAsError().updateContent({\n        text: this.options.drawError.message\n      }); // Update shape\n\n\n      this._updateGuideColor(this.options.drawError.color);\n\n      this._poly.setStyle({\n        color: this.options.drawError.color\n      }); // Hide the error after 2 seconds\n\n\n      this._clearHideErrorTimeout();\n\n      this._hideErrorTimeout = setTimeout(L.Util.bind(this._hideErrorTooltip, this), this.options.drawError.timeout);\n    },\n    _hideErrorTooltip: function _hideErrorTooltip() {\n      this._errorShown = false;\n\n      this._clearHideErrorTimeout(); // Revert tooltip\n\n\n      this._tooltip.removeError().updateContent(this._getTooltipText()); // Revert shape\n\n\n      this._updateGuideColor(this.options.shapeOptions.color);\n\n      this._poly.setStyle({\n        color: this.options.shapeOptions.color\n      });\n    },\n    _clearHideErrorTimeout: function _clearHideErrorTimeout() {\n      if (this._hideErrorTimeout) {\n        clearTimeout(this._hideErrorTimeout);\n        this._hideErrorTimeout = null;\n      }\n    },\n    // disable new markers temporarily;\n    // this is to prevent duplicated touch/click events in some browsers\n    _disableNewMarkers: function _disableNewMarkers() {\n      this._disableMarkers = true;\n    },\n    // see _disableNewMarkers\n    _enableNewMarkers: function _enableNewMarkers() {\n      setTimeout(function () {\n        this._disableMarkers = false;\n      }.bind(this), 50);\n    },\n    _cleanUpShape: function _cleanUpShape() {\n      if (this._markers.length > 1) {\n        this._markers[this._markers.length - 1].off('click', this._finishShape, this);\n      }\n    },\n    _fireCreatedEvent: function _fireCreatedEvent() {\n      var poly = new this.Poly(this._poly.getLatLngs(), this.options.shapeOptions);\n\n      L.Draw.Feature.prototype._fireCreatedEvent.call(this, poly);\n    }\n  });\n  /**\n   * @class L.Draw.Polygon\n   * @aka Draw.Polygon\n   * @inherits L.Draw.Polyline\n   */\n\n  L.Draw.Polygon = L.Draw.Polyline.extend({\n    statics: {\n      TYPE: 'polygon'\n    },\n    Poly: L.Polygon,\n    options: {\n      showArea: false,\n      showLength: false,\n      shapeOptions: {\n        stroke: true,\n        color: '#3388ff',\n        weight: 4,\n        opacity: 0.5,\n        fill: true,\n        fillColor: null,\n        //same as color by default\n        fillOpacity: 0.2,\n        clickable: true\n      },\n      // Whether to use the metric measurement system (truthy) or not (falsy).\n      // Also defines the units to use for the metric system as an array of\n      // strings (e.g. `['ha', 'm']`).\n      metric: true,\n      feet: true,\n      // When not metric, to use feet instead of yards for display.\n      nautic: false,\n      // When not metric, not feet use nautic mile for display\n      // Defines the precision for each type of unit (e.g. {km: 2, ft: 0}\n      precision: {}\n    },\n    // @method initialize(): void\n    initialize: function initialize(map, options) {\n      L.Draw.Polyline.prototype.initialize.call(this, map, options); // Save the type so super can fire, need to do this as cannot do this.TYPE :(\n\n      this.type = L.Draw.Polygon.TYPE;\n    },\n    _updateFinishHandler: function _updateFinishHandler() {\n      var markerCount = this._markers.length; // The first marker should have a click handler to close the polygon\n\n      if (markerCount === 1) {\n        this._markers[0].on('click', this._finishShape, this);\n      } // Add and update the double click handler\n\n\n      if (markerCount > 2) {\n        this._markers[markerCount - 1].on('dblclick', this._finishShape, this); // Only need to remove handler if has been added before\n\n\n        if (markerCount > 3) {\n          this._markers[markerCount - 2].off('dblclick', this._finishShape, this);\n        }\n      }\n    },\n    _getTooltipText: function _getTooltipText() {\n      var text, subtext;\n\n      if (this._markers.length === 0) {\n        text = L.drawLocal.draw.handlers.polygon.tooltip.start;\n      } else if (this._markers.length < 3) {\n        text = L.drawLocal.draw.handlers.polygon.tooltip.cont;\n        subtext = this._getMeasurementString();\n      } else {\n        text = L.drawLocal.draw.handlers.polygon.tooltip.end;\n        subtext = this._getMeasurementString();\n      }\n\n      return {\n        text: text,\n        subtext: subtext\n      };\n    },\n    _getMeasurementString: function _getMeasurementString() {\n      var area = this._area,\n          measurementString = '';\n\n      if (!area && !this.options.showLength) {\n        return null;\n      }\n\n      if (this.options.showLength) {\n        measurementString = L.Draw.Polyline.prototype._getMeasurementString.call(this);\n      }\n\n      if (area) {\n        measurementString += '<br>' + L.GeometryUtil.readableArea(area, this.options.metric, this.options.precision);\n      }\n\n      return measurementString;\n    },\n    _shapeIsValid: function _shapeIsValid() {\n      return this._markers.length >= 3;\n    },\n    _vertexChanged: function _vertexChanged(latlng, added) {\n      var latLngs; // Check to see if we should show the area\n\n      if (!this.options.allowIntersection && this.options.showArea) {\n        latLngs = this._poly.getLatLngs();\n        this._area = L.GeometryUtil.geodesicArea(latLngs);\n      }\n\n      L.Draw.Polyline.prototype._vertexChanged.call(this, latlng, added);\n    },\n    _cleanUpShape: function _cleanUpShape() {\n      var markerCount = this._markers.length;\n\n      if (markerCount > 0) {\n        this._markers[0].off('click', this._finishShape, this);\n\n        if (markerCount > 2) {\n          this._markers[markerCount - 1].off('dblclick', this._finishShape, this);\n        }\n      }\n    }\n  });\n  L.SimpleShape = {};\n  /**\n   * @class L.Draw.SimpleShape\n   * @aka Draw.SimpleShape\n   * @inherits L.Draw.Feature\n   */\n\n  L.Draw.SimpleShape = L.Draw.Feature.extend({\n    options: {\n      repeatMode: false\n    },\n    // @method initialize(): void\n    initialize: function initialize(map, options) {\n      this._endLabelText = L.drawLocal.draw.handlers.simpleshape.tooltip.end;\n      L.Draw.Feature.prototype.initialize.call(this, map, options);\n    },\n    // @method addHooks(): void\n    // Add listener hooks to this handler.\n    addHooks: function addHooks() {\n      L.Draw.Feature.prototype.addHooks.call(this);\n\n      if (this._map) {\n        this._mapDraggable = this._map.dragging.enabled();\n\n        if (this._mapDraggable) {\n          this._map.dragging.disable();\n        } //TODO refactor: move cursor to styles\n\n\n        this._container.style.cursor = 'crosshair';\n\n        this._tooltip.updateContent({\n          text: this._initialLabelText\n        });\n\n        this._map.on('mousedown', this._onMouseDown, this).on('mousemove', this._onMouseMove, this).on('touchstart', this._onMouseDown, this).on('touchmove', this._onMouseMove, this); // we should prevent default, otherwise default behavior (scrolling) will fire,\n        // and that will cause document.touchend to fire and will stop the drawing\n        // (circle, rectangle) in touch mode.\n        // (update): we have to send passive now to prevent scroll, because by default it is {passive: true} now, which means,\n        // handler can't event.preventDefault\n        // check the news https://developers.google.com/web/updates/2016/06/passive-event-listeners\n\n\n        document.addEventListener('touchstart', L.DomEvent.preventDefault, {\n          passive: false\n        });\n      }\n    },\n    // @method removeHooks(): void\n    // Remove listener hooks from this handler.\n    removeHooks: function removeHooks() {\n      L.Draw.Feature.prototype.removeHooks.call(this);\n\n      if (this._map) {\n        if (this._mapDraggable) {\n          this._map.dragging.enable();\n        } //TODO refactor: move cursor to styles\n\n\n        this._container.style.cursor = '';\n\n        this._map.off('mousedown', this._onMouseDown, this).off('mousemove', this._onMouseMove, this).off('touchstart', this._onMouseDown, this).off('touchmove', this._onMouseMove, this);\n\n        L.DomEvent.off(document, 'mouseup', this._onMouseUp, this);\n        L.DomEvent.off(document, 'touchend', this._onMouseUp, this);\n        document.removeEventListener('touchstart', L.DomEvent.preventDefault); // If the box element doesn't exist they must not have moved the mouse, so don't need to destroy/return\n\n        if (this._shape) {\n          this._map.removeLayer(this._shape);\n\n          delete this._shape;\n        }\n      }\n\n      this._isDrawing = false;\n    },\n    _getTooltipText: function _getTooltipText() {\n      return {\n        text: this._endLabelText\n      };\n    },\n    _onMouseDown: function _onMouseDown(e) {\n      this._isDrawing = true;\n      this._startLatLng = e.latlng;\n      L.DomEvent.on(document, 'mouseup', this._onMouseUp, this).on(document, 'touchend', this._onMouseUp, this).preventDefault(e.originalEvent);\n    },\n    _onMouseMove: function _onMouseMove(e) {\n      var latlng = e.latlng;\n\n      this._tooltip.updatePosition(latlng);\n\n      if (this._isDrawing) {\n        this._tooltip.updateContent(this._getTooltipText());\n\n        this._drawShape(latlng);\n      }\n    },\n    _onMouseUp: function _onMouseUp() {\n      if (this._shape) {\n        this._fireCreatedEvent();\n      }\n\n      this.disable();\n\n      if (this.options.repeatMode) {\n        this.enable();\n      }\n    }\n  });\n  /**\n   * @class L.Draw.Rectangle\n   * @aka Draw.Rectangle\n   * @inherits L.Draw.SimpleShape\n   */\n\n  L.Draw.Rectangle = L.Draw.SimpleShape.extend({\n    statics: {\n      TYPE: 'rectangle'\n    },\n    options: {\n      shapeOptions: {\n        stroke: true,\n        color: '#3388ff',\n        weight: 4,\n        opacity: 0.5,\n        fill: true,\n        fillColor: null,\n        //same as color by default\n        fillOpacity: 0.2,\n        clickable: true\n      },\n      showArea: true,\n      //Whether to show the area in the tooltip\n      metric: true // Whether to use the metric measurement system or imperial\n\n    },\n    // @method initialize(): void\n    initialize: function initialize(map, options) {\n      // Save the type so super can fire, need to do this as cannot do this.TYPE :(\n      this.type = L.Draw.Rectangle.TYPE;\n      this._initialLabelText = L.drawLocal.draw.handlers.rectangle.tooltip.start;\n      L.Draw.SimpleShape.prototype.initialize.call(this, map, options);\n    },\n    // @method disable(): void\n    disable: function disable() {\n      if (!this._enabled) {\n        return;\n      }\n\n      this._isCurrentlyTwoClickDrawing = false;\n      L.Draw.SimpleShape.prototype.disable.call(this);\n    },\n    _onMouseUp: function _onMouseUp(e) {\n      if (!this._shape && !this._isCurrentlyTwoClickDrawing) {\n        this._isCurrentlyTwoClickDrawing = true;\n        return;\n      } // Make sure closing click is on map\n\n\n      if (this._isCurrentlyTwoClickDrawing && !_hasAncestor(e.target, 'leaflet-pane')) {\n        return;\n      }\n\n      L.Draw.SimpleShape.prototype._onMouseUp.call(this);\n    },\n    _drawShape: function _drawShape(latlng) {\n      if (!this._shape) {\n        this._shape = new L.Rectangle(new L.LatLngBounds(this._startLatLng, latlng), this.options.shapeOptions);\n\n        this._map.addLayer(this._shape);\n      } else {\n        this._shape.setBounds(new L.LatLngBounds(this._startLatLng, latlng));\n      }\n    },\n    _fireCreatedEvent: function _fireCreatedEvent() {\n      var rectangle = new L.Rectangle(this._shape.getBounds(), this.options.shapeOptions);\n\n      L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this, rectangle);\n    },\n    _getTooltipText: function _getTooltipText() {\n      var tooltipText = L.Draw.SimpleShape.prototype._getTooltipText.call(this),\n          shape = this._shape,\n          showArea = this.options.showArea,\n          latLngs,\n          area,\n          subtext;\n\n      if (shape) {\n        latLngs = this._shape._defaultShape ? this._shape._defaultShape() : this._shape.getLatLngs();\n        area = L.GeometryUtil.geodesicArea(latLngs);\n        subtext = showArea ? L.GeometryUtil.readableArea(area, this.options.metric) : '';\n      }\n\n      return {\n        text: tooltipText.text,\n        subtext: subtext\n      };\n    }\n  });\n\n  function _hasAncestor(el, cls) {\n    while ((el = el.parentElement) && !el.classList.contains(cls)) {\n      ;\n    }\n\n    return el;\n  }\n  /**\n   * @class L.Draw.Marker\n   * @aka Draw.Marker\n   * @inherits L.Draw.Feature\n   */\n\n\n  L.Draw.Marker = L.Draw.Feature.extend({\n    statics: {\n      TYPE: 'marker'\n    },\n    options: {\n      icon: new L.Icon.Default(),\n      repeatMode: false,\n      zIndexOffset: 2000 // This should be > than the highest z-index any markers\n\n    },\n    // @method initialize(): void\n    initialize: function initialize(map, options) {\n      // Save the type so super can fire, need to do this as cannot do this.TYPE :(\n      this.type = L.Draw.Marker.TYPE;\n      this._initialLabelText = L.drawLocal.draw.handlers.marker.tooltip.start;\n      L.Draw.Feature.prototype.initialize.call(this, map, options);\n    },\n    // @method addHooks(): void\n    // Add listener hooks to this handler.\n    addHooks: function addHooks() {\n      L.Draw.Feature.prototype.addHooks.call(this);\n\n      if (this._map) {\n        this._tooltip.updateContent({\n          text: this._initialLabelText\n        }); // Same mouseMarker as in Draw.Polyline\n\n\n        if (!this._mouseMarker) {\n          this._mouseMarker = L.marker(this._map.getCenter(), {\n            icon: L.divIcon({\n              className: 'leaflet-mouse-marker',\n              iconAnchor: [20, 20],\n              iconSize: [40, 40]\n            }),\n            opacity: 0,\n            zIndexOffset: this.options.zIndexOffset\n          });\n        }\n\n        this._mouseMarker.on('click', this._onClick, this).addTo(this._map);\n\n        this._map.on('mousemove', this._onMouseMove, this);\n\n        this._map.on('click', this._onTouch, this);\n      }\n    },\n    // @method removeHooks(): void\n    // Remove listener hooks from this handler.\n    removeHooks: function removeHooks() {\n      L.Draw.Feature.prototype.removeHooks.call(this);\n\n      if (this._map) {\n        this._map.off('click', this._onClick, this).off('click', this._onTouch, this);\n\n        if (this._marker) {\n          this._marker.off('click', this._onClick, this);\n\n          this._map.removeLayer(this._marker);\n\n          delete this._marker;\n        }\n\n        this._mouseMarker.off('click', this._onClick, this);\n\n        this._map.removeLayer(this._mouseMarker);\n\n        delete this._mouseMarker;\n\n        this._map.off('mousemove', this._onMouseMove, this);\n      }\n    },\n    _onMouseMove: function _onMouseMove(e) {\n      var latlng = e.latlng;\n\n      this._tooltip.updatePosition(latlng);\n\n      this._mouseMarker.setLatLng(latlng);\n\n      if (!this._marker) {\n        this._marker = this._createMarker(latlng); // Bind to both marker and map to make sure we get the click event.\n\n        this._marker.on('click', this._onClick, this);\n\n        this._map.on('click', this._onClick, this).addLayer(this._marker);\n      } else {\n        latlng = this._mouseMarker.getLatLng();\n\n        this._marker.setLatLng(latlng);\n      }\n    },\n    _createMarker: function _createMarker(latlng) {\n      return new L.Marker(latlng, {\n        icon: this.options.icon,\n        zIndexOffset: this.options.zIndexOffset\n      });\n    },\n    _onClick: function _onClick() {\n      this._fireCreatedEvent();\n\n      this.disable();\n\n      if (this.options.repeatMode) {\n        this.enable();\n      }\n    },\n    _onTouch: function _onTouch(e) {\n      // called on click & tap, only really does any thing on tap\n      this._onMouseMove(e); // creates & places marker\n\n\n      this._onClick(); // permanently places marker & ends interaction\n\n    },\n    _fireCreatedEvent: function _fireCreatedEvent() {\n      var marker = new L.Marker.Touch(this._marker.getLatLng(), {\n        icon: this.options.icon\n      });\n\n      L.Draw.Feature.prototype._fireCreatedEvent.call(this, marker);\n    }\n  });\n  /**\n   * @class L.Draw.CircleMarker\n   * @aka Draw.CircleMarker\n   * @inherits L.Draw.Marker\n   */\n\n  L.Draw.CircleMarker = L.Draw.Marker.extend({\n    statics: {\n      TYPE: 'circlemarker'\n    },\n    options: {\n      stroke: true,\n      color: '#3388ff',\n      weight: 4,\n      opacity: 0.5,\n      fill: true,\n      fillColor: null,\n      //same as color by default\n      fillOpacity: 0.2,\n      clickable: true,\n      zIndexOffset: 2000 // This should be > than the highest z-index any markers\n\n    },\n    // @method initialize(): void\n    initialize: function initialize(map, options) {\n      // Save the type so super can fire, need to do this as cannot do this.TYPE :(\n      this.type = L.Draw.CircleMarker.TYPE;\n      this._initialLabelText = L.drawLocal.draw.handlers.circlemarker.tooltip.start;\n      L.Draw.Feature.prototype.initialize.call(this, map, options);\n    },\n    _fireCreatedEvent: function _fireCreatedEvent() {\n      var circleMarker = new L.CircleMarker(this._marker.getLatLng(), this.options);\n\n      L.Draw.Feature.prototype._fireCreatedEvent.call(this, circleMarker);\n    },\n    _createMarker: function _createMarker(latlng) {\n      return new L.CircleMarker(latlng, this.options);\n    }\n  });\n  /**\n   * @class L.Draw.Circle\n   * @aka Draw.Circle\n   * @inherits L.Draw.SimpleShape\n   */\n\n  L.Draw.Circle = L.Draw.SimpleShape.extend({\n    statics: {\n      TYPE: 'circle'\n    },\n    options: {\n      shapeOptions: {\n        stroke: true,\n        color: '#3388ff',\n        weight: 4,\n        opacity: 0.5,\n        fill: true,\n        fillColor: null,\n        //same as color by default\n        fillOpacity: 0.2,\n        clickable: true\n      },\n      showRadius: true,\n      metric: true,\n      // Whether to use the metric measurement system or imperial\n      feet: true,\n      // When not metric, use feet instead of yards for display\n      nautic: false // When not metric, not feet use nautic mile for display\n\n    },\n    // @method initialize(): void\n    initialize: function initialize(map, options) {\n      // Save the type so super can fire, need to do this as cannot do this.TYPE :(\n      this.type = L.Draw.Circle.TYPE;\n      this._initialLabelText = L.drawLocal.draw.handlers.circle.tooltip.start;\n      L.Draw.SimpleShape.prototype.initialize.call(this, map, options);\n    },\n    _drawShape: function _drawShape(latlng) {\n      // Calculate the distance based on the version\n      var distance = 0;\n\n      if (L.GeometryUtil.isVersion07x()) {\n        distance = this._startLatLng.distanceTo(latlng);\n      } else {\n        distance = this._map.distance(this._startLatLng, latlng);\n\n        if (this._map.options.crs.code === 'EPSG:4326') {\n          distance = distance / 111194.92664455873;\n        }\n      }\n\n      if (!this._shape) {\n        this._shape = new L.Circle(this._startLatLng, distance, this.options.shapeOptions);\n\n        this._map.addLayer(this._shape);\n      } else {\n        this._shape.setRadius(distance);\n      }\n    },\n    _fireCreatedEvent: function _fireCreatedEvent() {\n      var circle = new L.Circle(this._startLatLng, this._shape.getRadius(), this.options.shapeOptions);\n\n      L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this, circle);\n    },\n    _onMouseMove: function _onMouseMove(e) {\n      var latlng = e.latlng,\n          showRadius = this.options.showRadius,\n          useMetric = this.options.metric,\n          radius;\n\n      this._tooltip.updatePosition(latlng);\n\n      if (this._isDrawing) {\n        this._drawShape(latlng); // Get the new radius (rounded to 1 dp)\n\n\n        radius = this._shape.getRadius().toFixed(1);\n\n        if (this._map.options.crs.code === 'EPSG:4326') {\n          radius = radius / 111194.92664455873;\n        }\n\n        var subtext = '';\n\n        if (showRadius) {\n          subtext = L.drawLocal.draw.handlers.circle.radius + ': ' + L.GeometryUtil.readableDistance(radius, useMetric, this.options.feet, this.options.nautic);\n        }\n\n        this._tooltip.updateContent({\n          text: this._endLabelText,\n          subtext: subtext\n        });\n      }\n    }\n  });\n  L.Edit = L.Edit || {};\n  /**\n   * @class L.Edit.Marker\n   * @aka Edit.Marker\n   */\n\n  L.Edit.Marker = L.Handler.extend({\n    // @method initialize(): void\n    initialize: function initialize(marker, options) {\n      this._marker = marker;\n      L.setOptions(this, options);\n    },\n    // @method addHooks(): void\n    // Add listener hooks to this handler\n    addHooks: function addHooks() {\n      var marker = this._marker;\n      marker.dragging.enable();\n      marker.on('dragend', this._onDragEnd, marker);\n\n      this._toggleMarkerHighlight();\n    },\n    // @method removeHooks(): void\n    // Remove listener hooks from this handler\n    removeHooks: function removeHooks() {\n      var marker = this._marker;\n      marker.dragging.disable();\n      marker.off('dragend', this._onDragEnd, marker);\n\n      this._toggleMarkerHighlight();\n    },\n    _onDragEnd: function _onDragEnd(e) {\n      var layer = e.target;\n      layer.edited = true;\n\n      this._map.fire(L.Draw.Event.EDITMOVE, {\n        layer: layer\n      });\n    },\n    _toggleMarkerHighlight: function _toggleMarkerHighlight() {\n      var icon = this._marker._icon; // Don't do anything if this layer is a marker but doesn't have an icon. Markers\n      // should usually have icons. If using Leaflet.draw with Leaflet.markercluster there\n      // is a chance that a marker doesn't.\n\n      if (!icon) {\n        return;\n      } // This is quite naughty, but I don't see another way of doing it. (short of setting a new icon)\n\n\n      icon.style.display = 'none';\n\n      if (L.DomUtil.hasClass(icon, 'leaflet-edit-marker-selected')) {\n        L.DomUtil.removeClass(icon, 'leaflet-edit-marker-selected'); // Offset as the border will make the icon move.\n\n        this._offsetMarker(icon, -4);\n      } else {\n        L.DomUtil.addClass(icon, 'leaflet-edit-marker-selected'); // Offset as the border will make the icon move.\n\n        this._offsetMarker(icon, 4);\n      }\n\n      icon.style.display = '';\n    },\n    _offsetMarker: function _offsetMarker(icon, offset) {\n      var iconMarginTop = parseInt(icon.style.marginTop, 10) - offset,\n          iconMarginLeft = parseInt(icon.style.marginLeft, 10) - offset;\n      icon.style.marginTop = iconMarginTop + 'px';\n      icon.style.marginLeft = iconMarginLeft + 'px';\n    }\n  });\n  L.Marker.addInitHook(function () {\n    if (L.Edit.Marker) {\n      this.editing = new L.Edit.Marker(this);\n\n      if (this.options.editable) {\n        this.editing.enable();\n      }\n    }\n  });\n  L.Edit = L.Edit || {};\n  /**\n   * @class L.Edit.Polyline\n   * @aka L.Edit.Poly\n   * @aka Edit.Poly\n   */\n\n  L.Edit.Poly = L.Handler.extend({\n    // @method initialize(): void\n    initialize: function initialize(poly) {\n      this.latlngs = [poly._latlngs];\n\n      if (poly._holes) {\n        this.latlngs = this.latlngs.concat(poly._holes);\n      }\n\n      this._poly = poly;\n\n      this._poly.on('revert-edited', this._updateLatLngs, this);\n    },\n    // Compatibility method to normalize Poly* objects\n    // between 0.7.x and 1.0+\n    _defaultShape: function _defaultShape() {\n      if (!L.Polyline._flat) {\n        return this._poly._latlngs;\n      }\n\n      return L.Polyline._flat(this._poly._latlngs) ? this._poly._latlngs : this._poly._latlngs[0];\n    },\n    _eachVertexHandler: function _eachVertexHandler(callback) {\n      for (var i = 0; i < this._verticesHandlers.length; i++) {\n        callback(this._verticesHandlers[i]);\n      }\n    },\n    // @method addHooks(): void\n    // Add listener hooks to this handler\n    addHooks: function addHooks() {\n      this._initHandlers();\n\n      this._eachVertexHandler(function (handler) {\n        handler.addHooks();\n      });\n    },\n    // @method removeHooks(): void\n    // Remove listener hooks from this handler\n    removeHooks: function removeHooks() {\n      this._eachVertexHandler(function (handler) {\n        handler.removeHooks();\n      });\n    },\n    // @method updateMarkers(): void\n    // Fire an update for each vertex handler\n    updateMarkers: function updateMarkers() {\n      this._eachVertexHandler(function (handler) {\n        handler.updateMarkers();\n      });\n    },\n    _initHandlers: function _initHandlers() {\n      this._verticesHandlers = [];\n\n      for (var i = 0; i < this.latlngs.length; i++) {\n        this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly, this.latlngs[i], this._poly.options.poly));\n      }\n    },\n    _updateLatLngs: function _updateLatLngs(e) {\n      this.latlngs = [e.layer._latlngs];\n\n      if (e.layer._holes) {\n        this.latlngs = this.latlngs.concat(e.layer._holes);\n      }\n    }\n  });\n  /**\n   * @class L.Edit.PolyVerticesEdit\n   * @aka Edit.PolyVerticesEdit\n   */\n\n  L.Edit.PolyVerticesEdit = L.Handler.extend({\n    options: {\n      icon: new L.DivIcon({\n        iconSize: new L.Point(8, 8),\n        className: 'leaflet-div-icon leaflet-editing-icon'\n      }),\n      touchIcon: new L.DivIcon({\n        iconSize: new L.Point(20, 20),\n        className: 'leaflet-div-icon leaflet-editing-icon leaflet-touch-icon'\n      }),\n      drawError: {\n        color: '#b00b00',\n        timeout: 1000\n      }\n    },\n    // @method intialize(): void\n    initialize: function initialize(poly, latlngs, options) {\n      // if touch, switch to touch icon\n      if (L.Browser.touch) {\n        this.options.icon = this.options.touchIcon;\n      }\n\n      this._poly = poly;\n\n      if (options && options.drawError) {\n        options.drawError = L.Util.extend({}, this.options.drawError, options.drawError);\n      }\n\n      this._latlngs = latlngs;\n      L.setOptions(this, options);\n    },\n    // Compatibility method to normalize Poly* objects\n    // between 0.7.x and 1.0+\n    _defaultShape: function _defaultShape() {\n      if (!L.Polyline._flat) {\n        return this._latlngs;\n      }\n\n      return L.Polyline._flat(this._latlngs) ? this._latlngs : this._latlngs[0];\n    },\n    // @method addHooks(): void\n    // Add listener hooks to this handler.\n    addHooks: function addHooks() {\n      var poly = this._poly;\n      var path = poly._path;\n\n      if (!(poly instanceof L.Polygon)) {\n        poly.options.fill = false;\n\n        if (poly.options.editing) {\n          poly.options.editing.fill = false;\n        }\n      }\n\n      if (path) {\n        if (poly.options.editing && poly.options.editing.className) {\n          if (poly.options.original.className) {\n            poly.options.original.className.split(' ').forEach(function (className) {\n              L.DomUtil.removeClass(path, className);\n            });\n          }\n\n          poly.options.editing.className.split(' ').forEach(function (className) {\n            L.DomUtil.addClass(path, className);\n          });\n        }\n      }\n\n      poly.setStyle(poly.options.editing);\n\n      if (this._poly._map) {\n        this._map = this._poly._map; // Set map\n\n        if (!this._markerGroup) {\n          this._initMarkers();\n        }\n\n        this._poly._map.addLayer(this._markerGroup);\n      }\n    },\n    // @method removeHooks(): void\n    // Remove listener hooks from this handler.\n    removeHooks: function removeHooks() {\n      var poly = this._poly;\n      var path = poly._path;\n\n      if (path) {\n        if (poly.options.editing && poly.options.editing.className) {\n          poly.options.editing.className.split(' ').forEach(function (className) {\n            L.DomUtil.removeClass(path, className);\n          });\n\n          if (poly.options.original.className) {\n            poly.options.original.className.split(' ').forEach(function (className) {\n              L.DomUtil.addClass(path, className);\n            });\n          }\n        }\n      }\n\n      poly.setStyle(poly.options.original);\n\n      if (poly._map) {\n        poly._map.removeLayer(this._markerGroup);\n\n        delete this._markerGroup;\n        delete this._markers;\n      }\n    },\n    // @method updateMarkers(): void\n    // Clear markers and update their location\n    updateMarkers: function updateMarkers() {\n      this._markerGroup.clearLayers();\n\n      this._initMarkers();\n    },\n    _initMarkers: function _initMarkers() {\n      if (!this._markerGroup) {\n        this._markerGroup = new L.LayerGroup();\n      }\n\n      this._markers = [];\n\n      var latlngs = this._defaultShape(),\n          i,\n          j,\n          len,\n          marker;\n\n      for (i = 0, len = latlngs.length; i < len; i++) {\n        marker = this._createMarker(latlngs[i], i);\n        marker.on('click', this._onMarkerClick, this);\n        marker.on('contextmenu', this._onContextMenu, this);\n\n        this._markers.push(marker);\n      }\n\n      var markerLeft, markerRight;\n\n      for (i = 0, j = len - 1; i < len; j = i++) {\n        if (i === 0 && !(L.Polygon && this._poly instanceof L.Polygon)) {\n          continue;\n        }\n\n        markerLeft = this._markers[j];\n        markerRight = this._markers[i];\n\n        this._createMiddleMarker(markerLeft, markerRight);\n\n        this._updatePrevNext(markerLeft, markerRight);\n      }\n    },\n    _createMarker: function _createMarker(latlng, index) {\n      // Extending L.Marker in TouchEvents.js to include touch.\n      var marker = new L.Marker.Touch(latlng, {\n        draggable: true,\n        icon: this.options.icon\n      });\n      marker._origLatLng = latlng;\n      marker._index = index;\n      marker.on('dragstart', this._onMarkerDragStart, this).on('drag', this._onMarkerDrag, this).on('dragend', this._fireEdit, this).on('touchmove', this._onTouchMove, this).on('touchend', this._fireEdit, this).on('MSPointerMove', this._onTouchMove, this).on('MSPointerUp', this._fireEdit, this);\n\n      this._markerGroup.addLayer(marker);\n\n      return marker;\n    },\n    _onMarkerDragStart: function _onMarkerDragStart() {\n      this._poly.fire('editstart');\n    },\n    _spliceLatLngs: function _spliceLatLngs() {\n      var latlngs = this._defaultShape();\n\n      var removed = [].splice.apply(latlngs, arguments);\n\n      this._poly._convertLatLngs(latlngs, true);\n\n      this._poly.redraw();\n\n      return removed;\n    },\n    _removeMarker: function _removeMarker(marker) {\n      var i = marker._index;\n\n      this._markerGroup.removeLayer(marker);\n\n      this._markers.splice(i, 1);\n\n      this._spliceLatLngs(i, 1);\n\n      this._updateIndexes(i, -1);\n\n      marker.off('dragstart', this._onMarkerDragStart, this).off('drag', this._onMarkerDrag, this).off('dragend', this._fireEdit, this).off('touchmove', this._onMarkerDrag, this).off('touchend', this._fireEdit, this).off('click', this._onMarkerClick, this).off('MSPointerMove', this._onTouchMove, this).off('MSPointerUp', this._fireEdit, this);\n    },\n    _fireEdit: function _fireEdit() {\n      this._poly.edited = true;\n\n      this._poly.fire('edit');\n\n      this._poly._map.fire(L.Draw.Event.EDITVERTEX, {\n        layers: this._markerGroup,\n        poly: this._poly\n      });\n    },\n    _onMarkerDrag: function _onMarkerDrag(e) {\n      var marker = e.target;\n      var poly = this._poly;\n      var oldOrigLatLng = L.LatLngUtil.cloneLatLng(marker._origLatLng);\n      L.extend(marker._origLatLng, marker._latlng);\n\n      if (poly.options.poly) {\n        var tooltip = poly._map._editTooltip; // Access the tooltip\n        // If we don't allow intersections and the polygon intersects\n\n        if (!poly.options.poly.allowIntersection && poly.intersects()) {\n          L.extend(marker._origLatLng, oldOrigLatLng);\n          marker.setLatLng(oldOrigLatLng);\n          var originalColor = poly.options.color;\n          poly.setStyle({\n            color: this.options.drawError.color\n          });\n\n          if (tooltip) {\n            tooltip.updateContent({\n              text: L.drawLocal.draw.handlers.polyline.error\n            });\n          } // Reset everything back to normal after a second\n\n\n          setTimeout(function () {\n            poly.setStyle({\n              color: originalColor\n            });\n\n            if (tooltip) {\n              tooltip.updateContent({\n                text: L.drawLocal.edit.handlers.edit.tooltip.text,\n                subtext: L.drawLocal.edit.handlers.edit.tooltip.subtext\n              });\n            }\n          }, 1000);\n        }\n      }\n\n      if (marker._middleLeft) {\n        marker._middleLeft.setLatLng(this._getMiddleLatLng(marker._prev, marker));\n      }\n\n      if (marker._middleRight) {\n        marker._middleRight.setLatLng(this._getMiddleLatLng(marker, marker._next));\n      } //refresh the bounds when draging\n\n\n      this._poly._bounds._southWest = L.latLng(Infinity, Infinity);\n      this._poly._bounds._northEast = L.latLng(-Infinity, -Infinity);\n\n      var latlngs = this._poly.getLatLngs();\n\n      this._poly._convertLatLngs(latlngs, true);\n\n      this._poly.redraw();\n\n      this._poly.fire('editdrag');\n    },\n    _onMarkerClick: function _onMarkerClick(e) {\n      var minPoints = L.Polygon && this._poly instanceof L.Polygon ? 4 : 3,\n          marker = e.target; // If removing this point would create an invalid polyline/polygon don't remove\n\n      if (this._defaultShape().length < minPoints) {\n        return;\n      } // remove the marker\n\n\n      this._removeMarker(marker); // update prev/next links of adjacent markers\n\n\n      this._updatePrevNext(marker._prev, marker._next); // remove ghost markers near the removed marker\n\n\n      if (marker._middleLeft) {\n        this._markerGroup.removeLayer(marker._middleLeft);\n      }\n\n      if (marker._middleRight) {\n        this._markerGroup.removeLayer(marker._middleRight);\n      } // create a ghost marker in place of the removed one\n\n\n      if (marker._prev && marker._next) {\n        this._createMiddleMarker(marker._prev, marker._next);\n      } else if (!marker._prev) {\n        marker._next._middleLeft = null;\n      } else if (!marker._next) {\n        marker._prev._middleRight = null;\n      }\n\n      this._fireEdit();\n    },\n    _onContextMenu: function _onContextMenu(e) {\n      var marker = e.target;\n      var poly = this._poly;\n\n      this._poly._map.fire(L.Draw.Event.MARKERCONTEXT, {\n        marker: marker,\n        layers: this._markerGroup,\n        poly: this._poly\n      });\n\n      L.DomEvent.stopPropagation;\n    },\n    _onTouchMove: function _onTouchMove(e) {\n      var layerPoint = this._map.mouseEventToLayerPoint(e.originalEvent.touches[0]),\n          latlng = this._map.layerPointToLatLng(layerPoint),\n          marker = e.target;\n\n      L.extend(marker._origLatLng, latlng);\n\n      if (marker._middleLeft) {\n        marker._middleLeft.setLatLng(this._getMiddleLatLng(marker._prev, marker));\n      }\n\n      if (marker._middleRight) {\n        marker._middleRight.setLatLng(this._getMiddleLatLng(marker, marker._next));\n      }\n\n      this._poly.redraw();\n\n      this.updateMarkers();\n    },\n    _updateIndexes: function _updateIndexes(index, delta) {\n      this._markerGroup.eachLayer(function (marker) {\n        if (marker._index > index) {\n          marker._index += delta;\n        }\n      });\n    },\n    _createMiddleMarker: function _createMiddleMarker(marker1, marker2) {\n      var latlng = this._getMiddleLatLng(marker1, marker2),\n          marker = this._createMarker(latlng),\n          onClick,\n          _onDragStart,\n          _onDragEnd2;\n\n      marker.setOpacity(0.6);\n      marker1._middleRight = marker2._middleLeft = marker;\n\n      _onDragStart = function onDragStart() {\n        marker.off('touchmove', _onDragStart, this);\n        var i = marker2._index;\n        marker._index = i;\n        marker.off('click', onClick, this).on('click', this._onMarkerClick, this);\n        latlng.lat = marker.getLatLng().lat;\n        latlng.lng = marker.getLatLng().lng;\n\n        this._spliceLatLngs(i, 0, latlng);\n\n        this._markers.splice(i, 0, marker);\n\n        marker.setOpacity(1);\n\n        this._updateIndexes(i, 1);\n\n        marker2._index++;\n\n        this._updatePrevNext(marker1, marker);\n\n        this._updatePrevNext(marker, marker2);\n\n        this._poly.fire('editstart');\n      };\n\n      _onDragEnd2 = function onDragEnd() {\n        marker.off('dragstart', _onDragStart, this);\n        marker.off('dragend', _onDragEnd2, this);\n        marker.off('touchmove', _onDragStart, this);\n\n        this._createMiddleMarker(marker1, marker);\n\n        this._createMiddleMarker(marker, marker2);\n      };\n\n      onClick = function onClick() {\n        _onDragStart.call(this);\n\n        _onDragEnd2.call(this);\n\n        this._fireEdit();\n      };\n\n      marker.on('click', onClick, this).on('dragstart', _onDragStart, this).on('dragend', _onDragEnd2, this).on('touchmove', _onDragStart, this);\n\n      this._markerGroup.addLayer(marker);\n    },\n    _updatePrevNext: function _updatePrevNext(marker1, marker2) {\n      if (marker1) {\n        marker1._next = marker2;\n      }\n\n      if (marker2) {\n        marker2._prev = marker1;\n      }\n    },\n    _getMiddleLatLng: function _getMiddleLatLng(marker1, marker2) {\n      var map = this._poly._map,\n          p1 = map.project(marker1.getLatLng()),\n          p2 = map.project(marker2.getLatLng());\n      return map.unproject(p1._add(p2)._divideBy(2));\n    }\n  });\n  L.Polyline.addInitHook(function () {\n    // Check to see if handler has already been initialized. This is to support versions of Leaflet that still have L.Handler.PolyEdit\n    if (this.editing) {\n      return;\n    }\n\n    if (L.Edit.Poly) {\n      this.editing = new L.Edit.Poly(this);\n\n      if (this.options.editable) {\n        this.editing.enable();\n      }\n    }\n\n    this.on('add', function () {\n      if (this.editing && this.editing.enabled()) {\n        this.editing.addHooks();\n      }\n    });\n    this.on('remove', function () {\n      if (this.editing && this.editing.enabled()) {\n        this.editing.removeHooks();\n      }\n    });\n  });\n  L.Edit = L.Edit || {};\n  /**\n   * @class L.Edit.SimpleShape\n   * @aka Edit.SimpleShape\n   */\n\n  L.Edit.SimpleShape = L.Handler.extend({\n    options: {\n      moveIcon: new L.DivIcon({\n        iconSize: new L.Point(8, 8),\n        className: 'leaflet-div-icon leaflet-editing-icon leaflet-edit-move'\n      }),\n      resizeIcon: new L.DivIcon({\n        iconSize: new L.Point(8, 8),\n        className: 'leaflet-div-icon leaflet-editing-icon leaflet-edit-resize'\n      }),\n      touchMoveIcon: new L.DivIcon({\n        iconSize: new L.Point(20, 20),\n        className: 'leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon'\n      }),\n      touchResizeIcon: new L.DivIcon({\n        iconSize: new L.Point(20, 20),\n        className: 'leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon'\n      })\n    },\n    // @method intialize(): void\n    initialize: function initialize(shape, options) {\n      // if touch, switch to touch icon\n      if (L.Browser.touch) {\n        this.options.moveIcon = this.options.touchMoveIcon;\n        this.options.resizeIcon = this.options.touchResizeIcon;\n      }\n\n      this._shape = shape;\n      L.Util.setOptions(this, options);\n    },\n    // @method addHooks(): void\n    // Add listener hooks to this handler\n    addHooks: function addHooks() {\n      var shape = this._shape;\n\n      if (this._shape._map) {\n        this._map = this._shape._map;\n        shape.setStyle(shape.options.editing);\n\n        if (shape._map) {\n          this._map = shape._map;\n\n          if (!this._markerGroup) {\n            this._initMarkers();\n          }\n\n          this._map.addLayer(this._markerGroup);\n        }\n      }\n    },\n    // @method removeHooks(): void\n    // Remove listener hooks from this handler\n    removeHooks: function removeHooks() {\n      var shape = this._shape;\n      shape.setStyle(shape.options.original);\n\n      if (shape._map) {\n        this._unbindMarker(this._moveMarker);\n\n        for (var i = 0, l = this._resizeMarkers.length; i < l; i++) {\n          this._unbindMarker(this._resizeMarkers[i]);\n        }\n\n        this._resizeMarkers = null;\n\n        this._map.removeLayer(this._markerGroup);\n\n        delete this._markerGroup;\n      }\n\n      this._map = null;\n    },\n    // @method updateMarkers(): void\n    // Remove the edit markers from this layer\n    updateMarkers: function updateMarkers() {\n      this._markerGroup.clearLayers();\n\n      this._initMarkers();\n    },\n    _initMarkers: function _initMarkers() {\n      if (!this._markerGroup) {\n        this._markerGroup = new L.LayerGroup();\n      } // Create center marker\n\n\n      this._createMoveMarker(); // Create edge marker\n\n\n      this._createResizeMarker();\n    },\n    _createMoveMarker: function _createMoveMarker() {// Children override\n    },\n    _createResizeMarker: function _createResizeMarker() {// Children override\n    },\n    _createMarker: function _createMarker(latlng, icon) {\n      // Extending L.Marker in TouchEvents.js to include touch.\n      var marker = new L.Marker.Touch(latlng, {\n        draggable: true,\n        icon: icon,\n        zIndexOffset: 10\n      });\n\n      this._bindMarker(marker);\n\n      this._markerGroup.addLayer(marker);\n\n      return marker;\n    },\n    _bindMarker: function _bindMarker(marker) {\n      marker.on('dragstart', this._onMarkerDragStart, this).on('drag', this._onMarkerDrag, this).on('dragend', this._onMarkerDragEnd, this).on('touchstart', this._onTouchStart, this).on('touchmove', this._onTouchMove, this).on('MSPointerMove', this._onTouchMove, this).on('touchend', this._onTouchEnd, this).on('MSPointerUp', this._onTouchEnd, this);\n    },\n    _unbindMarker: function _unbindMarker(marker) {\n      marker.off('dragstart', this._onMarkerDragStart, this).off('drag', this._onMarkerDrag, this).off('dragend', this._onMarkerDragEnd, this).off('touchstart', this._onTouchStart, this).off('touchmove', this._onTouchMove, this).off('MSPointerMove', this._onTouchMove, this).off('touchend', this._onTouchEnd, this).off('MSPointerUp', this._onTouchEnd, this);\n    },\n    _onMarkerDragStart: function _onMarkerDragStart(e) {\n      var marker = e.target;\n      marker.setOpacity(0);\n\n      this._shape.fire('editstart');\n    },\n    _fireEdit: function _fireEdit() {\n      this._shape.edited = true;\n\n      this._shape.fire('edit');\n    },\n    _onMarkerDrag: function _onMarkerDrag(e) {\n      var marker = e.target,\n          latlng = marker.getLatLng();\n\n      if (marker === this._moveMarker) {\n        this._move(latlng);\n      } else {\n        this._resize(latlng);\n      }\n\n      this._shape.redraw();\n\n      this._shape.fire('editdrag');\n    },\n    _onMarkerDragEnd: function _onMarkerDragEnd(e) {\n      var marker = e.target;\n      marker.setOpacity(1);\n\n      this._fireEdit();\n    },\n    _onTouchStart: function _onTouchStart(e) {\n      L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this, e);\n\n      if (typeof this._getCorners === 'function') {\n        // Save a reference to the opposite point\n        var corners = this._getCorners(),\n            marker = e.target,\n            currentCornerIndex = marker._cornerIndex;\n\n        marker.setOpacity(0); // Copyed from Edit.Rectangle.js line 23 _onMarkerDragStart()\n        // Latlng is null otherwise.\n\n        this._oppositeCorner = corners[(currentCornerIndex + 2) % 4];\n\n        this._toggleCornerMarkers(0, currentCornerIndex);\n      }\n\n      this._shape.fire('editstart');\n    },\n    _onTouchMove: function _onTouchMove(e) {\n      var layerPoint = this._map.mouseEventToLayerPoint(e.originalEvent.touches[0]),\n          latlng = this._map.layerPointToLatLng(layerPoint),\n          marker = e.target;\n\n      if (marker === this._moveMarker) {\n        this._move(latlng);\n      } else {\n        this._resize(latlng);\n      }\n\n      this._shape.redraw(); // prevent touchcancel in IOS\n      // e.preventDefault();\n\n\n      return false;\n    },\n    _onTouchEnd: function _onTouchEnd(e) {\n      var marker = e.target;\n      marker.setOpacity(1);\n      this.updateMarkers();\n\n      this._fireEdit();\n    },\n    _move: function _move() {// Children override\n    },\n    _resize: function _resize() {// Children override\n    }\n  });\n  L.Edit = L.Edit || {};\n  /**\n   * @class L.Edit.Rectangle\n   * @aka Edit.Rectangle\n   * @inherits L.Edit.SimpleShape\n   */\n\n  L.Edit.Rectangle = L.Edit.SimpleShape.extend({\n    _createMoveMarker: function _createMoveMarker() {\n      var bounds = this._shape.getBounds(),\n          center = bounds.getCenter();\n\n      this._moveMarker = this._createMarker(center, this.options.moveIcon);\n    },\n    _createResizeMarker: function _createResizeMarker() {\n      var corners = this._getCorners();\n\n      this._resizeMarkers = [];\n\n      for (var i = 0, l = corners.length; i < l; i++) {\n        this._resizeMarkers.push(this._createMarker(corners[i], this.options.resizeIcon)); // Monkey in the corner index as we will need to know this for dragging\n\n\n        this._resizeMarkers[i]._cornerIndex = i;\n      }\n    },\n    _onMarkerDragStart: function _onMarkerDragStart(e) {\n      L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this, e); // Save a reference to the opposite point\n\n\n      var corners = this._getCorners(),\n          marker = e.target,\n          currentCornerIndex = marker._cornerIndex;\n\n      this._oppositeCorner = corners[(currentCornerIndex + 2) % 4];\n\n      this._toggleCornerMarkers(0, currentCornerIndex);\n    },\n    _onMarkerDragEnd: function _onMarkerDragEnd(e) {\n      var marker = e.target,\n          bounds,\n          center; // Reset move marker position to the center\n\n      if (marker === this._moveMarker) {\n        bounds = this._shape.getBounds();\n        center = bounds.getCenter();\n        marker.setLatLng(center);\n      }\n\n      this._toggleCornerMarkers(1);\n\n      this._repositionCornerMarkers();\n\n      L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this, e);\n    },\n    _move: function _move(newCenter) {\n      var latlngs = this._shape._defaultShape ? this._shape._defaultShape() : this._shape.getLatLngs(),\n          bounds = this._shape.getBounds(),\n          center = bounds.getCenter(),\n          offset,\n          newLatLngs = []; // Offset the latlngs to the new center\n\n\n      for (var i = 0, l = latlngs.length; i < l; i++) {\n        offset = [latlngs[i].lat - center.lat, latlngs[i].lng - center.lng];\n        newLatLngs.push([newCenter.lat + offset[0], newCenter.lng + offset[1]]);\n      }\n\n      this._shape.setLatLngs(newLatLngs); // Reposition the resize markers\n\n\n      this._repositionCornerMarkers();\n\n      this._map.fire(L.Draw.Event.EDITMOVE, {\n        layer: this._shape\n      });\n    },\n    _resize: function _resize(latlng) {\n      var bounds; // Update the shape based on the current position of this corner and the opposite point\n\n      this._shape.setBounds(L.latLngBounds(latlng, this._oppositeCorner)); // Reposition the move marker\n\n\n      bounds = this._shape.getBounds();\n\n      this._moveMarker.setLatLng(bounds.getCenter());\n\n      this._map.fire(L.Draw.Event.EDITRESIZE, {\n        layer: this._shape\n      });\n    },\n    _getCorners: function _getCorners() {\n      var bounds = this._shape.getBounds(),\n          nw = bounds.getNorthWest(),\n          ne = bounds.getNorthEast(),\n          se = bounds.getSouthEast(),\n          sw = bounds.getSouthWest();\n\n      return [nw, ne, se, sw];\n    },\n    _toggleCornerMarkers: function _toggleCornerMarkers(opacity) {\n      for (var i = 0, l = this._resizeMarkers.length; i < l; i++) {\n        this._resizeMarkers[i].setOpacity(opacity);\n      }\n    },\n    _repositionCornerMarkers: function _repositionCornerMarkers() {\n      var corners = this._getCorners();\n\n      for (var i = 0, l = this._resizeMarkers.length; i < l; i++) {\n        this._resizeMarkers[i].setLatLng(corners[i]);\n      }\n    }\n  });\n  L.Rectangle.addInitHook(function () {\n    if (L.Edit.Rectangle) {\n      this.editing = new L.Edit.Rectangle(this);\n\n      if (this.options.editable) {\n        this.editing.enable();\n      }\n    }\n  });\n  L.Edit = L.Edit || {};\n  /**\n   * @class L.Edit.CircleMarker\n   * @aka Edit.Circle\n   * @inherits L.Edit.SimpleShape\n   */\n\n  L.Edit.CircleMarker = L.Edit.SimpleShape.extend({\n    _createMoveMarker: function _createMoveMarker() {\n      var center = this._shape.getLatLng();\n\n      this._moveMarker = this._createMarker(center, this.options.moveIcon);\n    },\n    _createResizeMarker: function _createResizeMarker() {\n      // To avoid an undefined check in L.Edit.SimpleShape.removeHooks\n      this._resizeMarkers = [];\n    },\n    _move: function _move(latlng) {\n      if (this._resizeMarkers.length) {\n        var resizemarkerPoint = this._getResizeMarkerPoint(latlng); // Move the resize marker\n\n\n        this._resizeMarkers[0].setLatLng(resizemarkerPoint);\n      } // Move the circle\n\n\n      this._shape.setLatLng(latlng);\n\n      this._map.fire(L.Draw.Event.EDITMOVE, {\n        layer: this._shape\n      });\n    }\n  });\n  L.CircleMarker.addInitHook(function () {\n    if (L.Edit.CircleMarker) {\n      this.editing = new L.Edit.CircleMarker(this);\n\n      if (this.options.editable) {\n        this.editing.enable();\n      }\n    }\n\n    this.on('add', function () {\n      if (this.editing && this.editing.enabled()) {\n        this.editing.addHooks();\n      }\n    });\n    this.on('remove', function () {\n      if (this.editing && this.editing.enabled()) {\n        this.editing.removeHooks();\n      }\n    });\n  });\n  L.Edit = L.Edit || {};\n  /**\n   * @class L.Edit.Circle\n   * @aka Edit.Circle\n   * @inherits L.Edit.CircleMarker\n   */\n\n  L.Edit.Circle = L.Edit.CircleMarker.extend({\n    _createResizeMarker: function _createResizeMarker() {\n      var center = this._shape.getLatLng(),\n          resizemarkerPoint = this._getResizeMarkerPoint(center);\n\n      this._resizeMarkers = [];\n\n      this._resizeMarkers.push(this._createMarker(resizemarkerPoint, this.options.resizeIcon));\n    },\n    _getResizeMarkerPoint: function _getResizeMarkerPoint(latlng) {\n      // From L.shape.getBounds()\n      var delta = this._shape._radius * Math.cos(Math.PI / 4),\n          point = this._map.project(latlng);\n\n      return this._map.unproject([point.x + delta, point.y - delta]);\n    },\n    _resize: function _resize(latlng) {\n      var moveLatLng = this._moveMarker.getLatLng(); // Calculate the radius based on the version\n\n\n      if (L.GeometryUtil.isVersion07x()) {\n        radius = moveLatLng.distanceTo(latlng);\n      } else {\n        radius = this._map.distance(moveLatLng, latlng);\n\n        if (this._map.options.crs.code === 'EPSG:4326') {\n          radius = radius / 111194.92664455873;\n        }\n      }\n\n      this._shape.setRadius(radius);\n\n      if (this._map.editTooltip) {\n        this._map._editTooltip.updateContent({\n          text: L.drawLocal.edit.handlers.edit.tooltip.subtext + '<br />' + L.drawLocal.edit.handlers.edit.tooltip.text,\n          subtext: L.drawLocal.draw.handlers.circle.radius + ': ' + L.GeometryUtil.readableDistance(radius, true, this.options.feet, this.options.nautic)\n        });\n      }\n\n      this._shape.setRadius(radius);\n\n      this._map.fire(L.Draw.Event.EDITRESIZE, {\n        layer: this._shape\n      });\n    }\n  });\n  L.Circle.addInitHook(function () {\n    if (L.Edit.Circle) {\n      this.editing = new L.Edit.Circle(this);\n\n      if (this.options.editable) {\n        this.editing.enable();\n      }\n    }\n  });\n  L.Map.mergeOptions({\n    touchExtend: true\n  });\n  /**\n   * @class L.Map.TouchExtend\n   * @aka TouchExtend\n   */\n\n  L.Map.TouchExtend = L.Handler.extend({\n    // @method initialize(): void\n    // Sets TouchExtend private accessor variables\n    initialize: function initialize(map) {\n      this._map = map;\n      this._container = map._container;\n      this._pane = map._panes.overlayPane;\n    },\n    // @method addHooks(): void\n    // Adds dom listener events to the map container\n    addHooks: function addHooks() {\n      L.DomEvent.on(this._container, 'touchstart', this._onTouchStart, this);\n      L.DomEvent.on(this._container, 'touchend', this._onTouchEnd, this);\n      L.DomEvent.on(this._container, 'touchmove', this._onTouchMove, this);\n\n      if (this._detectIE()) {\n        L.DomEvent.on(this._container, 'MSPointerDown', this._onTouchStart, this);\n        L.DomEvent.on(this._container, 'MSPointerUp', this._onTouchEnd, this);\n        L.DomEvent.on(this._container, 'MSPointerMove', this._onTouchMove, this);\n        L.DomEvent.on(this._container, 'MSPointerCancel', this._onTouchCancel, this);\n      } else {\n        L.DomEvent.on(this._container, 'touchcancel', this._onTouchCancel, this);\n        L.DomEvent.on(this._container, 'touchleave', this._onTouchLeave, this);\n      }\n    },\n    // @method removeHooks(): void\n    // Removes dom listener events from the map container\n    removeHooks: function removeHooks() {\n      L.DomEvent.off(this._container, 'touchstart', this._onTouchStart, this);\n      L.DomEvent.off(this._container, 'touchend', this._onTouchEnd, this);\n      L.DomEvent.off(this._container, 'touchmove', this._onTouchMove, this);\n\n      if (this._detectIE()) {\n        L.DomEvent.off(this._container, 'MSPointerDown', this._onTouchStart, this);\n        L.DomEvent.off(this._container, 'MSPointerUp', this._onTouchEnd, this);\n        L.DomEvent.off(this._container, 'MSPointerMove', this._onTouchMove, this);\n        L.DomEvent.off(this._container, 'MSPointerCancel', this._onTouchCancel, this);\n      } else {\n        L.DomEvent.off(this._container, 'touchcancel', this._onTouchCancel, this);\n        L.DomEvent.off(this._container, 'touchleave', this._onTouchLeave, this);\n      }\n    },\n    _touchEvent: function _touchEvent(e, type) {\n      // #TODO: fix the pageX error that is do a bug in Android where a single touch triggers two click events\n      // _filterClick is what leaflet uses as a workaround.\n      // This is a problem with more things than just android. Another problem is touchEnd has no touches in\n      // its touch list.\n      var touchEvent = {};\n\n      if (typeof e.touches !== 'undefined') {\n        if (!e.touches.length) {\n          return;\n        }\n\n        touchEvent = e.touches[0];\n      } else if (e.pointerType === 'touch') {\n        touchEvent = e;\n\n        if (!this._filterClick(e)) {\n          return;\n        }\n      } else {\n        return;\n      }\n\n      var containerPoint = this._map.mouseEventToContainerPoint(touchEvent),\n          layerPoint = this._map.mouseEventToLayerPoint(touchEvent),\n          latlng = this._map.layerPointToLatLng(layerPoint);\n\n      this._map.fire(type, {\n        latlng: latlng,\n        layerPoint: layerPoint,\n        containerPoint: containerPoint,\n        pageX: touchEvent.pageX,\n        pageY: touchEvent.pageY,\n        originalEvent: e\n      });\n    },\n\n    /** Borrowed from Leaflet and modified for bool ops **/\n    _filterClick: function _filterClick(e) {\n      var timeStamp = e.timeStamp || e.originalEvent.timeStamp,\n          elapsed = L.DomEvent._lastClick && timeStamp - L.DomEvent._lastClick; // are they closer together than 500ms yet more than 100ms?\n      // Android typically triggers them ~300ms apart while multiple listeners\n      // on the same event should be triggered far faster;\n      // or check if click is simulated on the element, and if it is, reject any non-simulated events\n\n      if (elapsed && elapsed > 100 && elapsed < 500 || e.target._simulatedClick && !e._simulated) {\n        L.DomEvent.stop(e);\n        return false;\n      }\n\n      L.DomEvent._lastClick = timeStamp;\n      return true;\n    },\n    _onTouchStart: function _onTouchStart(e) {\n      if (!this._map._loaded) {\n        return;\n      }\n\n      var type = 'touchstart';\n\n      this._touchEvent(e, type);\n    },\n    _onTouchEnd: function _onTouchEnd(e) {\n      if (!this._map._loaded) {\n        return;\n      }\n\n      var type = 'touchend';\n\n      this._touchEvent(e, type);\n    },\n    _onTouchCancel: function _onTouchCancel(e) {\n      if (!this._map._loaded) {\n        return;\n      }\n\n      var type = 'touchcancel';\n\n      if (this._detectIE()) {\n        type = 'pointercancel';\n      }\n\n      this._touchEvent(e, type);\n    },\n    _onTouchLeave: function _onTouchLeave(e) {\n      if (!this._map._loaded) {\n        return;\n      }\n\n      var type = 'touchleave';\n\n      this._touchEvent(e, type);\n    },\n    _onTouchMove: function _onTouchMove(e) {\n      if (!this._map._loaded) {\n        return;\n      }\n\n      var type = 'touchmove';\n\n      this._touchEvent(e, type);\n    },\n    _detectIE: function _detectIE() {\n      var ua = window.navigator.userAgent;\n      var msie = ua.indexOf('MSIE ');\n\n      if (msie > 0) {\n        // IE 10 or older => return version number\n        return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\n      }\n\n      var trident = ua.indexOf('Trident/');\n\n      if (trident > 0) {\n        // IE 11 => return version number\n        var rv = ua.indexOf('rv:');\n        return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\n      }\n\n      var edge = ua.indexOf('Edge/');\n\n      if (edge > 0) {\n        // IE 12 => return version number\n        return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\n      } // other browser\n\n\n      return false;\n    }\n  });\n  L.Map.addInitHook('addHandler', 'touchExtend', L.Map.TouchExtend);\n  /**\n   * @class L.Marker.Touch\n   * @aka Marker.Touch\n   *\n   * This isn't full Touch support. This is just to get markers to also support dom touch events after creation\n   * #TODO: find a better way of getting markers to support touch.\n   */\n\n  L.Marker.Touch = L.Marker.extend({\n    _initInteraction: function _initInteraction() {\n      if (!this.addInteractiveTarget) {\n        // 0.7.x support\n        return this._initInteractionLegacy();\n      } // TODO this may need be updated to re-add touch events for 1.0+\n\n\n      return L.Marker.prototype._initInteraction.apply(this);\n    },\n    // This is an exact copy of https://github.com/Leaflet/Leaflet/blob/v0.7/src/layer/marker/Marker.js\n    // with the addition of the touch events\n    _initInteractionLegacy: function _initInteractionLegacy() {\n      if (!this.options.clickable) {\n        return;\n      } // TODO refactor into something shared with Map/Path/etc. to DRY it up\n\n\n      var icon = this._icon,\n          events = ['dblclick', 'mousedown', 'mouseover', 'mouseout', 'contextmenu', 'touchstart', 'touchend', 'touchmove'];\n\n      if (this._detectIE) {\n        events.concat(['MSPointerDown', 'MSPointerUp', 'MSPointerMove', 'MSPointerCancel']);\n      } else {\n        events.concat(['touchcancel']);\n      }\n\n      L.DomUtil.addClass(icon, 'leaflet-clickable');\n      L.DomEvent.on(icon, 'click', this._onMouseClick, this);\n      L.DomEvent.on(icon, 'keypress', this._onKeyPress, this);\n\n      for (var i = 0; i < events.length; i++) {\n        L.DomEvent.on(icon, events[i], this._fireMouseEvent, this);\n      }\n\n      if (L.Handler.MarkerDrag) {\n        this.dragging = new L.Handler.MarkerDrag(this);\n\n        if (this.options.draggable) {\n          this.dragging.enable();\n        }\n      }\n    },\n    _detectIE: function _detectIE() {\n      var ua = window.navigator.userAgent;\n      var msie = ua.indexOf('MSIE ');\n\n      if (msie > 0) {\n        // IE 10 or older => return version number\n        return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\n      }\n\n      var trident = ua.indexOf('Trident/');\n\n      if (trident > 0) {\n        // IE 11 => return version number\n        var rv = ua.indexOf('rv:');\n        return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\n      }\n\n      var edge = ua.indexOf('Edge/');\n\n      if (edge > 0) {\n        // IE 12 => return version number\n        return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\n      } // other browser\n\n\n      return false;\n    }\n  });\n  /**\n   * @class L.LatLngUtil\n   * @aka LatLngUtil\n   */\n\n  L.LatLngUtil = {\n    // Clones a LatLngs[], returns [][]\n    // @method cloneLatLngs(LatLngs[]): L.LatLngs[]\n    // Clone the latLng point or points or nested points and return an array with those points\n    cloneLatLngs: function cloneLatLngs(latlngs) {\n      var clone = [];\n\n      for (var i = 0, l = latlngs.length; i < l; i++) {\n        // Check for nested array (Polyline/Polygon)\n        if (Array.isArray(latlngs[i])) {\n          clone.push(L.LatLngUtil.cloneLatLngs(latlngs[i]));\n        } else {\n          clone.push(this.cloneLatLng(latlngs[i]));\n        }\n      }\n\n      return clone;\n    },\n    // @method cloneLatLng(LatLng): L.LatLng\n    // Clone the latLng and return a new LatLng object.\n    cloneLatLng: function cloneLatLng(latlng) {\n      return L.latLng(latlng.lat, latlng.lng);\n    }\n  };\n\n  (function () {\n    var defaultPrecision = {\n      km: 2,\n      ha: 2,\n      m: 0,\n      mi: 2,\n      ac: 2,\n      yd: 0,\n      ft: 0,\n      nm: 2\n    };\n    /**\n     * @class L.GeometryUtil\n     * @aka GeometryUtil\n     */\n\n    L.GeometryUtil = L.extend(L.GeometryUtil || {}, {\n      // Ported from the OpenLayers implementation. See https://github.com/openlayers/openlayers/blob/master/lib/OpenLayers/Geometry/LinearRing.js#L270\n      // @method geodesicArea(): number\n      geodesicArea: function geodesicArea(latLngs) {\n        var pointsCount = latLngs.length,\n            area = 0.0,\n            d2r = Math.PI / 180,\n            p1,\n            p2;\n\n        if (pointsCount > 2) {\n          for (var i = 0; i < pointsCount; i++) {\n            p1 = latLngs[i];\n            p2 = latLngs[(i + 1) % pointsCount];\n            area += (p2.lng - p1.lng) * d2r * (2 + Math.sin(p1.lat * d2r) + Math.sin(p2.lat * d2r));\n          }\n\n          area = area * 6378137.0 * 6378137.0 / 2.0;\n        }\n\n        return Math.abs(area);\n      },\n      // @method formattedNumber(n, precision): string\n      // Returns n in specified number format (if defined) and precision\n      formattedNumber: function formattedNumber(n, precision) {\n        var formatted = parseFloat(n).toFixed(precision),\n            format = L.drawLocal.format && L.drawLocal.format.numeric,\n            delimiters = format && format.delimiters,\n            thousands = delimiters && delimiters.thousands,\n            decimal = delimiters && delimiters.decimal;\n\n        if (thousands || decimal) {\n          var splitValue = formatted.split('.');\n          formatted = thousands ? splitValue[0].replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1' + thousands) : splitValue[0];\n          decimal = decimal || '.';\n\n          if (splitValue.length > 1) {\n            formatted = formatted + decimal + splitValue[1];\n          }\n        }\n\n        return formatted;\n      },\n      // @method readableArea(area, isMetric, precision): string\n      // Returns a readable area string in yards or metric.\n      // The value will be rounded as defined by the precision option object.\n      readableArea: function readableArea(area, isMetric, precision) {\n        var areaStr,\n            units,\n            precision = L.Util.extend({}, defaultPrecision, precision);\n\n        if (isMetric) {\n          units = ['ha', 'm'];\n          type = _typeof(isMetric);\n\n          if (type === 'string') {\n            units = [isMetric];\n          } else if (type !== 'boolean') {\n            units = isMetric;\n          }\n\n          if (area >= 1000000 && units.indexOf('km') !== -1) {\n            areaStr = L.GeometryUtil.formattedNumber(area * 0.000001, precision['km']) + ' km²';\n          } else if (area >= 10000 && units.indexOf('ha') !== -1) {\n            areaStr = L.GeometryUtil.formattedNumber(area * 0.0001, precision['ha']) + ' ha';\n          } else {\n            areaStr = L.GeometryUtil.formattedNumber(area, precision['m']) + ' m²';\n          }\n        } else {\n          area /= 0.836127; // Square yards in 1 meter\n\n          if (area >= 3097600) {\n            //3097600 square yards in 1 square mile\n            areaStr = L.GeometryUtil.formattedNumber(area / 3097600, precision['mi']) + ' mi²';\n          } else if (area >= 4840) {\n            //4840 square yards in 1 acre\n            areaStr = L.GeometryUtil.formattedNumber(area / 4840, precision['ac']) + ' acres';\n          } else {\n            areaStr = L.GeometryUtil.formattedNumber(area, precision['yd']) + ' yd²';\n          }\n        }\n\n        return areaStr;\n      },\n      // @method readableDistance(distance, units): string\n      // Converts a metric distance to one of [ feet, nauticalMile, metric or yards ] string\n      //\n      // @alternative\n      // @method readableDistance(distance, isMetric, useFeet, isNauticalMile, precision): string\n      // Converts metric distance to distance string.\n      // The value will be rounded as defined by the precision option object.\n      readableDistance: function readableDistance(distance, isMetric, isFeet, isNauticalMile, precision) {\n        var distanceStr,\n            units,\n            precision = L.Util.extend({}, defaultPrecision, precision);\n\n        if (isMetric) {\n          units = typeof isMetric == 'string' ? isMetric : 'metric';\n        } else if (isFeet) {\n          units = 'feet';\n        } else if (isNauticalMile) {\n          units = 'nauticalMile';\n        } else {\n          units = 'yards';\n        }\n\n        switch (units) {\n          case 'metric':\n            // show metres when distance is < 1km, then show km\n            if (distance > 1000) {\n              distanceStr = L.GeometryUtil.formattedNumber(distance / 1000, precision['km']) + ' km';\n            } else {\n              distanceStr = L.GeometryUtil.formattedNumber(distance, precision['m']) + ' m';\n            }\n\n            break;\n\n          case 'feet':\n            distance *= 1.09361 * 3;\n            distanceStr = L.GeometryUtil.formattedNumber(distance, precision['ft']) + ' ft';\n            break;\n\n          case 'nauticalMile':\n            distance *= 0.53996;\n            distanceStr = L.GeometryUtil.formattedNumber(distance / 1000, precision['nm']) + ' nm';\n            break;\n\n          case 'yards':\n          default:\n            distance *= 1.09361;\n\n            if (distance > 1760) {\n              distanceStr = L.GeometryUtil.formattedNumber(distance / 1760, precision['mi']) + ' miles';\n            } else {\n              distanceStr = L.GeometryUtil.formattedNumber(distance, precision['yd']) + ' yd';\n            }\n\n            break;\n        }\n\n        return distanceStr;\n      },\n      // @method isVersion07x(): boolean\n      // Returns true if the Leaflet version is 0.7.x, false otherwise.\n      isVersion07x: function isVersion07x() {\n        var version = L.version.split('.'); //If Version is == 0.7.*\n\n        return parseInt(version[0], 10) === 0 && parseInt(version[1], 10) === 7;\n      }\n    });\n  })();\n  /**\n   * @class L.LineUtil\n   * @aka Util\n   * @aka L.Utils\n   */\n\n\n  L.Util.extend(L.LineUtil, {\n    // @method segmentsIntersect(): boolean\n    // Checks to see if two line segments intersect. Does not handle degenerate cases.\n    // http://compgeom.cs.uiuc.edu/~jeffe/teaching/373/notes/x06-sweepline.pdf\n    segmentsIntersect: function segmentsIntersect(\n    /*Point*/\n    p,\n    /*Point*/\n    p1,\n    /*Point*/\n    p2,\n    /*Point*/\n    p3) {\n      return this._checkCounterclockwise(p, p2, p3) !== this._checkCounterclockwise(p1, p2, p3) && this._checkCounterclockwise(p, p1, p2) !== this._checkCounterclockwise(p, p1, p3);\n    },\n    // check to see if points are in counterclockwise order\n    _checkCounterclockwise: function _checkCounterclockwise(\n    /*Point*/\n    p,\n    /*Point*/\n    p1,\n    /*Point*/\n    p2) {\n      return (p2.y - p.y) * (p1.x - p.x) > (p1.y - p.y) * (p2.x - p.x);\n    }\n  });\n  /**\n   * @class L.Polyline\n   * @aka Polyline\n   */\n\n  L.Polyline.include({\n    // @method intersects(): boolean\n    // Check to see if this polyline has any linesegments that intersect.\n    // NOTE: does not support detecting intersection for degenerate cases.\n    intersects: function intersects() {\n      var points = this._getProjectedPoints(),\n          len = points ? points.length : 0,\n          i,\n          p,\n          p1;\n\n      if (this._tooFewPointsForIntersection()) {\n        return false;\n      }\n\n      for (i = len - 1; i >= 3; i--) {\n        p = points[i - 1];\n        p1 = points[i];\n\n        if (this._lineSegmentsIntersectsRange(p, p1, i - 2)) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n    // @method newLatLngIntersects(): boolean\n    // Check for intersection if new latlng was added to this polyline.\n    // NOTE: does not support detecting intersection for degenerate cases.\n    newLatLngIntersects: function newLatLngIntersects(latlng, skipFirst) {\n      // Cannot check a polyline for intersecting lats/lngs when not added to the map\n      if (!this._map) {\n        return false;\n      }\n\n      return this.newPointIntersects(this._map.latLngToLayerPoint(latlng), skipFirst);\n    },\n    // @method newPointIntersects(): boolean\n    // Check for intersection if new point was added to this polyline.\n    // newPoint must be a layer point.\n    // NOTE: does not support detecting intersection for degenerate cases.\n    newPointIntersects: function newPointIntersects(newPoint, skipFirst) {\n      var points = this._getProjectedPoints(),\n          len = points ? points.length : 0,\n          lastPoint = points ? points[len - 1] : null,\n          // The previous previous line segment. Previous line segment doesn't need testing.\n      maxIndex = len - 2;\n\n      if (this._tooFewPointsForIntersection(1)) {\n        return false;\n      }\n\n      return this._lineSegmentsIntersectsRange(lastPoint, newPoint, maxIndex, skipFirst ? 1 : 0);\n    },\n    // Polylines with 2 sides can only intersect in cases where points are collinear (we don't support detecting these).\n    // Cannot have intersection when < 3 line segments (< 4 points)\n    _tooFewPointsForIntersection: function _tooFewPointsForIntersection(extraPoints) {\n      var points = this._getProjectedPoints(),\n          len = points ? points.length : 0; // Increment length by extraPoints if present\n\n\n      len += extraPoints || 0;\n      return !points || len <= 3;\n    },\n    // Checks a line segment intersections with any line segments before its predecessor.\n    // Don't need to check the predecessor as will never intersect.\n    _lineSegmentsIntersectsRange: function _lineSegmentsIntersectsRange(p, p1, maxIndex, minIndex) {\n      var points = this._getProjectedPoints(),\n          p2,\n          p3;\n\n      minIndex = minIndex || 0; // Check all previous line segments (beside the immediately previous) for intersections\n\n      for (var j = maxIndex; j > minIndex; j--) {\n        p2 = points[j - 1];\n        p3 = points[j];\n\n        if (L.LineUtil.segmentsIntersect(p, p1, p2, p3)) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n    _getProjectedPoints: function _getProjectedPoints() {\n      if (!this._defaultShape) {\n        return this._originalPoints;\n      }\n\n      var points = [],\n          _shape = this._defaultShape();\n\n      for (var i = 0; i < _shape.length; i++) {\n        points.push(this._map.latLngToLayerPoint(_shape[i]));\n      }\n\n      return points;\n    }\n  });\n  /**\n   * @class L.Polygon\n   * @aka Polygon\n   */\n\n  L.Polygon.include({\n    // @method intersects(): boolean\n    // Checks a polygon for any intersecting line segments. Ignores holes.\n    intersects: function intersects() {\n      var polylineIntersects,\n          points = this._getProjectedPoints(),\n          len,\n          firstPoint,\n          lastPoint,\n          maxIndex;\n\n      if (this._tooFewPointsForIntersection()) {\n        return false;\n      }\n\n      polylineIntersects = L.Polyline.prototype.intersects.call(this); // If already found an intersection don't need to check for any more.\n\n      if (polylineIntersects) {\n        return true;\n      }\n\n      len = points.length;\n      firstPoint = points[0];\n      lastPoint = points[len - 1];\n      maxIndex = len - 2; // Check the line segment between last and first point. Don't need to check the first line segment (minIndex = 1)\n\n      return this._lineSegmentsIntersectsRange(lastPoint, firstPoint, maxIndex, 1);\n    }\n  });\n  /**\n   * @class L.Control.Draw\n   * @aka L.Draw\n   */\n\n  L.Control.Draw = L.Control.extend({\n    // Options\n    options: {\n      position: 'topleft',\n      draw: {},\n      edit: false\n    },\n    // @method initialize(): void\n    // Initializes draw control, toolbars from the options\n    initialize: function initialize(options) {\n      if (L.version < '0.7') {\n        throw new Error('Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/');\n      }\n\n      L.Control.prototype.initialize.call(this, options);\n      var toolbar;\n      this._toolbars = {}; // Initialize toolbars\n\n      if (L.DrawToolbar && this.options.draw) {\n        toolbar = new L.DrawToolbar(this.options.draw);\n        this._toolbars[L.DrawToolbar.TYPE] = toolbar; // Listen for when toolbar is enabled\n\n        this._toolbars[L.DrawToolbar.TYPE].on('enable', this._toolbarEnabled, this);\n      }\n\n      if (L.EditToolbar && this.options.edit) {\n        toolbar = new L.EditToolbar(this.options.edit);\n        this._toolbars[L.EditToolbar.TYPE] = toolbar; // Listen for when toolbar is enabled\n\n        this._toolbars[L.EditToolbar.TYPE].on('enable', this._toolbarEnabled, this);\n      }\n\n      L.toolbar = this; //set global var for editing the toolbar\n    },\n    // @method onAdd(): container\n    // Adds the toolbar container to the map\n    onAdd: function onAdd(map) {\n      var container = L.DomUtil.create('div', 'leaflet-draw'),\n          addedTopClass = false,\n          topClassName = 'leaflet-draw-toolbar-top',\n          toolbarContainer;\n\n      for (var toolbarId in this._toolbars) {\n        if (this._toolbars.hasOwnProperty(toolbarId)) {\n          toolbarContainer = this._toolbars[toolbarId].addToolbar(map);\n\n          if (toolbarContainer) {\n            // Add class to the first toolbar to remove the margin\n            if (!addedTopClass) {\n              if (!L.DomUtil.hasClass(toolbarContainer, topClassName)) {\n                L.DomUtil.addClass(toolbarContainer.childNodes[0], topClassName);\n              }\n\n              addedTopClass = true;\n            }\n\n            container.appendChild(toolbarContainer);\n          }\n        }\n      }\n\n      return container;\n    },\n    // @method onRemove(): void\n    // Removes the toolbars from the map toolbar container\n    onRemove: function onRemove() {\n      for (var toolbarId in this._toolbars) {\n        if (this._toolbars.hasOwnProperty(toolbarId)) {\n          this._toolbars[toolbarId].removeToolbar();\n        }\n      }\n    },\n    // @method setDrawingOptions(options): void\n    // Sets options to all toolbar instances\n    setDrawingOptions: function setDrawingOptions(options) {\n      for (var toolbarId in this._toolbars) {\n        if (this._toolbars[toolbarId] instanceof L.DrawToolbar) {\n          this._toolbars[toolbarId].setOptions(options);\n        }\n      }\n    },\n    _toolbarEnabled: function _toolbarEnabled(e) {\n      var enabledToolbar = e.target;\n\n      for (var toolbarId in this._toolbars) {\n        if (this._toolbars[toolbarId] !== enabledToolbar) {\n          this._toolbars[toolbarId].disable();\n        }\n      }\n    }\n  });\n  L.Map.mergeOptions({\n    drawControlTooltips: true,\n    drawControl: false\n  });\n  L.Map.addInitHook(function () {\n    if (this.options.drawControl) {\n      this.drawControl = new L.Control.Draw();\n      this.addControl(this.drawControl);\n    }\n  });\n  /**\n   * @class L.Draw.Toolbar\n   * @aka Toolbar\n   *\n   * The toolbar class of the API — it is used to create the ui\n   * This will be depreciated\n   *\n   * @example\n   *\n   * ```js\n   *    var toolbar = L.Toolbar();\n   *    toolbar.addToolbar(map);\n   * ```\n   *\n   * ### Disabling a toolbar\n   *\n   * If you do not want a particular toolbar in your app you can turn it off by setting the toolbar to false.\n   *\n   * ```js\n   *      var drawControl = new L.Control.Draw({\n   *          draw: false,\n   *          edit: {\n   *              featureGroup: editableLayers\n   *          }\n   *      });\n   * ```\n   *\n   * ### Disabling a toolbar item\n   *\n   * If you want to turn off a particular toolbar item, set it to false. The following disables drawing polygons and\n   * markers. It also turns off the ability to edit layers.\n   *\n   * ```js\n   *      var drawControl = new L.Control.Draw({\n   *          draw: {\n   *              polygon: false,\n   *              marker: false\n   *          },\n   *          edit: {\n   *              featureGroup: editableLayers,\n   *              edit: false\n   *          }\n   *      });\n   * ```\n   */\n\n  L.Toolbar = L.Class.extend({\n    // @section Methods for modifying the toolbar\n    // @method initialize(options): void\n    // Toolbar constructor\n    initialize: function initialize(options) {\n      L.setOptions(this, options);\n      this._modes = {};\n      this._actionButtons = [];\n      this._activeMode = null;\n      var version = L.version.split('.'); //If Version is >= 1.2.0\n\n      if (parseInt(version[0], 10) === 1 && parseInt(version[1], 10) >= 2) {\n        L.Toolbar.include(L.Evented.prototype);\n      } else {\n        L.Toolbar.include(L.Mixin.Events);\n      }\n    },\n    // @method enabled(): boolean\n    // Gets a true/false of whether the toolbar is enabled\n    enabled: function enabled() {\n      return this._activeMode !== null;\n    },\n    // @method disable(): void\n    // Disables the toolbar\n    disable: function disable() {\n      if (!this.enabled()) {\n        return;\n      }\n\n      this._activeMode.handler.disable();\n    },\n    // @method addToolbar(map): L.DomUtil\n    // Adds the toolbar to the map and returns the toolbar dom element\n    addToolbar: function addToolbar(map) {\n      var container = L.DomUtil.create('div', 'leaflet-draw-section'),\n          buttonIndex = 0,\n          buttonClassPrefix = this._toolbarClass || '',\n          modeHandlers = this.getModeHandlers(map),\n          i;\n      this._toolbarContainer = L.DomUtil.create('div', 'leaflet-draw-toolbar leaflet-bar');\n      this._map = map;\n\n      for (i = 0; i < modeHandlers.length; i++) {\n        if (modeHandlers[i].enabled) {\n          this._initModeHandler(modeHandlers[i].handler, this._toolbarContainer, buttonIndex++, buttonClassPrefix, modeHandlers[i].title);\n        }\n      } // if no buttons were added, do not add the toolbar\n\n\n      if (!buttonIndex) {\n        return;\n      } // Save button index of the last button, -1 as we would have ++ after the last button\n\n\n      this._lastButtonIndex = --buttonIndex; // Create empty actions part of the toolbar\n\n      this._actionsContainer = L.DomUtil.create('ul', 'leaflet-draw-actions'); // Add draw and cancel containers to the control container\n\n      container.appendChild(this._toolbarContainer);\n      container.appendChild(this._actionsContainer);\n      return container;\n    },\n    // @method removeToolbar(): void\n    // Removes the toolbar and drops the handler event listeners\n    removeToolbar: function removeToolbar() {\n      // Dispose each handler\n      for (var handlerId in this._modes) {\n        if (this._modes.hasOwnProperty(handlerId)) {\n          // Unbind handler button\n          this._disposeButton(this._modes[handlerId].button, this._modes[handlerId].handler.enable, this._modes[handlerId].handler); // Make sure is disabled\n\n\n          this._modes[handlerId].handler.disable(); // Unbind handler\n\n\n          this._modes[handlerId].handler.off('enabled', this._handlerActivated, this).off('disabled', this._handlerDeactivated, this);\n        }\n      }\n\n      this._modes = {}; // Dispose the actions toolbar\n\n      for (var i = 0, l = this._actionButtons.length; i < l; i++) {\n        this._disposeButton(this._actionButtons[i].button, this._actionButtons[i].callback, this);\n      }\n\n      this._actionButtons = [];\n      this._actionsContainer = null;\n    },\n    _initModeHandler: function _initModeHandler(handler, container, buttonIndex, classNamePredix, buttonTitle) {\n      var type = handler.type;\n      this._modes[type] = {};\n      this._modes[type].handler = handler;\n      this._modes[type].button = this._createButton({\n        type: type,\n        title: buttonTitle,\n        className: classNamePredix + '-' + type,\n        container: container,\n        callback: this._modes[type].handler.enable,\n        context: this._modes[type].handler\n      });\n      this._modes[type].buttonIndex = buttonIndex;\n\n      this._modes[type].handler.on('enabled', this._handlerActivated, this).on('disabled', this._handlerDeactivated, this);\n    },\n\n    /* Detect iOS based on browser User Agent, based on:\n    * http://stackoverflow.com/a/9039885 */\n    _detectIOS: function _detectIOS() {\n      var iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n      return iOS;\n    },\n    _createButton: function _createButton(options) {\n      var link = L.DomUtil.create('a', options.className || '', options.container); // Screen reader tag\n\n      var sr = L.DomUtil.create('span', 'sr-only', options.container);\n      link.href = '#';\n      link.appendChild(sr);\n\n      if (options.title) {\n        link.title = options.title;\n        sr.innerHTML = options.title;\n      }\n\n      if (options.text) {\n        link.innerHTML = options.text;\n        sr.innerHTML = options.text;\n      }\n      /* iOS does not use click events */\n\n\n      var buttonEvent = this._detectIOS() ? 'touchstart' : 'click';\n      L.DomEvent.on(link, 'click', L.DomEvent.stopPropagation).on(link, 'mousedown', L.DomEvent.stopPropagation).on(link, 'dblclick', L.DomEvent.stopPropagation).on(link, 'touchstart', L.DomEvent.stopPropagation).on(link, 'click', L.DomEvent.preventDefault).on(link, buttonEvent, options.callback, options.context);\n      return link;\n    },\n    _disposeButton: function _disposeButton(button, callback) {\n      /* iOS does not use click events */\n      var buttonEvent = this._detectIOS() ? 'touchstart' : 'click';\n      L.DomEvent.off(button, 'click', L.DomEvent.stopPropagation).off(button, 'mousedown', L.DomEvent.stopPropagation).off(button, 'dblclick', L.DomEvent.stopPropagation).off(button, 'touchstart', L.DomEvent.stopPropagation).off(button, 'click', L.DomEvent.preventDefault).off(button, buttonEvent, callback);\n    },\n    _handlerActivated: function _handlerActivated(e) {\n      // Disable active mode (if present)\n      this.disable(); // Cache new active feature\n\n      this._activeMode = this._modes[e.handler];\n      L.DomUtil.addClass(this._activeMode.button, 'leaflet-draw-toolbar-button-enabled');\n\n      this._showActionsToolbar();\n\n      this.fire('enable');\n    },\n    _handlerDeactivated: function _handlerDeactivated() {\n      this._hideActionsToolbar();\n\n      L.DomUtil.removeClass(this._activeMode.button, 'leaflet-draw-toolbar-button-enabled');\n      this._activeMode = null;\n      this.fire('disable');\n    },\n    _createActions: function _createActions(handler) {\n      var container = this._actionsContainer,\n          buttons = this.getActions(handler),\n          l = buttons.length,\n          li,\n          di,\n          dl,\n          button; // Dispose the actions toolbar (todo: dispose only not used buttons)\n\n      for (di = 0, dl = this._actionButtons.length; di < dl; di++) {\n        this._disposeButton(this._actionButtons[di].button, this._actionButtons[di].callback);\n      }\n\n      this._actionButtons = []; // Remove all old buttons\n\n      while (container.firstChild) {\n        container.removeChild(container.firstChild);\n      }\n\n      for (var i = 0; i < l; i++) {\n        if ('enabled' in buttons[i] && !buttons[i].enabled) {\n          continue;\n        }\n\n        li = L.DomUtil.create('li', '', container);\n        button = this._createButton({\n          title: buttons[i].title,\n          text: buttons[i].text,\n          container: li,\n          callback: buttons[i].callback,\n          context: buttons[i].context\n        });\n\n        this._actionButtons.push({\n          button: button,\n          callback: buttons[i].callback\n        });\n      }\n    },\n    _showActionsToolbar: function _showActionsToolbar() {\n      var buttonIndex = this._activeMode.buttonIndex,\n          lastButtonIndex = this._lastButtonIndex,\n          toolbarPosition = this._activeMode.button.offsetTop - 1; // Recreate action buttons on every click\n\n      this._createActions(this._activeMode.handler); // Correctly position the cancel button\n\n\n      this._actionsContainer.style.top = toolbarPosition + 'px';\n\n      if (buttonIndex === 0) {\n        L.DomUtil.addClass(this._toolbarContainer, 'leaflet-draw-toolbar-notop');\n        L.DomUtil.addClass(this._actionsContainer, 'leaflet-draw-actions-top');\n      }\n\n      if (buttonIndex === lastButtonIndex) {\n        L.DomUtil.addClass(this._toolbarContainer, 'leaflet-draw-toolbar-nobottom');\n        L.DomUtil.addClass(this._actionsContainer, 'leaflet-draw-actions-bottom');\n      }\n\n      this._actionsContainer.style.display = 'block';\n\n      this._map.fire(L.Draw.Event.TOOLBAROPENED);\n    },\n    _hideActionsToolbar: function _hideActionsToolbar() {\n      this._actionsContainer.style.display = 'none';\n      L.DomUtil.removeClass(this._toolbarContainer, 'leaflet-draw-toolbar-notop');\n      L.DomUtil.removeClass(this._toolbarContainer, 'leaflet-draw-toolbar-nobottom');\n      L.DomUtil.removeClass(this._actionsContainer, 'leaflet-draw-actions-top');\n      L.DomUtil.removeClass(this._actionsContainer, 'leaflet-draw-actions-bottom');\n\n      this._map.fire(L.Draw.Event.TOOLBARCLOSED);\n    }\n  });\n  L.Draw = L.Draw || {};\n  /**\n   * @class L.Draw.Tooltip\n   * @aka Tooltip\n   *\n   * The tooltip class — it is used to display the tooltip while drawing\n   * This will be depreciated\n   *\n   * @example\n   *\n   * ```js\n   *    var tooltip = L.Draw.Tooltip();\n   * ```\n   *\n   */\n\n  L.Draw.Tooltip = L.Class.extend({\n    // @section Methods for modifying draw state\n    // @method initialize(map): void\n    // Tooltip constructor\n    initialize: function initialize(map) {\n      this._map = map;\n      this._popupPane = map._panes.popupPane;\n      this._visible = false;\n      this._container = map.options.drawControlTooltips ? L.DomUtil.create('div', 'leaflet-draw-tooltip', this._popupPane) : null;\n      this._singleLineLabel = false;\n\n      this._map.on('mouseout', this._onMouseOut, this);\n    },\n    // @method dispose(): void\n    // Remove Tooltip DOM and unbind events\n    dispose: function dispose() {\n      this._map.off('mouseout', this._onMouseOut, this);\n\n      if (this._container) {\n        this._popupPane.removeChild(this._container);\n\n        this._container = null;\n      }\n    },\n    // @method updateContent(labelText): this\n    // Changes the tooltip text to string in function call\n    updateContent: function updateContent(labelText) {\n      if (!this._container) {\n        return this;\n      }\n\n      labelText.subtext = labelText.subtext || ''; // update the vertical position (only if changed)\n\n      if (labelText.subtext.length === 0 && !this._singleLineLabel) {\n        L.DomUtil.addClass(this._container, 'leaflet-draw-tooltip-single');\n        this._singleLineLabel = true;\n      } else if (labelText.subtext.length > 0 && this._singleLineLabel) {\n        L.DomUtil.removeClass(this._container, 'leaflet-draw-tooltip-single');\n        this._singleLineLabel = false;\n      }\n\n      this._container.innerHTML = (labelText.subtext.length > 0 ? '<span class=\"leaflet-draw-tooltip-subtext\">' + labelText.subtext + '</span>' + '<br />' : '') + '<span>' + labelText.text + '</span>';\n\n      if (!labelText.text && !labelText.subtext) {\n        this._visible = false;\n        this._container.style.visibility = 'hidden';\n      } else {\n        this._visible = true;\n        this._container.style.visibility = 'inherit';\n      }\n\n      return this;\n    },\n    // @method updatePosition(latlng): this\n    // Changes the location of the tooltip\n    updatePosition: function updatePosition(latlng) {\n      var pos = this._map.latLngToLayerPoint(latlng),\n          tooltipContainer = this._container;\n\n      if (this._container) {\n        if (this._visible) {\n          tooltipContainer.style.visibility = 'inherit';\n        }\n\n        L.DomUtil.setPosition(tooltipContainer, pos);\n      }\n\n      return this;\n    },\n    // @method showAsError(): this\n    // Applies error class to tooltip\n    showAsError: function showAsError() {\n      if (this._container) {\n        L.DomUtil.addClass(this._container, 'leaflet-error-draw-tooltip');\n      }\n\n      return this;\n    },\n    // @method removeError(): this\n    // Removes the error class from the tooltip\n    removeError: function removeError() {\n      if (this._container) {\n        L.DomUtil.removeClass(this._container, 'leaflet-error-draw-tooltip');\n      }\n\n      return this;\n    },\n    _onMouseOut: function _onMouseOut() {\n      if (this._container) {\n        this._container.style.visibility = 'hidden';\n      }\n    }\n  });\n  /**\n   * @class L.DrawToolbar\n   * @aka Toolbar\n   */\n\n  L.DrawToolbar = L.Toolbar.extend({\n    statics: {\n      TYPE: 'draw'\n    },\n    options: {\n      polyline: {},\n      polygon: {},\n      rectangle: {},\n      circle: {},\n      marker: {},\n      circlemarker: {}\n    },\n    // @method initialize(): void\n    initialize: function initialize(options) {\n      // Ensure that the options are merged correctly since L.extend is only shallow\n      for (var type in this.options) {\n        if (this.options.hasOwnProperty(type)) {\n          if (options[type]) {\n            options[type] = L.extend({}, this.options[type], options[type]);\n          }\n        }\n      }\n\n      this._toolbarClass = 'leaflet-draw-draw';\n      L.Toolbar.prototype.initialize.call(this, options);\n    },\n    // @method getModeHandlers(): object\n    // Get mode handlers information\n    getModeHandlers: function getModeHandlers(map) {\n      return [{\n        enabled: this.options.polyline,\n        handler: new L.Draw.Polyline(map, this.options.polyline),\n        title: L.drawLocal.draw.toolbar.buttons.polyline\n      }, {\n        enabled: this.options.polygon,\n        handler: new L.Draw.Polygon(map, this.options.polygon),\n        title: L.drawLocal.draw.toolbar.buttons.polygon\n      }, {\n        enabled: this.options.rectangle,\n        handler: new L.Draw.Rectangle(map, this.options.rectangle),\n        title: L.drawLocal.draw.toolbar.buttons.rectangle\n      }, {\n        enabled: this.options.circle,\n        handler: new L.Draw.Circle(map, this.options.circle),\n        title: L.drawLocal.draw.toolbar.buttons.circle\n      }, {\n        enabled: this.options.marker,\n        handler: new L.Draw.Marker(map, this.options.marker),\n        title: L.drawLocal.draw.toolbar.buttons.marker\n      }, {\n        enabled: this.options.circlemarker,\n        handler: new L.Draw.CircleMarker(map, this.options.circlemarker),\n        title: L.drawLocal.draw.toolbar.buttons.circlemarker\n      }];\n    },\n    // @method getActions(): object\n    // Get action information\n    getActions: function getActions(handler) {\n      return [{\n        enabled: handler.completeShape,\n        title: L.drawLocal.draw.toolbar.finish.title,\n        text: L.drawLocal.draw.toolbar.finish.text,\n        callback: handler.completeShape,\n        context: handler\n      }, {\n        enabled: handler.deleteLastVertex,\n        title: L.drawLocal.draw.toolbar.undo.title,\n        text: L.drawLocal.draw.toolbar.undo.text,\n        callback: handler.deleteLastVertex,\n        context: handler\n      }, {\n        title: L.drawLocal.draw.toolbar.actions.title,\n        text: L.drawLocal.draw.toolbar.actions.text,\n        callback: this.disable,\n        context: this\n      }];\n    },\n    // @method setOptions(): void\n    // Sets the options to the toolbar\n    setOptions: function setOptions(options) {\n      L.setOptions(this, options);\n\n      for (var type in this._modes) {\n        if (this._modes.hasOwnProperty(type) && options.hasOwnProperty(type)) {\n          this._modes[type].handler.setOptions(options[type]);\n        }\n      }\n    }\n  });\n  /*L.Map.mergeOptions({\n  editControl: true\n  });*/\n\n  /**\n   * @class L.EditToolbar\n   * @aka EditToolbar\n   */\n\n  L.EditToolbar = L.Toolbar.extend({\n    statics: {\n      TYPE: 'edit'\n    },\n    options: {\n      edit: {\n        selectedPathOptions: {\n          dashArray: '10, 10',\n          fill: true,\n          fillColor: '#fe57a1',\n          fillOpacity: 0.1,\n          // Whether to user the existing layers color\n          maintainColor: false\n        }\n      },\n      remove: {},\n      poly: null,\n      featureGroup: null\n      /* REQUIRED! TODO: perhaps if not set then all layers on the map are selectable? */\n\n    },\n    // @method intialize(): void\n    initialize: function initialize(options) {\n      // Need to set this manually since null is an acceptable value here\n      if (options.edit) {\n        if (typeof options.edit.selectedPathOptions === 'undefined') {\n          options.edit.selectedPathOptions = this.options.edit.selectedPathOptions;\n        }\n\n        options.edit.selectedPathOptions = L.extend({}, this.options.edit.selectedPathOptions, options.edit.selectedPathOptions);\n      }\n\n      if (options.remove) {\n        options.remove = L.extend({}, this.options.remove, options.remove);\n      }\n\n      if (options.poly) {\n        options.poly = L.extend({}, this.options.poly, options.poly);\n      }\n\n      this._toolbarClass = 'leaflet-draw-edit';\n      L.Toolbar.prototype.initialize.call(this, options);\n      this._selectedFeatureCount = 0;\n    },\n    // @method getModeHandlers(): object\n    // Get mode handlers information\n    getModeHandlers: function getModeHandlers(map) {\n      var featureGroup = this.options.featureGroup;\n      return [{\n        enabled: this.options.edit,\n        handler: new L.EditToolbar.Edit(map, {\n          featureGroup: featureGroup,\n          selectedPathOptions: this.options.edit.selectedPathOptions,\n          poly: this.options.poly\n        }),\n        title: L.drawLocal.edit.toolbar.buttons.edit\n      }, {\n        enabled: this.options.remove,\n        handler: new L.EditToolbar.Delete(map, {\n          featureGroup: featureGroup\n        }),\n        title: L.drawLocal.edit.toolbar.buttons.remove\n      }];\n    },\n    // @method getActions(): object\n    // Get actions information\n    getActions: function getActions(handler) {\n      var actions = [{\n        title: L.drawLocal.edit.toolbar.actions.save.title,\n        text: L.drawLocal.edit.toolbar.actions.save.text,\n        callback: this._save,\n        context: this\n      }, {\n        title: L.drawLocal.edit.toolbar.actions.cancel.title,\n        text: L.drawLocal.edit.toolbar.actions.cancel.text,\n        callback: this.disable,\n        context: this\n      }];\n\n      if (handler.removeAllLayers) {\n        actions.push({\n          title: L.drawLocal.edit.toolbar.actions.clearAll.title,\n          text: L.drawLocal.edit.toolbar.actions.clearAll.text,\n          callback: this._clearAllLayers,\n          context: this\n        });\n      }\n\n      return actions;\n    },\n    // @method addToolbar(map): L.DomUtil\n    // Adds the toolbar to the map\n    addToolbar: function addToolbar(map) {\n      var container = L.Toolbar.prototype.addToolbar.call(this, map);\n\n      this._checkDisabled();\n\n      this.options.featureGroup.on('layeradd layerremove', this._checkDisabled, this);\n      return container;\n    },\n    // @method removeToolbar(): void\n    // Removes the toolbar from the map\n    removeToolbar: function removeToolbar() {\n      this.options.featureGroup.off('layeradd layerremove', this._checkDisabled, this);\n      L.Toolbar.prototype.removeToolbar.call(this);\n    },\n    // @method disable(): void\n    // Disables the toolbar\n    disable: function disable() {\n      if (!this.enabled()) {\n        return;\n      }\n\n      this._activeMode.handler.revertLayers();\n\n      L.Toolbar.prototype.disable.call(this);\n    },\n    _save: function _save() {\n      this._activeMode.handler.save();\n\n      if (this._activeMode) {\n        this._activeMode.handler.disable();\n      }\n    },\n    _clearAllLayers: function _clearAllLayers() {\n      this._activeMode.handler.removeAllLayers();\n\n      if (this._activeMode) {\n        this._activeMode.handler.disable();\n      }\n    },\n    _checkDisabled: function _checkDisabled() {\n      var featureGroup = this.options.featureGroup,\n          hasLayers = featureGroup.getLayers().length !== 0,\n          button;\n\n      if (this.options.edit) {\n        button = this._modes[L.EditToolbar.Edit.TYPE].button;\n\n        if (hasLayers) {\n          L.DomUtil.removeClass(button, 'leaflet-disabled');\n        } else {\n          L.DomUtil.addClass(button, 'leaflet-disabled');\n        }\n\n        button.setAttribute('title', hasLayers ? L.drawLocal.edit.toolbar.buttons.edit : L.drawLocal.edit.toolbar.buttons.editDisabled);\n      }\n\n      if (this.options.remove) {\n        button = this._modes[L.EditToolbar.Delete.TYPE].button;\n\n        if (hasLayers) {\n          L.DomUtil.removeClass(button, 'leaflet-disabled');\n        } else {\n          L.DomUtil.addClass(button, 'leaflet-disabled');\n        }\n\n        button.setAttribute('title', hasLayers ? L.drawLocal.edit.toolbar.buttons.remove : L.drawLocal.edit.toolbar.buttons.removeDisabled);\n      }\n    }\n  });\n  /**\n   * @class L.EditToolbar.Edit\n   * @aka EditToolbar.Edit\n   */\n\n  L.EditToolbar.Edit = L.Handler.extend({\n    statics: {\n      TYPE: 'edit'\n    },\n    // @method intialize(): void\n    initialize: function initialize(map, options) {\n      L.Handler.prototype.initialize.call(this, map);\n      L.setOptions(this, options); // Store the selectable layer group for ease of access\n\n      this._featureGroup = options.featureGroup;\n\n      if (!(this._featureGroup instanceof L.FeatureGroup)) {\n        throw new Error('options.featureGroup must be a L.FeatureGroup');\n      }\n\n      this._uneditedLayerProps = {}; // Save the type so super can fire, need to do this as cannot do this.TYPE :(\n\n      this.type = L.EditToolbar.Edit.TYPE;\n      var version = L.version.split('.'); //If Version is >= 1.2.0\n\n      if (parseInt(version[0], 10) === 1 && parseInt(version[1], 10) >= 2) {\n        L.EditToolbar.Edit.include(L.Evented.prototype);\n      } else {\n        L.EditToolbar.Edit.include(L.Mixin.Events);\n      }\n    },\n    // @method enable(): void\n    // Enable the edit toolbar\n    enable: function enable() {\n      if (this._enabled || !this._hasAvailableLayers()) {\n        return;\n      }\n\n      this.fire('enabled', {\n        handler: this.type\n      }); //this disable other handlers\n\n      this._map.fire(L.Draw.Event.EDITSTART, {\n        handler: this.type\n      }); //allow drawLayer to be updated before beginning edition.\n\n\n      L.Handler.prototype.enable.call(this);\n\n      this._featureGroup.on('layeradd', this._enableLayerEdit, this).on('layerremove', this._disableLayerEdit, this);\n    },\n    // @method disable(): void\n    // Disable the edit toolbar\n    disable: function disable() {\n      if (!this._enabled) {\n        return;\n      }\n\n      this._featureGroup.off('layeradd', this._enableLayerEdit, this).off('layerremove', this._disableLayerEdit, this);\n\n      L.Handler.prototype.disable.call(this);\n\n      this._map.fire(L.Draw.Event.EDITSTOP, {\n        handler: this.type\n      });\n\n      this.fire('disabled', {\n        handler: this.type\n      });\n    },\n    // @method addHooks(): void\n    // Add listener hooks for this handler\n    addHooks: function addHooks() {\n      var map = this._map;\n\n      if (map) {\n        map.getContainer().focus();\n\n        this._featureGroup.eachLayer(this._enableLayerEdit, this);\n\n        this._tooltip = new L.Draw.Tooltip(this._map);\n\n        this._tooltip.updateContent({\n          text: L.drawLocal.edit.handlers.edit.tooltip.text,\n          subtext: L.drawLocal.edit.handlers.edit.tooltip.subtext\n        }); // Quickly access the tooltip to update for intersection checking\n\n\n        map._editTooltip = this._tooltip;\n\n        this._updateTooltip();\n\n        this._map.on('mousemove', this._onMouseMove, this).on('touchmove', this._onMouseMove, this).on('MSPointerMove', this._onMouseMove, this).on(L.Draw.Event.EDITVERTEX, this._updateTooltip, this);\n      }\n    },\n    // @method removeHooks(): void\n    // Remove listener hooks for this handler\n    removeHooks: function removeHooks() {\n      if (this._map) {\n        // Clean up selected layers.\n        this._featureGroup.eachLayer(this._disableLayerEdit, this); // Clear the backups of the original layers\n\n\n        this._uneditedLayerProps = {};\n\n        this._tooltip.dispose();\n\n        this._tooltip = null;\n\n        this._map.off('mousemove', this._onMouseMove, this).off('touchmove', this._onMouseMove, this).off('MSPointerMove', this._onMouseMove, this).off(L.Draw.Event.EDITVERTEX, this._updateTooltip, this);\n      }\n    },\n    // @method revertLayers(): void\n    // Revert each layer's geometry changes\n    revertLayers: function revertLayers() {\n      this._featureGroup.eachLayer(function (layer) {\n        this._revertLayer(layer);\n      }, this);\n    },\n    // @method save(): void\n    // Save the layer geometries\n    save: function save() {\n      var editedLayers = new L.LayerGroup();\n\n      this._featureGroup.eachLayer(function (layer) {\n        if (layer.edited) {\n          editedLayers.addLayer(layer);\n          layer.edited = false;\n        }\n      });\n\n      this._map.fire(L.Draw.Event.EDITED, {\n        layers: editedLayers\n      });\n    },\n    _backupLayer: function _backupLayer(layer) {\n      var id = L.Util.stamp(layer);\n\n      if (!this._uneditedLayerProps[id]) {\n        // Polyline, Polygon or Rectangle\n        if (layer instanceof L.Polyline || layer instanceof L.Polygon || layer instanceof L.Rectangle) {\n          this._uneditedLayerProps[id] = {\n            latlngs: L.LatLngUtil.cloneLatLngs(layer.getLatLngs())\n          };\n        } else if (layer instanceof L.Circle) {\n          this._uneditedLayerProps[id] = {\n            latlng: L.LatLngUtil.cloneLatLng(layer.getLatLng()),\n            radius: layer.getRadius()\n          };\n        } else if (layer instanceof L.Marker || layer instanceof L.CircleMarker) {\n          // Marker\n          this._uneditedLayerProps[id] = {\n            latlng: L.LatLngUtil.cloneLatLng(layer.getLatLng())\n          };\n        }\n      }\n    },\n    _getTooltipText: function _getTooltipText() {\n      return {\n        text: L.drawLocal.edit.handlers.edit.tooltip.text,\n        subtext: L.drawLocal.edit.handlers.edit.tooltip.subtext\n      };\n    },\n    _updateTooltip: function _updateTooltip() {\n      this._tooltip.updateContent(this._getTooltipText());\n    },\n    _revertLayer: function _revertLayer(layer) {\n      var id = L.Util.stamp(layer);\n      layer.edited = false;\n\n      if (this._uneditedLayerProps.hasOwnProperty(id)) {\n        // Polyline, Polygon or Rectangle\n        if (layer instanceof L.Polyline || layer instanceof L.Polygon || layer instanceof L.Rectangle) {\n          layer.setLatLngs(this._uneditedLayerProps[id].latlngs);\n        } else if (layer instanceof L.Circle) {\n          layer.setLatLng(this._uneditedLayerProps[id].latlng);\n          layer.setRadius(this._uneditedLayerProps[id].radius);\n        } else if (layer instanceof L.Marker || layer instanceof L.CircleMarker) {\n          // Marker or CircleMarker\n          layer.setLatLng(this._uneditedLayerProps[id].latlng);\n        }\n\n        layer.fire('revert-edited', {\n          layer: layer\n        });\n      }\n    },\n    _enableLayerEdit: function _enableLayerEdit(e) {\n      var layer = e.layer || e.target || e,\n          pathOptions,\n          poly; // Back up this layer (if haven't before)\n\n      this._backupLayer(layer);\n\n      if (this.options.poly) {\n        poly = L.Util.extend({}, this.options.poly);\n        layer.options.poly = poly;\n      } // Set different style for editing mode\n\n\n      if (this.options.selectedPathOptions) {\n        pathOptions = L.Util.extend({}, this.options.selectedPathOptions); // Use the existing color of the layer\n\n        if (pathOptions.maintainColor) {\n          pathOptions.color = layer.options.color;\n          pathOptions.fillColor = layer.options.fillColor;\n        }\n\n        layer.options.original = L.extend({}, layer.options);\n        layer.options.editing = pathOptions;\n      }\n\n      if (layer instanceof L.Marker) {\n        if (layer.editing) {\n          layer.editing.enable();\n        }\n\n        layer.dragging.enable();\n        layer.on('dragend', this._onMarkerDragEnd) // #TODO: remove when leaflet finally fixes their draggable so it's touch friendly again.\n        .on('touchmove', this._onTouchMove, this).on('MSPointerMove', this._onTouchMove, this).on('touchend', this._onMarkerDragEnd, this).on('MSPointerUp', this._onMarkerDragEnd, this);\n      } else {\n        layer.editing.enable();\n      }\n    },\n    _disableLayerEdit: function _disableLayerEdit(e) {\n      var layer = e.layer || e.target || e;\n      layer.edited = false;\n\n      if (layer.editing) {\n        layer.editing.disable();\n      }\n\n      delete layer.options.editing;\n      delete layer.options.original; // Reset layer styles to that of before select\n\n      if (this._selectedPathOptions) {\n        if (layer instanceof L.Marker) {\n          this._toggleMarkerHighlight(layer);\n        } else {\n          // reset the layer style to what is was before being selected\n          layer.setStyle(layer.options.previousOptions); // remove the cached options for the layer object\n\n          delete layer.options.previousOptions;\n        }\n      }\n\n      if (layer instanceof L.Marker) {\n        layer.dragging.disable();\n        layer.off('dragend', this._onMarkerDragEnd, this).off('touchmove', this._onTouchMove, this).off('MSPointerMove', this._onTouchMove, this).off('touchend', this._onMarkerDragEnd, this).off('MSPointerUp', this._onMarkerDragEnd, this);\n      } else {\n        layer.editing.disable();\n      }\n    },\n    _onMouseMove: function _onMouseMove(e) {\n      this._tooltip.updatePosition(e.latlng);\n    },\n    _onMarkerDragEnd: function _onMarkerDragEnd(e) {\n      var layer = e.target;\n      layer.edited = true;\n\n      this._map.fire(L.Draw.Event.EDITMOVE, {\n        layer: layer\n      });\n    },\n    _onTouchMove: function _onTouchMove(e) {\n      var touchEvent = e.originalEvent.changedTouches[0],\n          layerPoint = this._map.mouseEventToLayerPoint(touchEvent),\n          latlng = this._map.layerPointToLatLng(layerPoint);\n\n      e.target.setLatLng(latlng);\n    },\n    _hasAvailableLayers: function _hasAvailableLayers() {\n      return this._featureGroup.getLayers().length !== 0;\n    }\n  });\n  /**\n   * @class L.EditToolbar.Delete\n   * @aka EditToolbar.Delete\n   */\n\n  L.EditToolbar.Delete = L.Handler.extend({\n    statics: {\n      TYPE: 'remove' // not delete as delete is reserved in js\n\n    },\n    // @method intialize(): void\n    initialize: function initialize(map, options) {\n      L.Handler.prototype.initialize.call(this, map);\n      L.Util.setOptions(this, options); // Store the selectable layer group for ease of access\n\n      this._deletableLayers = this.options.featureGroup;\n\n      if (!(this._deletableLayers instanceof L.FeatureGroup)) {\n        throw new Error('options.featureGroup must be a L.FeatureGroup');\n      } // Save the type so super can fire, need to do this as cannot do this.TYPE :(\n\n\n      this.type = L.EditToolbar.Delete.TYPE;\n      var version = L.version.split('.'); //If Version is >= 1.2.0\n\n      if (parseInt(version[0], 10) === 1 && parseInt(version[1], 10) >= 2) {\n        L.EditToolbar.Delete.include(L.Evented.prototype);\n      } else {\n        L.EditToolbar.Delete.include(L.Mixin.Events);\n      }\n    },\n    // @method enable(): void\n    // Enable the delete toolbar\n    enable: function enable() {\n      if (this._enabled || !this._hasAvailableLayers()) {\n        return;\n      }\n\n      this.fire('enabled', {\n        handler: this.type\n      });\n\n      this._map.fire(L.Draw.Event.DELETESTART, {\n        handler: this.type\n      });\n\n      L.Handler.prototype.enable.call(this);\n\n      this._deletableLayers.on('layeradd', this._enableLayerDelete, this).on('layerremove', this._disableLayerDelete, this);\n    },\n    // @method disable(): void\n    // Disable the delete toolbar\n    disable: function disable() {\n      if (!this._enabled) {\n        return;\n      }\n\n      this._deletableLayers.off('layeradd', this._enableLayerDelete, this).off('layerremove', this._disableLayerDelete, this);\n\n      L.Handler.prototype.disable.call(this);\n\n      this._map.fire(L.Draw.Event.DELETESTOP, {\n        handler: this.type\n      });\n\n      this.fire('disabled', {\n        handler: this.type\n      });\n    },\n    // @method addHooks(): void\n    // Add listener hooks to this handler\n    addHooks: function addHooks() {\n      var map = this._map;\n\n      if (map) {\n        map.getContainer().focus();\n\n        this._deletableLayers.eachLayer(this._enableLayerDelete, this);\n\n        this._deletedLayers = new L.LayerGroup();\n        this._tooltip = new L.Draw.Tooltip(this._map);\n\n        this._tooltip.updateContent({\n          text: L.drawLocal.edit.handlers.remove.tooltip.text\n        });\n\n        this._map.on('mousemove', this._onMouseMove, this);\n      }\n    },\n    // @method removeHooks(): void\n    // Remove listener hooks from this handler\n    removeHooks: function removeHooks() {\n      if (this._map) {\n        this._deletableLayers.eachLayer(this._disableLayerDelete, this);\n\n        this._deletedLayers = null;\n\n        this._tooltip.dispose();\n\n        this._tooltip = null;\n\n        this._map.off('mousemove', this._onMouseMove, this);\n      }\n    },\n    // @method revertLayers(): void\n    // Revert the deleted layers back to their prior state.\n    revertLayers: function revertLayers() {\n      // Iterate of the deleted layers and add them back into the featureGroup\n      this._deletedLayers.eachLayer(function (layer) {\n        this._deletableLayers.addLayer(layer);\n\n        layer.fire('revert-deleted', {\n          layer: layer\n        });\n      }, this);\n    },\n    // @method save(): void\n    // Save deleted layers\n    save: function save() {\n      this._map.fire(L.Draw.Event.DELETED, {\n        layers: this._deletedLayers\n      });\n    },\n    // @method removeAllLayers(): void\n    // Remove all delateable layers\n    removeAllLayers: function removeAllLayers() {\n      // Iterate of the delateable layers and add remove them\n      this._deletableLayers.eachLayer(function (layer) {\n        this._removeLayer({\n          layer: layer\n        });\n      }, this);\n\n      this.save();\n    },\n    _enableLayerDelete: function _enableLayerDelete(e) {\n      var layer = e.layer || e.target || e;\n      layer.on('click', this._removeLayer, this);\n    },\n    _disableLayerDelete: function _disableLayerDelete(e) {\n      var layer = e.layer || e.target || e;\n      layer.off('click', this._removeLayer, this); // Remove from the deleted layers so we can't accidentally revert if the user presses cancel\n\n      this._deletedLayers.removeLayer(layer);\n    },\n    _removeLayer: function _removeLayer(e) {\n      var layer = e.layer || e.target || e;\n\n      this._deletableLayers.removeLayer(layer);\n\n      this._deletedLayers.addLayer(layer);\n\n      layer.fire('deleted');\n    },\n    _onMouseMove: function _onMouseMove(e) {\n      this._tooltip.updatePosition(e.latlng);\n    },\n    _hasAvailableLayers: function _hasAvailableLayers() {\n      return this._deletableLayers.getLayers().length !== 0;\n    }\n  });\n})(window, document);\n\n//# sourceURL=webpack://tmap/./src/plugins/draw/leaflet.draw-src.js?");

/***/ }),

/***/ "./src/plugins/draw/leaflet.draw.css":
/*!*******************************************!*\
  !*** ./src/plugins/draw/leaflet.draw.css ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var api = __webpack_require__(/*! ../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !../../../node_modules/css-loader/dist/cjs.js!./leaflet.draw.css */ \"./node_modules/css-loader/dist/cjs.js!./src/plugins/draw/leaflet.draw.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(module.i, content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;\n\n//# sourceURL=webpack://tmap/./src/plugins/draw/leaflet.draw.css?");

/***/ }),

/***/ "./src/plugins/graticule/L.LatlngGraticule.js":
/*!****************************************************!*\
  !*** ./src/plugins/graticule/L.LatlngGraticule.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("L.Control.BetterScale = L.Control.extend({\n  options: {\n    position: \"bottomright\",\n    maxWidth: 150,\n    metric: !1,\n    imperial: !0,\n    updateWhenIdle: !1\n  },\n  onAdd: function onAdd(t) {\n    this._map = t;\n    var e = \"leaflet-control-better-scale\",\n        i = L.DomUtil.create(\"div\", e),\n        n = this.options,\n        s = L.DomUtil.create(\"div\", e + \"-ruler\", i);\n    L.DomUtil.create(\"div\", e + \"-ruler-block \" + e + \"-upper-first-piece\", s), L.DomUtil.create(\"div\", e + \"-ruler-block \" + e + \"-upper-second-piece\", s), L.DomUtil.create(\"div\", e + \"-ruler-block \" + e + \"-lower-first-piece\", s), L.DomUtil.create(\"div\", e + \"-ruler-block \" + e + \"-lower-second-piece\", s);\n    return this._addScales(n, e, i), this.ScaleContainer = i, t.on(n.updateWhenIdle ? \"moveend\" : \"move\", this._update, this), t.whenReady(this._update, this), i;\n  },\n  onRemove: function onRemove(t) {\n    t.off(this.options.updateWhenIdle ? \"moveend\" : \"move\", this._update, this);\n  },\n  _addScales: function _addScales(t, e, i) {\n    this._iScale = L.DomUtil.create(\"div\", e + \"-label-div\", i), this._iScaleLabel = L.DomUtil.create(\"div\", e + \"-label\", this._iScale), this._iScaleFirstNumber = L.DomUtil.create(\"div\", e + \"-label \" + e + \"-first-number\", this._iScale), this._iScaleSecondNumber = L.DomUtil.create(\"div\", e + \"-label \" + e + \"-second-number\", this._iScale);\n  },\n  _update: function _update() {\n    var t = this._map.getBounds(),\n        e = t.getCenter().lat,\n        i = 6378137 * Math.PI * Math.cos(e * Math.PI / 180),\n        n = i * (t.getNorthEast().lng - t.getSouthWest().lng) / 180,\n        o = this._map.getSize(),\n        s = this.options,\n        a = 0;\n\n    o.x > 0 && (a = n * (s.maxWidth / o.x)), this._updateScales(s, a);\n  },\n  _updateScales: function _updateScales(t, e) {\n    t.metric && e && this._updateMetric(e), t.imperial && e && this._updateImperial(e);\n  },\n  _updateMetric_old: function _updateMetric_old(t) {\n    var e = this._getRoundNum(t);\n\n    this._iScale.style.width = this._getScaleWidth(e / t) + \"px\", this._iScaleLabel.innerHTML = 1e3 > e ? e + \" m\" : e / 1e3 + \" km\";\n  },\n  _updateMetric: function _updateMetric(t) {\n    var e,\n        i,\n        n,\n        o,\n        s,\n        a = t,\n        r = this._iScaleFirstNumber,\n        h = this._iScaleSecondNumber,\n        l = this._iScale,\n        u = this._iScaleLabel;\n    u.innerHTML = \"0\", a > 500 ? (e = a / 1000, i = this._getRoundNum(e), o = this._getRoundNum(e / 2), l.style.width = this._getScaleWidth(i / e) + \"px\", r.innerHTML = o, h.innerHTML = i + \"km\") : (n = this._getRoundNum(a), s = this._getRoundNum(a / 2), l.style.width = this._getScaleWidth(n / a) + \"px\", r.innerHTML = s, h.innerHTML = n + \"m\");\n  },\n  _updateImperial: function _updateImperial(t) {\n    var e,\n        i,\n        n,\n        o,\n        s,\n        a = 3.2808399 * t,\n        r = this._iScaleFirstNumber,\n        h = this._iScaleSecondNumber,\n        l = this._iScale,\n        u = this._iScaleLabel;\n    u.innerHTML = \"0\", a > 2640 ? (e = a / 5280, i = this._getRoundNum(e), o = this._getRoundNum(e / 2), l.style.width = this._getScaleWidth(i / e) + \"px\", r.innerHTML = o, h.innerHTML = i + \"mi\") : (n = this._getRoundNum(a), s = this._getRoundNum(a / 2), l.style.width = this._getScaleWidth(n / a) + \"px\", r.innerHTML = s, h.innerHTML = n + \"ft\");\n  },\n  _getScaleWidth: function _getScaleWidth(t) {\n    return Math.round(this.options.maxWidth * t) - 10;\n  },\n  _getRoundNum: function _getRoundNum(t) {\n    if (t >= 2) {\n      var e = Math.pow(10, (Math.floor(t) + \"\").length - 1),\n          i = t / e;\n      return i = i >= 10 ? 10 : i >= 5 ? 5 : i >= 3 ? 3 : i >= 2 ? 2 : 1, e * i;\n    }\n\n    return (Math.round(100 * t) / 100).toFixed(1);\n  }\n});\n\nL.control.betterscale = function (options) {\n  return new L.Control.BetterScale(options);\n};\n\n(function (window, document, undefined) {\n  L.LatLngGraticule = L.Layer.extend({\n    includes: L.Mixin.Events,\n    options: {\n      showLabel: true,\n      opacity: 1,\n      weight: 0.8,\n      color: '#aaa',\n      font: '12px Verdana',\n      dashArray: [0, 0],\n      lngLineCurved: 0,\n      latLineCurved: 0,\n      zoomInterval: [{\n        start: 2,\n        end: 2,\n        interval: 40\n      }, {\n        start: 3,\n        end: 3,\n        interval: 20\n      }, {\n        start: 4,\n        end: 4,\n        interval: 10\n      }, {\n        start: 5,\n        end: 7,\n        interval: 5\n      }, {\n        start: 8,\n        end: 20,\n        interval: 1\n      }]\n    },\n    initialize: function initialize(options) {\n      L.setOptions(this, options);\n      var defaultFontName = 'Verdana';\n\n      var _ff = this.options.font.split(' ');\n\n      if (_ff.length < 2) {\n        this.options.font += ' ' + defaultFontName;\n      }\n\n      if (!this.options.fontColor) {\n        this.options.fontColor = this.options.color;\n      }\n\n      if (this.options.zoomInterval) {\n        if (this.options.zoomInterval.latitude) {\n          this.options.latInterval = this.options.zoomInterval.latitude;\n\n          if (!this.options.zoomInterval.longitude) {\n            this.options.lngInterval = this.options.zoomInterval.latitude;\n          }\n        }\n\n        if (this.options.zoomInterval.longitude) {\n          this.options.lngInterval = this.options.zoomInterval.longitude;\n\n          if (!this.options.zoomInterval.latitude) {\n            this.options.latInterval = this.options.zoomInterval.longitude;\n          }\n        }\n\n        if (!this.options.latInterval) {\n          this.options.latInterval = this.options.zoomInterval;\n        }\n\n        if (!this.options.lngInterval) {\n          this.options.lngInterval = this.options.zoomInterval;\n        }\n      }\n    },\n    onAdd: function onAdd(map) {\n      this._map = map;\n\n      if (!this._canvas) {\n        this._initCanvas();\n      }\n\n      map._panes.overlayPane.appendChild(this._canvas);\n\n      map.on('viewreset', this._reset, this);\n      map.on('move', this._reset, this);\n      map.on('moveend', this._reset, this);\n\n      if (map.options.zoomAnimation && L.Browser.any3d) {\n        map.on('zoomanim', this._animateZoom, this);\n      }\n\n      this._reset();\n    },\n    onRemove: function onRemove(map) {\n      L.DomUtil.remove(this._canvas);\n      map.off('viewreset', this._reset, this);\n      map.off('move', this._reset, this);\n      map.off('moveend', this._reset, this);\n\n      if (map.options.zoomAnimation) {\n        map.off('zoomanim', this._animateZoom, this);\n      }\n    },\n    addTo: function addTo(map) {\n      map.addLayer(this);\n      return this;\n    },\n    setOpacity: function setOpacity(opacity) {\n      this.options.opacity = opacity;\n\n      this._updateOpacity();\n\n      return this;\n    },\n    bringToFront: function bringToFront() {\n      if (this._canvas) {//this._map._panes.overlayPane.appendChild(this._canvas);\n      }\n\n      return this;\n    },\n    bringToBack: function bringToBack() {\n      var pane = this._map._panes.overlayPane;\n\n      if (this._canvas) {//pane.insertBefore(this._canvas, pane.firstChild);\n      }\n\n      return this;\n    },\n    getAttribution: function getAttribution() {\n      return this.options.attribution;\n    },\n    _initCanvas: function _initCanvas() {\n      this._canvas = L.DomUtil.create('canvas', '');\n\n      if (this._map.options.zoomAnimation && L.Browser.any3d) {\n        L.DomUtil.addClass(this._canvas, 'leaflet-zoom-animated');\n      } else {\n        L.DomUtil.addClass(this._canvas, 'leaflet-zoom-hide');\n      }\n\n      this._updateOpacity();\n\n      L.extend(this._canvas, {\n        onselectstart: L.Util.falseFn,\n        onmousemove: L.Util.falseFn,\n        onload: L.bind(this._onCanvasLoad, this)\n      });\n    },\n    _animateZoom: function _animateZoom(e) {\n      var map = this._map,\n          canvas = this._canvas,\n          scale = map.getZoomScale(e.zoom),\n          nw = map.containerPointToLatLng([0, 0]),\n          se = map.containerPointToLatLng([canvas.width, canvas.height]),\n          topLeft = map._latLngToNewLayerPoint(nw, e.zoom, e.center),\n          size = map._latLngToNewLayerPoint(se, e.zoom, e.center)._subtract(topLeft),\n          origin = topLeft._add(size._multiplyBy(1 / 2 * (1 - 1 / scale)));\n\n      L.DomUtil.setTransform(canvas, origin, scale);\n    },\n    _reset: function _reset() {\n      var canvas = this._canvas,\n          size = this._map.getSize(),\n          lt = this._map.containerPointToLayerPoint([0, 0]);\n\n      L.DomUtil.setPosition(canvas, lt);\n      canvas.width = size.x;\n      canvas.height = size.y;\n      canvas.style.width = size.x + 'px';\n      canvas.style.height = size.y + 'px';\n\n      this.__calcInterval();\n\n      this.__draw(true);\n    },\n    _onCanvasLoad: function _onCanvasLoad() {\n      this.fire('load');\n    },\n    _updateOpacity: function _updateOpacity() {\n      L.DomUtil.setOpacity(this._canvas, this.options.opacity);\n    },\n    __format_lat: function __format_lat(lat) {\n      if (this.options.latFormatTickLabel) {\n        return this.options.latFormatTickLabel(lat);\n      } // todo: format type of float\n\n\n      if (lat < 0) {\n        return '' + Number(lat * -1).toFixed(2) + 'S';\n      } else if (lat > 0) {\n        return '' + Number(lat).toFixed(2) + 'N';\n      }\n\n      return '' + Number(lat).toFixed(2);\n    },\n    __format_lng: function __format_lng(lng) {\n      if (this.options.lngFormatTickLabel) {\n        return this.options.lngFormatTickLabel(lng);\n      } // todo: format type of float\n\n\n      if (lng > 180) {\n        return '' + (360 - lng) + 'W';\n      } else if (lng > 0 && lng < 180) {\n        return '' + Number(lng).toFixed(2) + 'E';\n      } else if (lng < 0 && lng > -180) {\n        return '' + Number(lng * -1).toFixed(2) + 'W';\n      } else if (lng == -180) {\n        return '' + Number(lng * -1).toFixed(2);\n      } else if (lng < -180) {\n        return '' + Number(360 + lng).toFixed(2) + 'W';\n      }\n\n      return '' + lng;\n    },\n    __calcInterval: function __calcInterval() {\n      var zoom = this._map.getZoom();\n\n      if (this._currZoom != zoom) {\n        this._currLngInterval = 0;\n        this._currLatInterval = 0;\n        this._currZoom = zoom;\n      }\n\n      var interv;\n\n      if (!this._currLngInterval) {\n        try {\n          for (var idx in this.options.lngInterval) {\n            var dict = this.options.lngInterval[idx];\n\n            if (dict.start <= zoom) {\n              if (dict.end && dict.end >= zoom) {\n                this._currLngInterval = dict.interval;\n                break;\n              }\n            }\n          }\n        } catch (e) {\n          this._currLngInterval = 0;\n        }\n      }\n\n      if (!this._currLatInterval) {\n        try {\n          for (var idx in this.options.latInterval) {\n            var dict = this.options.latInterval[idx];\n\n            if (dict.start <= zoom) {\n              if (dict.end && dict.end >= zoom) {\n                this._currLatInterval = dict.interval;\n                break;\n              }\n            }\n          }\n        } catch (e) {\n          this._currLatInterval = 0;\n        }\n      }\n    },\n    __draw: function __draw(label) {\n      function _parse_px_to_int(txt) {\n        if (txt.length > 2) {\n          if (txt.charAt(txt.length - 2) == 'p') {\n            txt = txt.substr(0, txt.length - 2);\n          }\n        }\n\n        try {\n          return parseInt(txt, 10);\n        } catch (e) {}\n\n        return 0;\n      }\n\n      ;\n      var self = this,\n          canvas = this._canvas,\n          map = this._map,\n          curvedLon = this.options.lngLineCurved,\n          curvedLat = this.options.latLineCurved;\n\n      if (L.Browser.canvas && map) {\n        var __draw_lat_line = function __draw_lat_line(self, lat_tick) {\n          ll = self._latLngToCanvasPoint(L.latLng(lat_tick, _lon_l));\n          latstr = self.__format_lat(lat_tick);\n          txtWidth = ctx.measureText(latstr).width;\n\n          if (curvedLat) {\n            if (typeof curvedLat == 'number') {\n              _lon_delta = curvedLat;\n            }\n\n            var __lon_left = _lon_l,\n                __lon_right = _lon_r;\n\n            if (ll.x > 0) {\n              var __lon_left = map.containerPointToLatLng(L.point(0, ll.y));\n\n              __lon_left = __lon_left.lng - _point_per_lon;\n              ll.x = 0;\n            }\n\n            var rr = self._latLngToCanvasPoint(L.latLng(lat_tick, __lon_right));\n\n            if (rr.x < ww) {\n              __lon_right = map.containerPointToLatLng(L.point(ww, rr.y));\n              __lon_right = __lon_right.lng + _point_per_lon;\n\n              if (__lon_left > 0 && __lon_right < 0) {\n                __lon_right += 360;\n              }\n            }\n\n            ctx.beginPath();\n            ctx.moveTo(ll.x, ll.y);\n            var _prev_p = null;\n\n            for (var j = __lon_left; j <= __lon_right; j += _lon_delta) {\n              rr = self._latLngToCanvasPoint(L.latLng(lat_tick, j));\n              ctx.lineTo(rr.x, rr.y);\n\n              if (self.options.showLabel && label && _prev_p != null) {\n                if (_prev_p.x < 0 && rr.x >= 0) {\n                  var _s = (rr.x - 0) / (rr.x - _prev_p.x);\n\n                  var _y = rr.y - (rr.y - _prev_p.y) * _s;\n\n                  ctx.fillText(latstr, 0, _y + txtHeight / 2);\n                } else if (_prev_p.x <= ww - txtWidth && rr.x > ww - txtWidth) {\n                  var _s = (rr.x - ww) / (rr.x - _prev_p.x);\n\n                  var _y = rr.y - (rr.y - _prev_p.y) * _s;\n\n                  ctx.fillText(latstr, ww - txtWidth, _y + txtHeight / 2 - 2);\n                }\n              }\n\n              _prev_p = {\n                x: rr.x,\n                y: rr.y,\n                lon: j,\n                lat: i\n              };\n            }\n\n            ctx.stroke();\n          } else {\n            var __lon_right = _lon_r;\n\n            var rr = self._latLngToCanvasPoint(L.latLng(lat_tick, __lon_right));\n\n            if (curvedLon) {\n              __lon_right = map.containerPointToLatLng(L.point(0, rr.y));\n              __lon_right = __lon_right.lng;\n              rr = self._latLngToCanvasPoint(L.latLng(lat_tick, __lon_right));\n\n              var __lon_left = map.containerPointToLatLng(L.point(ww, rr.y));\n\n              __lon_left = __lon_left.lng;\n              ll = self._latLngToCanvasPoint(L.latLng(lat_tick, __lon_left));\n            }\n\n            ctx.beginPath();\n            ctx.moveTo(ll.x + 1, ll.y);\n            ctx.lineTo(rr.x - 1, rr.y);\n            ctx.stroke();\n\n            if (self.options.showLabel && label) {\n              var _yy = ll.y + txtHeight / 2 - 2;\n\n              ctx.fillText(latstr, 0, _yy);\n              ctx.fillText(latstr, ww - txtWidth, _yy);\n            }\n          }\n        };\n\n        var __draw_lon_line = function __draw_lon_line(self, lon_tick) {\n          lngstr = self.__format_lng(lon_tick);\n          txtWidth = ctx.measureText(lngstr).width;\n\n          var bb = self._latLngToCanvasPoint(L.latLng(_lat_b, lon_tick));\n\n          if (curvedLon) {\n            if (typeof curvedLon == 'number') {\n              _lat_delta = curvedLon;\n            }\n\n            ctx.beginPath();\n            ctx.moveTo(bb.x, bb.y);\n            var _prev_p = null;\n\n            for (var j = _lat_b; j < _lat_t; j += _lat_delta) {\n              var tt = self._latLngToCanvasPoint(L.latLng(j, lon_tick));\n\n              ctx.lineTo(tt.x, tt.y);\n\n              if (self.options.showLabel && label && _prev_p != null) {\n                if (_prev_p.y > 8 && tt.y <= 8) {\n                  ctx.fillText(lngstr, tt.x - txtWidth / 2, txtHeight);\n                } else if (_prev_p.y >= hh && tt.y < hh) {\n                  ctx.fillText(lngstr, tt.x - txtWidth / 2, hh - 2);\n                }\n              }\n\n              _prev_p = {\n                x: tt.x,\n                y: tt.y,\n                lon: lon_tick,\n                lat: j\n              };\n            }\n\n            ctx.stroke();\n          } else {\n            var __lat_top = _lat_t;\n\n            var tt = self._latLngToCanvasPoint(L.latLng(__lat_top, lon_tick));\n\n            if (curvedLat) {\n              __lat_top = map.containerPointToLatLng(L.point(tt.x, 0));\n              __lat_top = __lat_top.lat;\n\n              if (__lat_top > 90) {\n                __lat_top = 90;\n              }\n\n              tt = self._latLngToCanvasPoint(L.latLng(__lat_top, lon_tick));\n\n              var __lat_bottom = map.containerPointToLatLng(L.point(bb.x, hh));\n\n              __lat_bottom = __lat_bottom.lat;\n\n              if (__lat_bottom < -90) {\n                __lat_bottom = -90;\n              }\n\n              bb = self._latLngToCanvasPoint(L.latLng(__lat_bottom, lon_tick));\n            }\n\n            ctx.beginPath();\n            ctx.moveTo(tt.x, tt.y + 1);\n            ctx.lineTo(bb.x, bb.y - 1);\n            ctx.stroke();\n\n            if (self.options.showLabel && label) {\n              ctx.fillText(lngstr, tt.x - txtWidth / 2, txtHeight + 1);\n              ctx.fillText(lngstr, bb.x - txtWidth / 2, hh - 3);\n            }\n          }\n        };\n\n        if (!this._currLngInterval || !this._currLatInterval) {\n          this.__calcInterval();\n        }\n\n        var latInterval = this._currLatInterval,\n            lngInterval = this._currLngInterval;\n        var ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.lineWidth = this.options.weight;\n        ctx.strokeStyle = this.options.color;\n        ctx.fillStyle = this.options.fontColor;\n        ctx.setLineDash(this.options.dashArray);\n\n        if (this.options.font) {\n          ctx.font = this.options.font;\n        }\n\n        var txtWidth = ctx.measureText('0').width;\n        var txtHeight = 12;\n\n        try {\n          var _font_size = ctx.font.trim().split(' ')[0];\n          txtHeight = _parse_px_to_int(_font_size);\n        } catch (e) {}\n\n        var ww = canvas.width,\n            hh = canvas.height;\n        var lt = map.containerPointToLatLng(L.point(0, 0));\n        var rt = map.containerPointToLatLng(L.point(ww, 0));\n        var rb = map.containerPointToLatLng(L.point(ww, hh));\n        var _lat_b = rb.lat,\n            _lat_t = lt.lat;\n        var _lon_l = lt.lng,\n            _lon_r = rt.lng;\n\n        var _point_per_lat = (_lat_t - _lat_b) / (hh * 0.2);\n\n        if (isNaN(_point_per_lat)) {\n          return;\n        }\n\n        if (_point_per_lat < 1) {\n          _point_per_lat = 1;\n        }\n\n        if (_lat_b < -90) {\n          _lat_b = -90;\n        } else {\n          _lat_b = parseInt(_lat_b - _point_per_lat, 10);\n        }\n\n        if (_lat_t > 90) {\n          _lat_t = 90;\n        } else {\n          _lat_t = parseInt(_lat_t + _point_per_lat, 10);\n        }\n\n        var _point_per_lon = (_lon_r - _lon_l) / (ww * 0.2);\n\n        if (_point_per_lon < 1) {\n          _point_per_lon = 1;\n        }\n\n        if (_lon_l > 0 && _lon_r < 0) {\n          _lon_r += 360;\n        }\n\n        _lon_r = parseInt(_lon_r + _point_per_lon, 10);\n        _lon_l = parseInt(_lon_l - _point_per_lon, 10);\n        var ll,\n            latstr,\n            lngstr,\n            _lon_delta = 0.5;\n        ;\n\n        if (latInterval > 0) {\n          for (var i = latInterval; i <= _lat_t; i += latInterval) {\n            if (i >= _lat_b) {\n              __draw_lat_line(this, i);\n            }\n          }\n\n          for (var i = 0; i >= _lat_b; i -= latInterval) {\n            if (i <= _lat_t) {\n              __draw_lat_line(this, i);\n            }\n          }\n        }\n\n        ;\n\n        if (lngInterval > 0) {\n          for (var i = lngInterval; i <= _lon_r; i += lngInterval) {\n            if (i >= _lon_l) {\n              __draw_lon_line(this, i);\n            }\n          }\n\n          for (var i = 0; i >= _lon_l; i -= lngInterval) {\n            if (i <= _lon_r) {\n              __draw_lon_line(this, i);\n            }\n          }\n        }\n      }\n    },\n    _latLngToCanvasPoint: function _latLngToCanvasPoint(latlng) {\n      var map = this._map;\n      var projectedPoint = map.project(L.latLng(latlng));\n\n      projectedPoint._subtract(map.getPixelOrigin());\n\n      return L.point(projectedPoint).add(map._getMapPanePos());\n    }\n  });\n\n  L.latlngGraticule = function (options) {\n    return new L.LatLngGraticule(options);\n  };\n})(this, document);\n\nL.Path.mergeOptions({\n  // @option dashSpeed: Number\n  // The speed of the dash array, in pixels per second\n  dashSpeed: 0\n});\nvar _originalBeforeAdd = L.Path.prototype.beforeAdd;\nL.Path.include({\n  beforeAdd: function beforeAdd(map) {\n    _originalBeforeAdd.bind(this)(map);\n\n    if (this.options.dashSpeed) {\n      this._lastDashFrame = performance.now();\n      this._dashFrame = L.Util.requestAnimFrame(this._onDashFrame.bind(this));\n    }\n  },\n  _onDashFrame: function _onDashFrame() {\n    if (!this._renderer) {\n      return;\n    }\n\n    var now = performance.now();\n    var dashOffsetDelta = (now - this._lastDashFrame) * this.options.dashSpeed / 1000;\n    this.options.dashOffset = Number(this.options.dashOffset || 0) + dashOffsetDelta;\n\n    this._renderer._updateStyle(this);\n\n    this._lastDashFrame = performance.now();\n    this._dashFrame = L.Util.requestAnimFrame(this._onDashFrame.bind(this));\n  }\n});\n\n//# sourceURL=webpack://tmap/./src/plugins/graticule/L.LatlngGraticule.js?");

/***/ }),

/***/ "./src/plugins/measure/assets/cancel.png":
/*!***********************************************!*\
  !*** ./src/plugins/measure/assets/cancel.png ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAS9JREFUKJGFkDFOAlEURc8dRphJFNmBHYnQYbTHDnsa0BDBRq1YC4naIQbWYEloqKQyswIXQEgwDIn5z2IATUR95X/nvpz7xWqq7XEYztO3QM2wAoCkyLCBt5zf9XrlGEAAtebkwPfdM+iQLWMQpVKu8nh/8qZqexyG7zuT3+DvoVwme+QlGmtYTcMGG8h4MnOtlUpxFs9ufKD2BbjTULqMwZlhobhaoO5mL+q+YQUlVZB0HoMF0EKwwLpC9XVApoL3w9UwgOk00LYuvqQIKK2dEw3rBrmFhSR6wMXqXOQbNhAqJQ9utECJhiAGc7KRZ1oF1FejMQxcZu9FUPznW19zmeyx1+uV41TKVQyiv2DnPs46nfxyU6zRGAaW3r02UZepsHYG9feD7EOnk18CfAKwIX1qvqPBeQAAAABJRU5ErkJggg==\");\n\n//# sourceURL=webpack://tmap/./src/plugins/measure/assets/cancel.png?");

/***/ }),

/***/ "./src/plugins/measure/assets/cancel_@2X.png":
/*!***************************************************!*\
  !*** ./src/plugins/measure/assets/cancel_@2X.png ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAApxJREFUSImtlr1PWlEYxp/ncE1KYWy6Gh3FwUZiOtiYuqlbGwxRaKJRjI5tqon/gf4BpqIxERC1doaNxLaD8SNxUOdqOukoiLHc83YALdwPhLbP+J5zfs977n3OPZeoo7Hp/XbTVGEArwEEBHhWHpErgmcQ5Kg8m+vLL364MehUjEzstZHGIiBvSKp6TYiIBvHFLKnZ9Fr3+aMG0cn9KKg+EXhaD+xgVaDm1PpqcKO6WtPdu9jBHKkSzcMBgD5RSEVjhx9qqtWdkyrRPNguAUaT8WD6wSAysddGZZz8XedODpIXMpCMBy8UAChlLNjgInmIHgTwvQ5qtzxHCjVV0k9gAQDU2PR+u4i8ta4kVSix0pMtGk8GAPnmBNc3xlBipScLkZB9EzI8Mn7UqkxThZ2iKNDzoZkT/85SZ75oeActJrv6xhhKpboKoZkTP6jm7Q1SGYYOK5QPkYP4ylsqZiKRY9/OUmde37QMiMhXK9xbus0C6HUiCNivAAScDcom9P7KRCLHvlSqqyDFlsFG4QBAoIPR2OEdgRZ3E6C6awBoBF7Zw13dz8D/kALk6pE5Nc/8z4t3TVeVeKkInjUK95Zus95SMVMnXRbJqYIg1ygcQG+ddNmkBTlF5dkUEW031wvuaalNF1T51FpkktwiAERjB9sEhy0OBYiEKofILS27Qlmk4DNAn2UsnYgHRw0AMEtq1jD0UO0k+kBmXMD36qOwz7Z54Frr0hxQuQ/Sa93n1Jx6BNaEOLmx+vLngwEArK8GNyD4+M9skffJePf2g5V1PBo7HKHIMkh/U1zgGuBkNRywXJkAkIwH00IGAGw5pssuE0Da49EBKxxw+au418j4Uath6LCA/QQ6AHleWXYJyKkW5EhuJePBCzfGbyl+TiY9AObiAAAAAElFTkSuQmCC\");\n\n//# sourceURL=webpack://tmap/./src/plugins/measure/assets/cancel_@2X.png?");

/***/ }),

/***/ "./src/plugins/measure/assets/check.png":
/*!**********************************************!*\
  !*** ./src/plugins/measure/assets/check.png ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAASVJREFUKJF1kDFLAgEYhp/37tQ7KPMftAnZZtjSkg2B7S5KHLRVk3O/IQiEakzQra2h0SannOR+QWuLYKF03teQwkHeO3483/e+7ydWanZGQTDLXwMtwyoAkiLDBs5idt/r1ecAAmhdjHc9L3kF7bFBBpHrJo2nh8MPNTujIPjKjbPg9FKpUDxw/mJkw2Y8G3wL9qfz6ZUDtLLP2l0gQiACMNF21gVX+kzDvnQzx14ENQCZKk7K+s39cSoGkzQMOkmbepIioCpxHOeW57l4ceR5/nITDBZ5hg2EqgBCt7FXyMXY6X8YQH2F4dBPCtvvgv3M8oDBpFQo1pxerz533aRhq09kwUkSn3W75YXWwzAc+pbfujTRlqmyzgzq7/jFx263vAD4BStdctyYQ7zEAAAAAElFTkSuQmCC\");\n\n//# sourceURL=webpack://tmap/./src/plugins/measure/assets/check.png?");

/***/ }),

/***/ "./src/plugins/measure/assets/check_@2X.png":
/*!**************************************************!*\
  !*** ./src/plugins/measure/assets/check_@2X.png ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAlZJREFUSImllr9PU1EYhp/3tJMyGqIuBhYNnQyXhMRJNlcHg0AxIC3pqhFi4iCLCf4FtFaUFgok/AMmBldSqpOwuAhhghFx6r2fAwX641Jy6zu+57vP+30n5+Rc0UYTmXKv77th4CGQMLhxumJHQrsYm3Kx1aXs/d+XMRRmjk1t9Ujx92CPJbl2TZhZgNjwq26mtNi/d2VAMlVOIrcguNYOHBJ1okDTS3lvpd5t6G48vT0ruUJ0OICum2M5ma68bHDrO5dcITq4VQajxZxXOg8Ym9rqkYv/7KzzsAT7Y1KimPP2HYBz8fn/gRv8bTCkLsE8gCYy5d5qVb+uOi1ttOQH1Tcxxb8i7l4MYYHvu17n+264c7h97rnVP7mSHzxAZBqHkIvHg2HH6SXqEO49n5tT8CxduWdGqaUCDTkgERlt9qkeHhjfJG421wn63MX1b8F8waiGwXtve1NXwWvV3aF7b5At5LxHOHtaHxINfioHdtRq6gfICtmBjbOQTuCgQye02zpBsDCerkwB1EIeRIcD2I7GU5XXiHchixaI1HJ24OOZEw0Ogdmsk4utmlkQMp6c8SGZKk92Agd8SWsCSKa314WehNeZmektkIkABygVct6oA/CrbgbsJLxOkpiLAjc49oPqLNTeg9Ji/54CTUfo7goptZIfPDgPAFjKeysYr/6bbfaimOtfP49qXk+mKyMyyyJ1ReLCMShVD4emJxOgmPNKJiWAtfDT1SIfKMViQaIZDpf8VZxpZPL7nXg8GDY0JOgD6659dgi2ExibktaKOW//MsY/pXkXxnBJQFMAAAAASUVORK5CYII=\");\n\n//# sourceURL=webpack://tmap/./src/plugins/measure/assets/check_@2X.png?");

/***/ }),

/***/ "./src/plugins/measure/assets/focus.png":
/*!**********************************************!*\
  !*** ./src/plugins/measure/assets/focus.png ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAOhJREFUKJGVkTFug0AQRd+sgBOkyT1MvxVdipQpbDcBrsExAq4iipQWpbvt1xeJlBNgsZPCYK1sJ1GmfX//PM3CP0cAXqrjQwqVqmbG4N7b3AFsa29DwIrIeILuo1t9GYAUKqD4pbiYMyQAqpoBrt/lTZyaN7l16RsguzwwBreENq/HZ0TfEFEVrfs2H2Iu17s3pf/E8CSTmCDs+93qMebm9gyiMomZJNyyRWlbe7s4q2itInvBgFJe8wQgBOxc4Po2H4Ahbo15craQESjWpW9++AeLcrgonaBLzw3ZPW+UQxrG9i77a74B+z5bQloZOFAAAAAASUVORK5CYII=\");\n\n//# sourceURL=webpack://tmap/./src/plugins/measure/assets/focus.png?");

/***/ }),

/***/ "./src/plugins/measure/assets/focus_@2X.png":
/*!**************************************************!*\
  !*** ./src/plugins/measure/assets/focus_@2X.png ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAXBJREFUSIntlb8uBFEUxn/n7hAV1XoIpazYll5ETbays56AZ+AJGBJBoRPUotVsRCmeACsRiUQx636KRWbHnzvIavi6c/J95zvnzJ174R8BWDaozTdnMK1iNpzNbycV4x3U4qaysVALo76zNnbwknPddm+Lf61bK5snyeaibkan+Ecd55Hn1eKm8g12T9AD9NwgClNgtnE64uRXgAlDQhyb2eJWUjkPaYO7nm2cjpS8P8EYzOYFdw6qIZPgipz8CsYg0l4K5VLqhhEHBkMeloP6EAGYAEjNGrtJ5WZzc7TlS1EMYNLkjw0MCWAgda/rbKcPhY4xFPnI4hhj6jHy63MLZ3E7fbB+F6133O0oJA9PYLYouMOYdr591V/qu8RsCulW/nHpSwa1uKn8/bKVVM4dVAWHSPdI98C+5Ks7G+MXIX2h/+D5KE4X4X46QS/wu1eFUMuwcn6PRd+DZ1xlg9x7QB3p+nu9dop7rP4D/V/EE6UhikMKpx/oAAAAAElFTkSuQmCC\");\n\n//# sourceURL=webpack://tmap/./src/plugins/measure/assets/focus_@2X.png?");

/***/ }),

/***/ "./src/plugins/measure/assets/rulers.png":
/*!***********************************************!*\
  !*** ./src/plugins/measure/assets/rulers.png ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAGJJREFUOI1jYGBgOM3AwPAfCTMwMDA8QxPDhT8xoAlIM5AG/jMi2QoDjKQYwITEkSFRM9w2qrkA5oqBc8EIDYNHDAzkp0I4QE/fMDF5YvnoBsiTwscWBiQBJgYGhpMU6D8CAJDrOVecOVsbAAAAAElFTkSuQmCC\");\n\n//# sourceURL=webpack://tmap/./src/plugins/measure/assets/rulers.png?");

/***/ }),

/***/ "./src/plugins/measure/assets/rulers_@2X.png":
/*!***************************************************!*\
  !*** ./src/plugins/measure/assets/rulers_@2X.png ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAALdJREFUWIXtl0EKwkAMRZ+iR1LwCC5ceekKHsSqN3ARF5pFi41lmGQU8iDQkkB/0k/aATgCV0AmQjkbNaXRAdy+FCmdgwDBSGzwRQBZGgUrZwEALBiOearGAwGwJhDCJwFbXl1rhAsIefdKesASoF5oJiD3QAi5B9IDuQeaeyDU8SNOwEOVRP4LDvirPSAe9yXd7oB1rXzJBKrm50ygasdj5kzAlZ/4FtwbPr8HOLwvPE6+VlyA/ROEjYEpRhLQZgAAAABJRU5ErkJggg==\");\n\n//# sourceURL=webpack://tmap/./src/plugins/measure/assets/rulers_@2X.png?");

/***/ }),

/***/ "./src/plugins/measure/assets/start.png":
/*!**********************************************!*\
  !*** ./src/plugins/measure/assets/start.png ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAY1JREFUKJF9kL9PEwEcxd/3y+XaXrwKCZsx4uLQiQQRZHOUmYEU45mL1CCVpH+JwxEx6CB6HfixM7KQ8sM2TB2cHHRzMCTt2cbe+zrUSxsHP+PLey/v+xX8ZaXWKHgddxNAmcYSACjQNpW69jtv9vYe9QBAAKActu44TnpMwlXRyEQuhzW2IMAWgcSZ4OMPOw++yUqtUfC6TgvEl8QflI9eL/3CGJVK0+uB+4TencoV59TruJsk3MwcvLiaCZ635rLA7u79hIm7qqR/3bt+qQDKKhplzTROm6aNp+ufq1kojme7prpNsTWlsTTanKEuRKIn683DtVfnxeGxcqHUkuI/iBj/1RwF2gZbAHCWiST7KlL79G5+Z2TlQwBtNZW6AFuVStMDgHSAHxOwxY9j5jA89QGpQiSWIDjJpzm/qeBXJu5qHM92xyeE4an/W3MHgN2aLEzOCwA827i8PUj1WEnfVLcFcjGaIVUjfxJcrr9f/C5ZUxCc5M29sTF8nZaGqrUhEt/MF99G0b0+APwB15Gn8fy9beQAAAAASUVORK5CYII=\");\n\n//# sourceURL=webpack://tmap/./src/plugins/measure/assets/start.png?");

/***/ }),

/***/ "./src/plugins/measure/assets/start_@2X.png":
/*!**************************************************!*\
  !*** ./src/plugins/measure/assets/start_@2X.png ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAA41JREFUSImNlU9oVFcUxn/ne28UxKWIRKiYpRaqZpIUagm6aZfiQlLNRBzyT+nGNmiLe2nUtkLBJhnRxolRoVBc1GXqIoqZTEoW6sZN/VNqTXdWsJl553YxkzSkM5N8m/feved837mP891jNMCx44XmJFEnsA/3nQ6bAEzMG3pMYNIU3Rgb2f1bPQ6rtdjV82A7Fp8j+EFJalSEu7vJfkzKOjVxpeXpqgKZ3kImBIYlbagSlGS6G2Aa+APAjCag3d07JKWqUm/M1T92OX29rkB338xpsK8AHN5aCN/E5eji1at75muedGBus8oLJx1OSloPEEIYzOdav/6fQKa3kDHTNYDg4YlH0YHrI3seN/o9/wkV3rVEt81oroocyedaJ5YEunoebAc9lLQheHgS4tTe8eFdr9ZCvoijJ6a3eCm6Z0Yz7n8HaWd+NP1MAFI8JGmDw1uPogMrybPZ2SYINRtiEWOX2l8G6SD4AtJGgyEAO3a80Fwq8USSQghn87nWMyuTM30zA0Y4UEJdN0bTfzUS6u4pXED63N3dPWpWkqhTkty9FJeji/VT9VHkYe5IT/HDRgK2LlwAEkmKY+8UsA9Aprv1umVJQrY1Er909xa/rPfLxi61vwSmANzDfuG+E6Da52tBhHE201O880lfcVPNiBAKlYK0Q4v2p2qitcJkH0ce5jJ9xb01dn+vPH1zw2tgNUgWVo0xMQ9L9l87AndCKtmVH01P1djcWqV/FRt6DJW7ZU3ETtktnBnPpc9D7RN4oF0G4I9EYBLA3Tu6BuY2N+QOPHfzjvFc67l65NnsbJNkH1TibVKm6Ia7u6SUygsn65EH959tXbJ7PNd2v1ERpTgMAhGQmNlNA8j0zdwy7JC7/0NMeny47eHypKMnpreMXWr7s17Vi8gMFHaHMtOSUrhPXLvcdkQASVmnwN9IWm+Jbh89Mb1leWLFPI3Js9nZJnN+kpRyeJ3gpwEEMHGl5am5+gHMaPZSdK+r/9f3GhGurLwcJ/dB2wAM671++f0Xlfdl6O4tDmKcr3z5As53ti5cqNq/ZtWlOAwG90+XJlsIn13LtX67GFNjZM4cthBGkDZWlxJgqmL/RYeGrR5or3ZLBODw2rDe/GjLreV8NS+sTF/xHYMhdz+02tAHEtxvKcUXP3zf9nzlZsMhcjg7uy2OvdM97Je0A7zqE70Cf+TBJs3sZn40/awex78erYTTwi3/3gAAAABJRU5ErkJggg==\");\n\n//# sourceURL=webpack://tmap/./src/plugins/measure/assets/start_@2X.png?");

/***/ }),

/***/ "./src/plugins/measure/assets/trash.png":
/*!**********************************************!*\
  !*** ./src/plugins/measure/assets/trash.png ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAMCAYAAAC0qUeeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAALlJREFUKJFjZEACcWmn5zMwMCbA+P///ZuzeI5ZKozPaF+/n4WBgYFB7gmfKiPj30PfeP/Irem3+h5SeIyT4yvLQxZGFuv7Eh/vMzAwMDDGpJz6wcTExM5AEPz7BbX+zH98ymDyTMiCsamnq7HRMICimJGRsQUbjVUxIUAvxf8ZqrDSSCoY49JO/UtLO8OFzbSkpCO8cSlnfjMwMDCwMDAw/mdgOD3nBwPDp7i0MxiK/0BsmMbAwMAAACl8PxDSJvyvAAAAAElFTkSuQmCC\");\n\n//# sourceURL=webpack://tmap/./src/plugins/measure/assets/trash.png?");

/***/ }),

/***/ "./src/plugins/measure/assets/trash_@2X.png":
/*!**************************************************!*\
  !*** ./src/plugins/measure/assets/trash_@2X.png ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAYCAYAAAD+vg1LAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAW5JREFUSIntlbtKA2EQhc8/axIVrUQFBRsRRLCL+gIRQeuAxbpNLq2laGklpLYxVkkh2lip4AsIZkmZRiy0sPCCoEYwlxmLJLLZi+wmYpXTnRnmm/mHYVfBQ+uJq/EwhfJQHANItWdZAFxWQfrRQfTZrZ68wGEtlIHCshMKNGK0EhLsedW7FDWn1bR7ACGImsllF26teSNVmIaSG2ZUVEQm8/tLLw5wPH6iPc6NtjWYehjaVkrtQnCey0bX3JobKfMMCqsQ7NxNvGesubHSkygjaX6CMOD1pM7EZRJCBUD9L7ECqv0YI22KkTalU5i93vMqutX/g/XkdVlPm29+vV19nh2JBoN43xN3qx64B3bK847B/CFEdd/eLzh3uDgcxNvVXIVYPvTi+lf5Xc4ay465DAAbieJsUKyRKM43EPzaijVXoYSlcEoKutKkZKTNoBM3MXRsAwMRrm5+aeERMMeIKNC1MDMrogvur221Yt/I6IasMWr/dwAAAABJRU5ErkJggg==\");\n\n//# sourceURL=webpack://tmap/./src/plugins/measure/assets/trash_@2X.png?");

/***/ }),

/***/ "./src/plugins/measure/leaflet-measure.cn.js":
/*!***************************************************!*\
  !*** ./src/plugins/measure/leaflet-measure.cn.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n!function (e) {\n  function t(n) {\n    if (r[n]) return r[n].exports;\n    var o = r[n] = {\n      i: n,\n      l: !1,\n      exports: {}\n    };\n    return e[n].call(o.exports, o, o.exports, t), o.l = !0, o.exports;\n  }\n\n  var r = {};\n  t.m = e, t.c = r, t.d = function (e, r, n) {\n    t.o(e, r) || Object.defineProperty(e, r, {\n      configurable: !1,\n      enumerable: !0,\n      get: n\n    });\n  }, t.n = function (e) {\n    var r = e && e.__esModule ? function () {\n      return e.default;\n    } : function () {\n      return e;\n    };\n    return t.d(r, \"a\", r), r;\n  }, t.o = function (e, t) {\n    return Object.prototype.hasOwnProperty.call(e, t);\n  }, t.p = \"/dist/\", t(t.s = 28);\n}([function (e, t, r) {\n  function n(e) {\n    return null == e ? void 0 === e ? u : a : l && l in Object(e) ? i(e) : s(e);\n  }\n\n  var o = r(4),\n      i = r(38),\n      s = r(39),\n      a = \"[object Null]\",\n      u = \"[object Undefined]\",\n      l = o ? o.toStringTag : void 0;\n  e.exports = n;\n}, function (e, t) {\n  function r(e) {\n    return null != e && \"object\" == _typeof(e);\n  }\n\n  e.exports = r;\n}, function (e, t) {\n  function r(e) {\n    var t = _typeof(e);\n\n    return null != e && (\"object\" == t || \"function\" == t);\n  }\n\n  e.exports = r;\n}, function (e, t, r) {\n  \"use strict\";\n\n  function n(e, t, r) {\n    if (r = r || {}, !h(r)) throw new Error(\"options is invalid\");\n    var n = r.bbox,\n        o = r.id;\n    if (void 0 === e) throw new Error(\"geometry is required\");\n    if (t && t.constructor !== Object) throw new Error(\"properties must be an Object\");\n    n && d(n), o && m(o);\n    var i = {\n      type: \"Feature\"\n    };\n    return o && (i.id = o), n && (i.bbox = n), i.properties = t || {}, i.geometry = e, i;\n  }\n\n  function o(e, t, r) {\n    if (!e) throw new Error(\"coordinates is required\");\n    if (!Array.isArray(e)) throw new Error(\"coordinates must be an Array\");\n    if (e.length < 2) throw new Error(\"coordinates must be at least 2 numbers long\");\n    if (!p(e[0]) || !p(e[1])) throw new Error(\"coordinates must contain numbers\");\n    return n({\n      type: \"Point\",\n      coordinates: e\n    }, t, r);\n  }\n\n  function i(e, t, r) {\n    if (!e) throw new Error(\"coordinates is required\");\n\n    for (var o = 0; o < e.length; o++) {\n      var i = e[o];\n      if (i.length < 4) throw new Error(\"Each LinearRing of a Polygon must have 4 or more Positions.\");\n\n      for (var s = 0; s < i[i.length - 1].length; s++) {\n        if (0 === o && 0 === s && !p(i[0][0]) || !p(i[0][1])) throw new Error(\"coordinates must contain numbers\");\n        if (i[i.length - 1][s] !== i[0][s]) throw new Error(\"First and last Position are not equivalent.\");\n      }\n    }\n\n    return n({\n      type: \"Polygon\",\n      coordinates: e\n    }, t, r);\n  }\n\n  function s(e, t, r) {\n    if (!e) throw new Error(\"coordinates is required\");\n    if (e.length < 2) throw new Error(\"coordinates must be an array of two or more positions\");\n    if (!p(e[0][1]) || !p(e[0][1])) throw new Error(\"coordinates must contain numbers\");\n    return n({\n      type: \"LineString\",\n      coordinates: e\n    }, t, r);\n  }\n\n  function a(e, t, r) {\n    if (!e) throw new Error(\"coordinates is required\");\n    return n({\n      type: \"MultiLineString\",\n      coordinates: e\n    }, t, r);\n  }\n\n  function u(e, t, r) {\n    if (!e) throw new Error(\"coordinates is required\");\n    return n({\n      type: \"MultiPoint\",\n      coordinates: e\n    }, t, r);\n  }\n\n  function l(e, t, r) {\n    if (!e) throw new Error(\"coordinates is required\");\n    return n({\n      type: \"MultiPolygon\",\n      coordinates: e\n    }, t, r);\n  }\n\n  function c(e, t) {\n    if (void 0 === e || null === e) throw new Error(\"radians is required\");\n    if (t && \"string\" != typeof t) throw new Error(\"units must be a string\");\n    var r = y[t || \"kilometers\"];\n    if (!r) throw new Error(t + \" units is invalid\");\n    return e * r;\n  }\n\n  function f(e) {\n    if (null === e || void 0 === e) throw new Error(\"degrees is required\");\n    return e % 360 * Math.PI / 180;\n  }\n\n  function p(e) {\n    return !isNaN(e) && null !== e && !Array.isArray(e);\n  }\n\n  function h(e) {\n    return !!e && e.constructor === Object;\n  }\n\n  function d(e) {\n    if (!e) throw new Error(\"bbox is required\");\n    if (!Array.isArray(e)) throw new Error(\"bbox must be an Array\");\n    if (4 !== e.length && 6 !== e.length) throw new Error(\"bbox must be an Array of 4 or 6 numbers\");\n    e.forEach(function (e) {\n      if (!p(e)) throw new Error(\"bbox must only contain numbers\");\n    });\n  }\n\n  function m(e) {\n    if (!e) throw new Error(\"id is required\");\n    if (-1 === [\"string\", \"number\"].indexOf(_typeof(e))) throw new Error(\"id must be a number or a string\");\n  }\n\n  r.d(t, \"b\", function () {\n    return n;\n  }), r.d(t, \"f\", function () {\n    return o;\n  }), r.d(t, \"e\", function () {\n    return s;\n  }), r.d(t, \"g\", function () {\n    return c;\n  }), r.d(t, \"a\", function () {\n    return f;\n  }), r.d(t, \"c\", function () {\n    return p;\n  }), r.d(t, \"d\", function () {\n    return h;\n  });\n  var y = {\n    meters: 6371008.8,\n    metres: 6371008.8,\n    millimeters: 6371008800,\n    millimetres: 6371008800,\n    centimeters: 637100880,\n    centimetres: 637100880,\n    kilometers: 6371.0088,\n    kilometres: 6371.0088,\n    miles: 3958.761333810546,\n    nauticalmiles: 6371008.8 / 1852,\n    inches: 6371008.8 * 39.37,\n    yards: 6371008.8 / 1.0936,\n    feet: 20902260.511392,\n    radians: 1,\n    degrees: 6371008.8 / 111325\n  };\n}, function (e, t, r) {\n  var n = r(5),\n      o = n.Symbol;\n  e.exports = o;\n}, function (e, t, r) {\n  var n = r(11),\n      o = \"object\" == (typeof self === \"undefined\" ? \"undefined\" : _typeof(self)) && self && self.Object === Object && self,\n      i = n || o || Function(\"return this\")();\n  e.exports = i;\n}, function (e, t) {\n  function r(e, t) {\n    return e === t || e !== e && t !== t;\n  }\n\n  e.exports = r;\n}, function (e, t, r) {\n  function n(e) {\n    return null != e && i(e.length) && !o(e);\n  }\n\n  var o = r(10),\n      i = r(16);\n  e.exports = n;\n}, function (e, t, r) {\n  function n(e, t, r) {\n    \"__proto__\" == t && o ? o(e, t, {\n      configurable: !0,\n      enumerable: !0,\n      value: r,\n      writable: !0\n    }) : e[t] = r;\n  }\n\n  var o = r(9);\n  e.exports = n;\n}, function (e, t, r) {\n  var n = r(35),\n      o = function () {\n    try {\n      var e = n(Object, \"defineProperty\");\n      return e({}, \"\", {}), e;\n    } catch (e) {}\n  }();\n\n  e.exports = o;\n}, function (e, t, r) {\n  function n(e) {\n    if (!i(e)) return !1;\n    var t = o(e);\n    return t == a || t == u || t == s || t == l;\n  }\n\n  var o = r(0),\n      i = r(2),\n      s = \"[object AsyncFunction]\",\n      a = \"[object Function]\",\n      u = \"[object GeneratorFunction]\",\n      l = \"[object Proxy]\";\n  e.exports = n;\n}, function (e, t, r) {\n  (function (t) {\n    var r = \"object\" == _typeof(t) && t && t.Object === Object && t;\n    e.exports = r;\n  }).call(t, r(37));\n}, function (e, t, r) {\n  function n(e, t) {\n    return s(i(e, t, o), e + \"\");\n  }\n\n  var o = r(13),\n      i = r(45),\n      s = r(46);\n  e.exports = n;\n}, function (e, t) {\n  function r(e) {\n    return e;\n  }\n\n  e.exports = r;\n}, function (e, t) {\n  function r(e, t, r) {\n    switch (r.length) {\n      case 0:\n        return e.call(t);\n\n      case 1:\n        return e.call(t, r[0]);\n\n      case 2:\n        return e.call(t, r[0], r[1]);\n\n      case 3:\n        return e.call(t, r[0], r[1], r[2]);\n    }\n\n    return e.apply(t, r);\n  }\n\n  e.exports = r;\n}, function (e, t, r) {\n  function n(e, t, r) {\n    if (!a(r)) return !1;\n\n    var n = _typeof(t);\n\n    return !!(\"number\" == n ? i(r) && s(t, r.length) : \"string\" == n && t in r) && o(r[t], e);\n  }\n\n  var o = r(6),\n      i = r(7),\n      s = r(17),\n      a = r(2);\n  e.exports = n;\n}, function (e, t) {\n  function r(e) {\n    return \"number\" == typeof e && e > -1 && e % 1 == 0 && e <= n;\n  }\n\n  var n = 9007199254740991;\n  e.exports = r;\n}, function (e, t) {\n  function r(e, t) {\n    var r = _typeof(e);\n\n    return !!(t = null == t ? n : t) && (\"number\" == r || \"symbol\" != r && o.test(e)) && e > -1 && e % 1 == 0 && e < t;\n  }\n\n  var n = 9007199254740991,\n      o = /^(?:0|[1-9]\\d*)$/;\n  e.exports = r;\n}, function (e, t, r) {\n  function n(e, t) {\n    var r = s(e),\n        n = !r && i(e),\n        c = !r && !n && a(e),\n        p = !r && !n && !c && l(e),\n        h = r || n || c || p,\n        d = h ? o(e.length, String) : [],\n        m = d.length;\n\n    for (var y in e) {\n      !t && !f.call(e, y) || h && (\"length\" == y || c && (\"offset\" == y || \"parent\" == y) || p && (\"buffer\" == y || \"byteLength\" == y || \"byteOffset\" == y) || u(y, m)) || d.push(y);\n    }\n\n    return d;\n  }\n\n  var o = r(51),\n      i = r(52),\n      s = r(19),\n      a = r(54),\n      u = r(17),\n      l = r(56),\n      c = Object.prototype,\n      f = c.hasOwnProperty;\n  e.exports = n;\n}, function (e, t) {\n  var r = Array.isArray;\n  e.exports = r;\n}, function (e, t) {\n  e.exports = function (e) {\n    return e.webpackPolyfill || (e.deprecate = function () {}, e.paths = [], e.children || (e.children = []), Object.defineProperty(e, \"loaded\", {\n      enumerable: !0,\n      get: function get() {\n        return e.l;\n      }\n    }), Object.defineProperty(e, \"id\", {\n      enumerable: !0,\n      get: function get() {\n        return e.i;\n      }\n    }), e.webpackPolyfill = 1), e;\n  };\n}, function (e, t) {\n  function r(e) {\n    var t = e && e.constructor;\n    return e === (\"function\" == typeof t && t.prototype || n);\n  }\n\n  var n = Object.prototype;\n  e.exports = r;\n}, function (e, t, r) {\n  function n(e) {\n    if (!i(e)) return !1;\n    var t = o(e);\n    return t == u || t == a || \"string\" == typeof e.message && \"string\" == typeof e.name && !s(e);\n  }\n\n  var o = r(0),\n      i = r(1),\n      s = r(63),\n      a = \"[object DOMException]\",\n      u = \"[object Error]\";\n  e.exports = n;\n}, function (e, t) {\n  function r(e, t) {\n    return function (r) {\n      return e(t(r));\n    };\n  }\n\n  e.exports = r;\n}, function (e, t) {\n  function r(e, t) {\n    for (var r = -1, n = null == e ? 0 : e.length, o = Array(n); ++r < n;) {\n      o[r] = t(e[r], r, e);\n    }\n\n    return o;\n  }\n\n  e.exports = r;\n}, function (e, t) {\n  var r = /<%=([\\s\\S]+?)%>/g;\n  e.exports = r;\n}, function (e, t, r) {\n  function n(e) {\n    return null == e ? \"\" : o(e);\n  }\n\n  var o = r(75);\n  e.exports = n;\n}, function (e, t, r) {\n  \"use strict\";\n\n  function n(e, t, r) {\n    if (null !== e) for (var o, i, s, a, u, l, c, f, p = 0, h = 0, d = e.type, m = \"FeatureCollection\" === d, y = \"Feature\" === d, v = m ? e.features.length : 1, g = 0; g < v; g++) {\n      c = m ? e.features[g].geometry : y ? e.geometry : e, f = !!c && \"GeometryCollection\" === c.type, u = f ? c.geometries.length : 1;\n\n      for (var b = 0; b < u; b++) {\n        var _ = 0,\n            j = 0;\n\n        if (null !== (a = f ? c.geometries[b] : c)) {\n          l = a.coordinates;\n          var x = a.type;\n\n          switch (p = !r || \"Polygon\" !== x && \"MultiPolygon\" !== x ? 0 : 1, x) {\n            case null:\n              break;\n\n            case \"Point\":\n              if (!1 === t(l, h, g, _, j)) return !1;\n              h++, _++;\n              break;\n\n            case \"LineString\":\n            case \"MultiPoint\":\n              for (o = 0; o < l.length; o++) {\n                if (!1 === t(l[o], h, g, _, j)) return !1;\n                h++, \"MultiPoint\" === x && _++;\n              }\n\n              \"LineString\" === x && _++;\n              break;\n\n            case \"Polygon\":\n            case \"MultiLineString\":\n              for (o = 0; o < l.length; o++) {\n                for (i = 0; i < l[o].length - p; i++) {\n                  if (!1 === t(l[o][i], h, g, _, j)) return !1;\n                  h++;\n                }\n\n                \"MultiLineString\" === x && _++, \"Polygon\" === x && j++;\n              }\n\n              \"Polygon\" === x && _++;\n              break;\n\n            case \"MultiPolygon\":\n              for (o = 0; o < l.length; o++) {\n                for (\"MultiPolygon\" === x && (j = 0), i = 0; i < l[o].length; i++) {\n                  for (s = 0; s < l[o][i].length - p; s++) {\n                    if (!1 === t(l[o][i][s], h, g, _, j)) return !1;\n                    h++;\n                  }\n\n                  j++;\n                }\n\n                _++;\n              }\n\n              break;\n\n            case \"GeometryCollection\":\n              for (o = 0; o < a.geometries.length; o++) {\n                if (!1 === n(a.geometries[o], t, r)) return !1;\n              }\n\n              break;\n\n            default:\n              throw new Error(\"Unknown Geometry Type\");\n          }\n        }\n      }\n    }\n  }\n\n  function o(e, t) {\n    var r,\n        n,\n        o,\n        i,\n        s,\n        a,\n        u,\n        l,\n        c,\n        f,\n        p = 0,\n        h = \"FeatureCollection\" === e.type,\n        d = \"Feature\" === e.type,\n        m = h ? e.features.length : 1;\n\n    for (r = 0; r < m; r++) {\n      for (a = h ? e.features[r].geometry : d ? e.geometry : e, l = h ? e.features[r].properties : d ? e.properties : {}, c = h ? e.features[r].bbox : d ? e.bbox : void 0, f = h ? e.features[r].id : d ? e.id : void 0, u = !!a && \"GeometryCollection\" === a.type, s = u ? a.geometries.length : 1, o = 0; o < s; o++) {\n        if (null !== (i = u ? a.geometries[o] : a)) switch (i.type) {\n          case \"Point\":\n          case \"LineString\":\n          case \"MultiPoint\":\n          case \"Polygon\":\n          case \"MultiLineString\":\n          case \"MultiPolygon\":\n            if (!1 === t(i, p, l, c, f)) return !1;\n            break;\n\n          case \"GeometryCollection\":\n            for (n = 0; n < i.geometries.length; n++) {\n              if (!1 === t(i.geometries[n], p, l, c, f)) return !1;\n            }\n\n            break;\n\n          default:\n            throw new Error(\"Unknown Geometry Type\");\n        } else if (!1 === t(null, p, l, c, f)) return !1;\n      }\n\n      p++;\n    }\n  }\n\n  function i(e, t, r) {\n    var n = r;\n    return o(e, function (e, o, i, s, a) {\n      n = 0 === o && void 0 === r ? e : t(n, e, o, i, s, a);\n    }), n;\n  }\n\n  function s(e, t) {\n    o(e, function (e, r, n, o, i) {\n      var s = null === e ? null : e.type;\n\n      switch (s) {\n        case null:\n        case \"Point\":\n        case \"LineString\":\n        case \"Polygon\":\n          if (!1 === t(Object(l.b)(e, n, {\n            bbox: o,\n            id: i\n          }), r, 0)) return !1;\n          return;\n      }\n\n      var a;\n\n      switch (s) {\n        case \"MultiPoint\":\n          a = \"Point\";\n          break;\n\n        case \"MultiLineString\":\n          a = \"LineString\";\n          break;\n\n        case \"MultiPolygon\":\n          a = \"Polygon\";\n      }\n\n      for (var u = 0; u < e.coordinates.length; u++) {\n        var c = e.coordinates[u],\n            f = {\n          type: a,\n          coordinates: c\n        };\n        if (!1 === t(Object(l.b)(f, n), r, u)) return !1;\n      }\n    });\n  }\n\n  function a(e, t) {\n    s(e, function (e, r, o) {\n      var i = 0;\n\n      if (e.geometry) {\n        var s = e.geometry.type;\n\n        if (\"Point\" !== s && \"MultiPoint\" !== s) {\n          var a;\n          return !1 !== n(e, function (n, s, u, c, f) {\n            if (void 0 === a) return void (a = n);\n            var p = Object(l.e)([a, n], e.properties);\n            if (!1 === t(p, r, o, f, i)) return !1;\n            i++, a = n;\n          }) && void 0;\n        }\n      }\n    });\n  }\n\n  function u(e, t, r) {\n    var n = r,\n        o = !1;\n    return a(e, function (e, i, s, a, u) {\n      n = !1 === o && void 0 === r ? e : t(n, e, i, s, a, u), o = !0;\n    }), n;\n  }\n\n  r.d(t, \"a\", function () {\n    return i;\n  }), r.d(t, \"b\", function () {\n    return u;\n  });\n  var l = r(3);\n}, function (e, t, r) {\n  e.exports = r(29);\n}, function (e, t, r) {\n  \"use strict\";\n\n  function n(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n\n  r(30);\n\n  var o = r(31),\n      i = n(o),\n      s = r(79),\n      a = n(s),\n      u = r(80),\n      l = n(u),\n      c = r(85),\n      f = function (e) {\n    if (e && e.__esModule) return e;\n    var t = {};\n    if (null != e) for (var r in e) {\n      Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);\n    }\n    return t.default = e, t;\n  }(c),\n      p = r(86),\n      h = n(p),\n      d = r(87),\n      m = r(88),\n      y = {\n    imports: {\n      numberFormat: d.numberFormat\n    },\n    interpolate: /{{([\\s\\S]+?)}}/g\n  },\n      v = (0, i.default)(m.controlTemplate, y),\n      g = (0, i.default)(m.resultsTemplate, y),\n      b = (0, i.default)(m.pointPopupTemplate, y),\n      _ = (0, i.default)(m.linePopupTemplate, y),\n      j = (0, i.default)(m.areaPopupTemplate, y);\n\n  L.Control.Measure = L.Control.extend({\n    _className: \"leaflet-control-measure\",\n    options: {\n      units: {},\n      position: \"topright\",\n      primaryLengthUnit: \"feet\",\n      secondaryLengthUnit: \"miles\",\n      primaryAreaUnit: \"sqkilometers\",\n      activeColor: \"#ABE67E\",\n      completedColor: \"#C8F2BE\",\n      captureZIndex: 1e4,\n      popupOptions: {\n        className: \"leaflet-measure-resultpopup\",\n        autoPanPadding: [10, 10]\n      }\n    },\n    initialize: function initialize(e) {\n      L.setOptions(this, e);\n      var t = this.options,\n          r = t.activeColor,\n          n = t.completedColor;\n      this._symbols = new h.default({\n        activeColor: r,\n        completedColor: n\n      }), this.options.units = L.extend({}, a.default, this.options.units);\n    },\n    onAdd: function onAdd(e) {\n      return this._map = e, this._latlngs = [], this._initLayout(), e.on(\"click\", this._collapse, this), this._layer = L.layerGroup().addTo(e), this._container;\n    },\n    onRemove: function onRemove(e) {\n      e.off(\"click\", this._collapse, this), e.removeLayer(this._layer);\n    },\n    _initLayout: function _initLayout() {\n      var e = this._className,\n          t = this._container = L.DomUtil.create(\"div\", e + \" leaflet-bar\");\n      t.innerHTML = v({\n        model: {\n          className: e\n        }\n      }), t.setAttribute(\"aria-haspopup\", !0), L.DomEvent.disableClickPropagation(t), L.DomEvent.disableScrollPropagation(t);\n      var r = this.$toggle = (0, c.selectOne)(\".js-toggle\", t);\n      this.$interaction = (0, c.selectOne)(\".js-interaction\", t);\n      var n = (0, c.selectOne)(\".js-start\", t),\n          o = (0, c.selectOne)(\".js-cancel\", t),\n          i = (0, c.selectOne)(\".js-finish\", t);\n      this.$startPrompt = (0, c.selectOne)(\".js-startprompt\", t), this.$measuringPrompt = (0, c.selectOne)(\".js-measuringprompt\", t), this.$startHelp = (0, c.selectOne)(\".js-starthelp\", t), this.$results = (0, c.selectOne)(\".js-results\", t), this.$measureTasks = (0, c.selectOne)(\".js-measuretasks\", t), this._collapse(), this._updateMeasureNotStarted(), L.Browser.android || (L.DomEvent.on(t, \"mouseenter\", this._expand, this), L.DomEvent.on(t, \"mouseleave\", this._collapse, this)), L.DomEvent.on(r, \"click\", L.DomEvent.stop), L.Browser.touch ? L.DomEvent.on(r, \"click\", this._expand, this) : L.DomEvent.on(r, \"focus\", this._expand, this), L.DomEvent.on(n, \"click\", L.DomEvent.stop), L.DomEvent.on(n, \"click\", this._startMeasure, this), L.DomEvent.on(o, \"click\", L.DomEvent.stop), L.DomEvent.on(o, \"click\", this._finishMeasure, this), L.DomEvent.on(i, \"click\", L.DomEvent.stop), L.DomEvent.on(i, \"click\", this._handleMeasureDoubleClick, this);\n    },\n    _expand: function _expand() {\n      f.hide(this.$toggle), f.show(this.$interaction);\n    },\n    _collapse: function _collapse() {\n      this._locked || (f.hide(this.$interaction), f.show(this.$toggle));\n    },\n    _updateMeasureNotStarted: function _updateMeasureNotStarted() {\n      f.hide(this.$startHelp), f.hide(this.$results), f.hide(this.$measureTasks), f.hide(this.$measuringPrompt), f.show(this.$startPrompt);\n    },\n    _updateMeasureStartedNoPoints: function _updateMeasureStartedNoPoints() {\n      f.hide(this.$results), f.show(this.$startHelp), f.show(this.$measureTasks), f.hide(this.$startPrompt), f.show(this.$measuringPrompt);\n    },\n    _updateMeasureStartedWithPoints: function _updateMeasureStartedWithPoints() {\n      f.hide(this.$startHelp), f.show(this.$results), f.show(this.$measureTasks), f.hide(this.$startPrompt), f.show(this.$measuringPrompt);\n    },\n    _startMeasure: function _startMeasure() {\n      this._locked = !0, this._measureVertexes = L.featureGroup().addTo(this._layer), this._captureMarker = L.marker(this._map.getCenter(), {\n        clickable: !0,\n        zIndexOffset: this.options.captureZIndex,\n        opacity: 0\n      }).addTo(this._layer), this._setCaptureMarkerIcon(), this._captureMarker.on(\"mouseout\", this._handleMapMouseOut, this).on(\"dblclick\", this._handleMeasureDoubleClick, this).on(\"click\", this._handleMeasureClick, this), this._map.on(\"mousemove\", this._handleMeasureMove, this).on(\"mouseout\", this._handleMapMouseOut, this).on(\"move\", this._centerCaptureMarker, this).on(\"resize\", this._setCaptureMarkerIcon, this), L.DomEvent.on(this._container, \"mouseenter\", this._handleMapMouseOut, this), this._updateMeasureStartedNoPoints(), this._map.fire(\"measurestart\", null, !1);\n    },\n    _finishMeasure: function _finishMeasure() {\n      var e = L.extend({}, this._resultsModel, {\n        points: this._latlngs\n      });\n      this._locked = !1, L.DomEvent.off(this._container, \"mouseover\", this._handleMapMouseOut, this), this._clearMeasure(), this._captureMarker.off(\"mouseout\", this._handleMapMouseOut, this).off(\"dblclick\", this._handleMeasureDoubleClick, this).off(\"click\", this._handleMeasureClick, this), this._map.off(\"mousemove\", this._handleMeasureMove, this).off(\"mouseout\", this._handleMapMouseOut, this).off(\"move\", this._centerCaptureMarker, this).off(\"resize\", this._setCaptureMarkerIcon, this), this._layer.removeLayer(this._measureVertexes).removeLayer(this._captureMarker), this._measureVertexes = null, this._updateMeasureNotStarted(), this._collapse(), this._map.fire(\"measurefinish\", e, !1);\n    },\n    _clearMeasure: function _clearMeasure() {\n      this._latlngs = [], this._resultsModel = null, this._measureVertexes.clearLayers(), this._measureDrag && this._layer.removeLayer(this._measureDrag), this._measureArea && this._layer.removeLayer(this._measureArea), this._measureBoundary && this._layer.removeLayer(this._measureBoundary), this._measureDrag = null, this._measureArea = null, this._measureBoundary = null;\n    },\n    _centerCaptureMarker: function _centerCaptureMarker() {\n      this._captureMarker.setLatLng(this._map.getCenter());\n    },\n    _setCaptureMarkerIcon: function _setCaptureMarkerIcon() {\n      this._captureMarker.setIcon(L.divIcon({\n        iconSize: this._map.getSize().multiplyBy(2)\n      }));\n    },\n    _getMeasurementDisplayStrings: function _getMeasurementDisplayStrings(e) {\n      function t(e, t, o, i, s) {\n        if (t && n[t]) {\n          var a = r(e, n[t], i, s);\n\n          if (o && n[o]) {\n            a = a + \" (\" + r(e, n[o], i, s) + \")\";\n          }\n\n          return a;\n        }\n\n        return r(e, null, i, s);\n      }\n\n      function r(e, t, r, n) {\n        var o = {\n          acres: \"公亩\",\n          feet: \"英尺\",\n          kilometers: \"km\",\n          hectares: \"公顷\",\n          meters: \"m\",\n          miles: \"英里\",\n          sqfeet: \"平方英尺\",\n          sqmeters: \"m²\",\n          sqmiles: \"平方英里\",\n          sqkilometers: \"km²\"\n        },\n            i = L.extend({\n          factor: 1,\n          decimals: 0\n        }, t);\n        return [(0, d.numberFormat)(e * i.factor, i.decimals, r || \".\", n || \",\"), o[i.display] || i.display].join(\" \");\n      }\n\n      var n = this.options.units;\n      return {\n        lengthDisplay: t(e.length, this.options.primaryLengthUnit, this.options.secondaryLengthUnit, this.options.decPoint, this.options.thousandsSep),\n        areaDisplay: t(e.area, this.options.primaryAreaUnit, this.options.secondaryAreaUnit, this.options.decPoint, this.options.thousandsSep)\n      };\n    },\n    _updateResults: function _updateResults() {\n      var e = (0, l.default)(this._latlngs),\n          t = this._resultsModel = L.extend({}, e, this._getMeasurementDisplayStrings(e), {\n        pointCount: this._latlngs.length\n      });\n      this.$results.innerHTML = g({\n        model: t\n      });\n    },\n    _handleMeasureMove: function _handleMeasureMove(e) {\n      this._measureDrag ? this._measureDrag.setLatLng(e.latlng) : this._measureDrag = L.circleMarker(e.latlng, this._symbols.getSymbol(\"measureDrag\")).addTo(this._layer), this._measureDrag.bringToFront();\n    },\n    _handleMeasureDoubleClick: function _handleMeasureDoubleClick() {\n      var e = this._latlngs,\n          t = void 0,\n          r = void 0;\n\n      if (this._finishMeasure(), e.length) {\n        e.length > 2 && e.push(e[0]);\n        var n = (0, l.default)(e);\n        1 === e.length ? (t = L.circleMarker(e[0], this._symbols.getSymbol(\"resultPoint\")), r = b({\n          model: n\n        })) : 2 === e.length ? (t = L.polyline(e, this._symbols.getSymbol(\"resultLine\")), r = _({\n          model: L.extend({}, n, this._getMeasurementDisplayStrings(n))\n        })) : (t = L.polygon(e, this._symbols.getSymbol(\"resultArea\")), r = j({\n          model: L.extend({}, n, this._getMeasurementDisplayStrings(n))\n        }));\n        var o = L.DomUtil.create(\"div\", \"\");\n        o.innerHTML = r;\n        var i = (0, c.selectOne)(\".js-zoomto\", o);\n        i && (L.DomEvent.on(i, \"click\", L.DomEvent.stop), L.DomEvent.on(i, \"click\", function () {\n          t.getBounds ? this._map.fitBounds(t.getBounds(), {\n            padding: [20, 20],\n            maxZoom: 17\n          }) : t.getLatLng && this._map.panTo(t.getLatLng());\n        }, this));\n        var s = (0, c.selectOne)(\".js-deletemarkup\", o);\n        s && (L.DomEvent.on(s, \"click\", L.DomEvent.stop), L.DomEvent.on(s, \"click\", function () {\n          this._layer.removeLayer(t);\n        }, this)), t.addTo(this._layer), t.bindPopup(o, this.options.popupOptions), t.getBounds ? t.openPopup(t.getBounds().getCenter()) : t.getLatLng && t.openPopup(t.getLatLng());\n      }\n    },\n    _handleMeasureClick: function _handleMeasureClick(e) {\n      var t = this._map.mouseEventToLatLng(e.originalEvent),\n          r = this._latlngs[this._latlngs.length - 1],\n          n = this._symbols.getSymbol(\"measureVertex\");\n\n      r && t.equals(r) || (this._latlngs.push(t), this._addMeasureArea(this._latlngs), this._addMeasureBoundary(this._latlngs), this._measureVertexes.eachLayer(function (e) {\n        e.setStyle(n), e._path && e._path.setAttribute(\"class\", n.className);\n      }), this._addNewVertex(t), this._measureBoundary && this._measureBoundary.bringToFront(), this._measureVertexes.bringToFront()), this._updateResults(), this._updateMeasureStartedWithPoints();\n    },\n    _handleMapMouseOut: function _handleMapMouseOut() {\n      this._measureDrag && (this._layer.removeLayer(this._measureDrag), this._measureDrag = null);\n    },\n    _addNewVertex: function _addNewVertex(e) {\n      L.circleMarker(e, this._symbols.getSymbol(\"measureVertexActive\")).addTo(this._measureVertexes);\n    },\n    _addMeasureArea: function _addMeasureArea(e) {\n      if (e.length < 3) return void (this._measureArea && (this._layer.removeLayer(this._measureArea), this._measureArea = null));\n      this._measureArea ? this._measureArea.setLatLngs(e) : this._measureArea = L.polygon(e, this._symbols.getSymbol(\"measureArea\")).addTo(this._layer);\n    },\n    _addMeasureBoundary: function _addMeasureBoundary(e) {\n      if (e.length < 2) return void (this._measureBoundary && (this._layer.removeLayer(this._measureBoundary), this._measureBoundary = null));\n      this._measureBoundary ? this._measureBoundary.setLatLngs(e) : this._measureBoundary = L.polyline(e, this._symbols.getSymbol(\"measureBoundary\")).addTo(this._layer);\n    }\n  }), L.Map.mergeOptions({\n    measureControl: !1\n  }), L.Map.addInitHook(function () {\n    this.options.measureControl && (this.measureControl = new L.Control.Measure().addTo(this));\n  }), L.control.measure = function (e) {\n    return new L.Control.Measure(e);\n  };\n}, function (e, t) {}, function (e, t, r) {\n  function n(e, t, r) {\n    var n = h.imports._.templateSettings || h;\n    r && c(e, t, r) && (t = void 0), e = d(e), t = o({}, t, n, a);\n    var j,\n        M,\n        w = o({}, t.imports, n.imports, a),\n        O = f(w),\n        L = s(w, O),\n        k = 0,\n        P = t.interpolate || b,\n        E = \"__p += '\",\n        C = RegExp((t.escape || b).source + \"|\" + P.source + \"|\" + (P === p ? g : b).source + \"|\" + (t.evaluate || b).source + \"|$\", \"g\"),\n        S = x.call(t, \"sourceURL\") ? \"//# sourceURL=\" + (t.sourceURL + \"\").replace(/[\\r\\n]/g, \" \") + \"\\n\" : \"\";\n    e.replace(C, function (t, r, n, o, i, s) {\n      return n || (n = o), E += e.slice(k, s).replace(_, u), r && (j = !0, E += \"' +\\n__e(\" + r + \") +\\n'\"), i && (M = !0, E += \"';\\n\" + i + \";\\n__p += '\"), n && (E += \"' +\\n((__t = (\" + n + \")) == null ? '' : __t) +\\n'\"), k = s + t.length, t;\n    }), E += \"';\\n\";\n    var A = x.call(t, \"variable\") && t.variable;\n    A || (E = \"with (obj) {\\n\" + E + \"\\n}\\n\"), E = (M ? E.replace(m, \"\") : E).replace(y, \"$1\").replace(v, \"$1;\"), E = \"function(\" + (A || \"obj\") + \") {\\n\" + (A ? \"\" : \"obj || (obj = {});\\n\") + \"var __t, __p = ''\" + (j ? \", __e = _.escape\" : \"\") + (M ? \", __j = Array.prototype.join;\\nfunction print() { __p += __j.call(arguments, '') }\\n\" : \";\\n\") + E + \"return __p\\n}\";\n    var D = i(function () {\n      return Function(O, S + \"return \" + E).apply(void 0, L);\n    });\n    if (D.source = E, l(D)) throw D;\n    return D;\n  }\n\n  var o = r(32),\n      i = r(62),\n      s = r(65),\n      a = r(66),\n      u = r(67),\n      l = r(22),\n      c = r(15),\n      f = r(68),\n      p = r(25),\n      h = r(71),\n      d = r(26),\n      m = /\\b__p \\+= '';/g,\n      y = /\\b(__p \\+=) '' \\+/g,\n      v = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g,\n      g = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g,\n      b = /($^)/,\n      _ = /['\\n\\r\\u2028\\u2029\\\\]/g,\n      j = Object.prototype,\n      x = j.hasOwnProperty;\n  e.exports = n;\n}, function (e, t, r) {\n  var n = r(33),\n      o = r(44),\n      i = r(50),\n      s = o(function (e, t, r, o) {\n    n(t, i(t), e, o);\n  });\n  e.exports = s;\n}, function (e, t, r) {\n  function n(e, t, r, n) {\n    var s = !r;\n    r || (r = {});\n\n    for (var a = -1, u = t.length; ++a < u;) {\n      var l = t[a],\n          c = n ? n(r[l], e[l], l, r, e) : void 0;\n      void 0 === c && (c = e[l]), s ? i(r, l, c) : o(r, l, c);\n    }\n\n    return r;\n  }\n\n  var o = r(34),\n      i = r(8);\n  e.exports = n;\n}, function (e, t, r) {\n  function n(e, t, r) {\n    var n = e[t];\n    a.call(e, t) && i(n, r) && (void 0 !== r || t in e) || o(e, t, r);\n  }\n\n  var o = r(8),\n      i = r(6),\n      s = Object.prototype,\n      a = s.hasOwnProperty;\n  e.exports = n;\n}, function (e, t, r) {\n  function n(e, t) {\n    var r = i(e, t);\n    return o(r) ? r : void 0;\n  }\n\n  var o = r(36),\n      i = r(43);\n  e.exports = n;\n}, function (e, t, r) {\n  function n(e) {\n    return !(!s(e) || i(e)) && (o(e) ? d : l).test(a(e));\n  }\n\n  var o = r(10),\n      i = r(40),\n      s = r(2),\n      a = r(42),\n      u = /[\\\\^$.*+?()[\\]{}|]/g,\n      l = /^\\[object .+?Constructor\\]$/,\n      c = Function.prototype,\n      f = Object.prototype,\n      p = c.toString,\n      h = f.hasOwnProperty,\n      d = RegExp(\"^\" + p.call(h).replace(u, \"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, \"$1.*?\") + \"$\");\n  e.exports = n;\n}, function (e, t) {\n  var r;\n\n  r = function () {\n    return this;\n  }();\n\n  try {\n    r = r || Function(\"return this\")() || (0, eval)(\"this\");\n  } catch (e) {\n    \"object\" == (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) && (r = window);\n  }\n\n  e.exports = r;\n}, function (e, t, r) {\n  function n(e) {\n    var t = s.call(e, u),\n        r = e[u];\n\n    try {\n      e[u] = void 0;\n      var n = !0;\n    } catch (e) {}\n\n    var o = a.call(e);\n    return n && (t ? e[u] = r : delete e[u]), o;\n  }\n\n  var o = r(4),\n      i = Object.prototype,\n      s = i.hasOwnProperty,\n      a = i.toString,\n      u = o ? o.toStringTag : void 0;\n  e.exports = n;\n}, function (e, t) {\n  function r(e) {\n    return o.call(e);\n  }\n\n  var n = Object.prototype,\n      o = n.toString;\n  e.exports = r;\n}, function (e, t, r) {\n  function n(e) {\n    return !!i && i in e;\n  }\n\n  var o = r(41),\n      i = function () {\n    var e = /[^.]+$/.exec(o && o.keys && o.keys.IE_PROTO || \"\");\n    return e ? \"Symbol(src)_1.\" + e : \"\";\n  }();\n\n  e.exports = n;\n}, function (e, t, r) {\n  var n = r(5),\n      o = n[\"__core-js_shared__\"];\n  e.exports = o;\n}, function (e, t) {\n  function r(e) {\n    if (null != e) {\n      try {\n        return o.call(e);\n      } catch (e) {}\n\n      try {\n        return e + \"\";\n      } catch (e) {}\n    }\n\n    return \"\";\n  }\n\n  var n = Function.prototype,\n      o = n.toString;\n  e.exports = r;\n}, function (e, t) {\n  function r(e, t) {\n    return null == e ? void 0 : e[t];\n  }\n\n  e.exports = r;\n}, function (e, t, r) {\n  function n(e) {\n    return o(function (t, r) {\n      var n = -1,\n          o = r.length,\n          s = o > 1 ? r[o - 1] : void 0,\n          a = o > 2 ? r[2] : void 0;\n\n      for (s = e.length > 3 && \"function\" == typeof s ? (o--, s) : void 0, a && i(r[0], r[1], a) && (s = o < 3 ? void 0 : s, o = 1), t = Object(t); ++n < o;) {\n        var u = r[n];\n        u && e(t, u, n, s);\n      }\n\n      return t;\n    });\n  }\n\n  var o = r(12),\n      i = r(15);\n  e.exports = n;\n}, function (e, t, r) {\n  function n(e, t, r) {\n    return t = i(void 0 === t ? e.length - 1 : t, 0), function () {\n      for (var n = arguments, s = -1, a = i(n.length - t, 0), u = Array(a); ++s < a;) {\n        u[s] = n[t + s];\n      }\n\n      s = -1;\n\n      for (var l = Array(t + 1); ++s < t;) {\n        l[s] = n[s];\n      }\n\n      return l[t] = r(u), o(e, this, l);\n    };\n  }\n\n  var o = r(14),\n      i = Math.max;\n  e.exports = n;\n}, function (e, t, r) {\n  var n = r(47),\n      o = r(49),\n      i = o(n);\n  e.exports = i;\n}, function (e, t, r) {\n  var n = r(48),\n      o = r(9),\n      i = r(13),\n      s = o ? function (e, t) {\n    return o(e, \"toString\", {\n      configurable: !0,\n      enumerable: !1,\n      value: n(t),\n      writable: !0\n    });\n  } : i;\n  e.exports = s;\n}, function (e, t) {\n  function r(e) {\n    return function () {\n      return e;\n    };\n  }\n\n  e.exports = r;\n}, function (e, t) {\n  function r(e) {\n    var t = 0,\n        r = 0;\n    return function () {\n      var s = i(),\n          a = o - (s - r);\n\n      if (r = s, a > 0) {\n        if (++t >= n) return arguments[0];\n      } else t = 0;\n\n      return e.apply(void 0, arguments);\n    };\n  }\n\n  var n = 800,\n      o = 16,\n      i = Date.now;\n  e.exports = r;\n}, function (e, t, r) {\n  function n(e) {\n    return s(e) ? o(e, !0) : i(e);\n  }\n\n  var o = r(18),\n      i = r(60),\n      s = r(7);\n  e.exports = n;\n}, function (e, t) {\n  function r(e, t) {\n    for (var r = -1, n = Array(e); ++r < e;) {\n      n[r] = t(r);\n    }\n\n    return n;\n  }\n\n  e.exports = r;\n}, function (e, t, r) {\n  var n = r(53),\n      o = r(1),\n      i = Object.prototype,\n      s = i.hasOwnProperty,\n      a = i.propertyIsEnumerable,\n      u = n(function () {\n    return arguments;\n  }()) ? n : function (e) {\n    return o(e) && s.call(e, \"callee\") && !a.call(e, \"callee\");\n  };\n  e.exports = u;\n}, function (e, t, r) {\n  function n(e) {\n    return i(e) && o(e) == s;\n  }\n\n  var o = r(0),\n      i = r(1),\n      s = \"[object Arguments]\";\n  e.exports = n;\n}, function (e, t, r) {\n  (function (e) {\n    var n = r(5),\n        o = r(55),\n        i = \"object\" == _typeof(t) && t && !t.nodeType && t,\n        s = i && \"object\" == _typeof(e) && e && !e.nodeType && e,\n        a = s && s.exports === i,\n        u = a ? n.Buffer : void 0,\n        l = u ? u.isBuffer : void 0,\n        c = l || o;\n    e.exports = c;\n  }).call(t, r(20)(e));\n}, function (e, t) {\n  function r() {\n    return !1;\n  }\n\n  e.exports = r;\n}, function (e, t, r) {\n  var n = r(57),\n      o = r(58),\n      i = r(59),\n      s = i && i.isTypedArray,\n      a = s ? o(s) : n;\n  e.exports = a;\n}, function (e, t, r) {\n  function n(e) {\n    return s(e) && i(e.length) && !!a[o(e)];\n  }\n\n  var o = r(0),\n      i = r(16),\n      s = r(1),\n      a = {};\n  a[\"[object Float32Array]\"] = a[\"[object Float64Array]\"] = a[\"[object Int8Array]\"] = a[\"[object Int16Array]\"] = a[\"[object Int32Array]\"] = a[\"[object Uint8Array]\"] = a[\"[object Uint8ClampedArray]\"] = a[\"[object Uint16Array]\"] = a[\"[object Uint32Array]\"] = !0, a[\"[object Arguments]\"] = a[\"[object Array]\"] = a[\"[object ArrayBuffer]\"] = a[\"[object Boolean]\"] = a[\"[object DataView]\"] = a[\"[object Date]\"] = a[\"[object Error]\"] = a[\"[object Function]\"] = a[\"[object Map]\"] = a[\"[object Number]\"] = a[\"[object Object]\"] = a[\"[object RegExp]\"] = a[\"[object Set]\"] = a[\"[object String]\"] = a[\"[object WeakMap]\"] = !1, e.exports = n;\n}, function (e, t) {\n  function r(e) {\n    return function (t) {\n      return e(t);\n    };\n  }\n\n  e.exports = r;\n}, function (e, t, r) {\n  (function (e) {\n    var n = r(11),\n        o = \"object\" == _typeof(t) && t && !t.nodeType && t,\n        i = o && \"object\" == _typeof(e) && e && !e.nodeType && e,\n        s = i && i.exports === o,\n        a = s && n.process,\n        u = function () {\n      try {\n        var e = i && i.require && i.require(\"util\").types;\n\n        return e || a && a.binding && a.binding(\"util\");\n      } catch (e) {}\n    }();\n\n    e.exports = u;\n  }).call(t, r(20)(e));\n}, function (e, t, r) {\n  function n(e) {\n    if (!o(e)) return s(e);\n    var t = i(e),\n        r = [];\n\n    for (var n in e) {\n      (\"constructor\" != n || !t && u.call(e, n)) && r.push(n);\n    }\n\n    return r;\n  }\n\n  var o = r(2),\n      i = r(21),\n      s = r(61),\n      a = Object.prototype,\n      u = a.hasOwnProperty;\n  e.exports = n;\n}, function (e, t) {\n  function r(e) {\n    var t = [];\n    if (null != e) for (var r in Object(e)) {\n      t.push(r);\n    }\n    return t;\n  }\n\n  e.exports = r;\n}, function (e, t, r) {\n  var n = r(14),\n      o = r(12),\n      i = r(22),\n      s = o(function (e, t) {\n    try {\n      return n(e, void 0, t);\n    } catch (e) {\n      return i(e) ? e : new Error(e);\n    }\n  });\n  e.exports = s;\n}, function (e, t, r) {\n  function n(e) {\n    if (!s(e) || o(e) != a) return !1;\n    var t = i(e);\n    if (null === t) return !0;\n    var r = f.call(t, \"constructor\") && t.constructor;\n    return \"function\" == typeof r && r instanceof r && c.call(r) == p;\n  }\n\n  var o = r(0),\n      i = r(64),\n      s = r(1),\n      a = \"[object Object]\",\n      u = Function.prototype,\n      l = Object.prototype,\n      c = u.toString,\n      f = l.hasOwnProperty,\n      p = c.call(Object);\n  e.exports = n;\n}, function (e, t, r) {\n  var n = r(23),\n      o = n(Object.getPrototypeOf, Object);\n  e.exports = o;\n}, function (e, t, r) {\n  function n(e, t) {\n    return o(t, function (t) {\n      return e[t];\n    });\n  }\n\n  var o = r(24);\n  e.exports = n;\n}, function (e, t, r) {\n  function n(e, t, r, n) {\n    return void 0 === e || o(e, i[r]) && !s.call(n, r) ? t : e;\n  }\n\n  var o = r(6),\n      i = Object.prototype,\n      s = i.hasOwnProperty;\n  e.exports = n;\n}, function (e, t) {\n  function r(e) {\n    return \"\\\\\" + n[e];\n  }\n\n  var n = {\n    \"\\\\\": \"\\\\\",\n    \"'\": \"'\",\n    \"\\n\": \"n\",\n    \"\\r\": \"r\",\n    \"\\u2028\": \"u2028\",\n    \"\\u2029\": \"u2029\"\n  };\n  e.exports = r;\n}, function (e, t, r) {\n  function n(e) {\n    return s(e) ? o(e) : i(e);\n  }\n\n  var o = r(18),\n      i = r(69),\n      s = r(7);\n  e.exports = n;\n}, function (e, t, r) {\n  function n(e) {\n    if (!o(e)) return i(e);\n    var t = [];\n\n    for (var r in Object(e)) {\n      a.call(e, r) && \"constructor\" != r && t.push(r);\n    }\n\n    return t;\n  }\n\n  var o = r(21),\n      i = r(70),\n      s = Object.prototype,\n      a = s.hasOwnProperty;\n  e.exports = n;\n}, function (e, t, r) {\n  var n = r(23),\n      o = n(Object.keys, Object);\n  e.exports = o;\n}, function (e, t, r) {\n  var n = r(72),\n      o = r(77),\n      i = r(78),\n      s = r(25),\n      a = {\n    escape: o,\n    evaluate: i,\n    interpolate: s,\n    variable: \"\",\n    imports: {\n      _: {\n        escape: n\n      }\n    }\n  };\n  e.exports = a;\n}, function (e, t, r) {\n  function n(e) {\n    return e = i(e), e && a.test(e) ? e.replace(s, o) : e;\n  }\n\n  var o = r(73),\n      i = r(26),\n      s = /[&<>\"']/g,\n      a = RegExp(s.source);\n  e.exports = n;\n}, function (e, t, r) {\n  var n = r(74),\n      o = {\n    \"&\": \"&amp;\",\n    \"<\": \"&lt;\",\n    \">\": \"&gt;\",\n    '\"': \"&quot;\",\n    \"'\": \"&#39;\"\n  },\n      i = n(o);\n  e.exports = i;\n}, function (e, t) {\n  function r(e) {\n    return function (t) {\n      return null == e ? void 0 : e[t];\n    };\n  }\n\n  e.exports = r;\n}, function (e, t, r) {\n  function n(e) {\n    if (\"string\" == typeof e) return e;\n    if (s(e)) return i(e, n) + \"\";\n    if (a(e)) return c ? c.call(e) : \"\";\n    var t = e + \"\";\n    return \"0\" == t && 1 / e == -u ? \"-0\" : t;\n  }\n\n  var o = r(4),\n      i = r(24),\n      s = r(19),\n      a = r(76),\n      u = 1 / 0,\n      l = o ? o.prototype : void 0,\n      c = l ? l.toString : void 0;\n  e.exports = n;\n}, function (e, t, r) {\n  function n(e) {\n    return \"symbol\" == _typeof(e) || i(e) && o(e) == s;\n  }\n\n  var o = r(0),\n      i = r(1),\n      s = \"[object Symbol]\";\n  e.exports = n;\n}, function (e, t) {\n  var r = /<%-([\\s\\S]+?)%>/g;\n  e.exports = r;\n}, function (e, t) {\n  var r = /<%([\\s\\S]+?)%>/g;\n  e.exports = r;\n}, function (e, t, r) {\n  \"use strict\";\n\n  Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  }), t.default = {\n    acres: {\n      factor: 24711e-8,\n      display: \"acres\",\n      decimals: 2\n    },\n    feet: {\n      factor: 3.2808,\n      display: \"feet\",\n      decimals: 0\n    },\n    kilometers: {\n      factor: .001,\n      display: \"kilometers\",\n      decimals: 2\n    },\n    hectares: {\n      factor: 1e-4,\n      display: \"hectares\",\n      decimals: 2\n    },\n    meters: {\n      factor: 1,\n      display: \"meters\",\n      decimals: 0\n    },\n    miles: {\n      factor: 3.2808 / 5280,\n      display: \"miles\",\n      decimals: 2\n    },\n    sqfeet: {\n      factor: 10.7639,\n      display: \"sqfeet\",\n      decimals: 0\n    },\n    sqmeters: {\n      factor: 1,\n      display: \"sqmeters\",\n      decimals: 0\n    },\n    sqkilometers: {\n      factor: 1e-6,\n      display: \"sqkilometers\",\n      decimals: 2\n    },\n    sqmiles: {\n      factor: 3.86102e-7,\n      display: \"sqmiles\",\n      decimals: 2\n    }\n  };\n}, function (e, t, r) {\n  \"use strict\";\n\n  function n(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n\n  function o(e) {\n    return e < 10 ? \"0\" + e.toString() : e.toString();\n  }\n\n  function i(e, t, r) {\n    var n = Math.abs(e),\n        i = Math.floor(n),\n        s = Math.floor(60 * (n - i)),\n        a = Math.round(3600 * (n - i - s / 60) * 100) / 100,\n        u = n === e ? t : r;\n    return o(i) + \"&deg; \" + o(s) + \"' \" + o(a) + '\" ' + u;\n  }\n\n  function s(e) {\n    var t = e[e.length - 1],\n        r = e.map(function (e) {\n      return [e.lat, e.lng];\n    }),\n        n = L.polyline(r),\n        o = L.polygon(r),\n        s = 1e3 * (0, u.default)(n.toGeoJSON(), {\n      units: \"kilometers\"\n    }),\n        a = (0, c.default)(o.toGeoJSON());\n    return {\n      lastCoord: {\n        dd: {\n          x: t.lng,\n          y: t.lat\n        },\n        dms: {\n          x: i(t.lng, \"E\", \"W\"),\n          y: i(t.lat, \"N\", \"S\")\n        }\n      },\n      length: s,\n      area: a\n    };\n  }\n\n  Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  }), t.default = s;\n  var a = r(81),\n      u = n(a),\n      l = r(84),\n      c = n(l);\n}, function (e, t, r) {\n  \"use strict\";\n\n  function n(e, t) {\n    if (t = t || {}, !Object(s.d)(t)) throw new Error(\"options is invalid\");\n    if (!e) throw new Error(\"geojson is required\");\n    return Object(i.b)(e, function (e, r) {\n      var n = r.geometry.coordinates;\n      return e + Object(o.a)(n[0], n[1], t);\n    }, 0);\n  }\n\n  Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  });\n  var o = r(82),\n      i = r(27),\n      s = r(3);\n  t.default = n;\n}, function (e, t, r) {\n  \"use strict\";\n\n  function n(e, t, r) {\n    if (r = r || {}, !Object(i.d)(r)) throw new Error(\"options is invalid\");\n    var n = r.units,\n        s = Object(o.a)(e),\n        a = Object(o.a)(t),\n        u = Object(i.a)(a[1] - s[1]),\n        l = Object(i.a)(a[0] - s[0]),\n        c = Object(i.a)(s[1]),\n        f = Object(i.a)(a[1]),\n        p = Math.pow(Math.sin(u / 2), 2) + Math.pow(Math.sin(l / 2), 2) * Math.cos(c) * Math.cos(f);\n    return Object(i.g)(2 * Math.atan2(Math.sqrt(p), Math.sqrt(1 - p)), n);\n  }\n\n  var o = r(83),\n      i = r(3);\n  t.a = n;\n}, function (e, t, r) {\n  \"use strict\";\n\n  function n(e) {\n    if (!e) throw new Error(\"coord is required\");\n    if (\"Feature\" === e.type && null !== e.geometry && \"Point\" === e.geometry.type) return e.geometry.coordinates;\n    if (\"Point\" === e.type) return e.coordinates;\n    if (Array.isArray(e) && e.length >= 2 && void 0 === e[0].length && void 0 === e[1].length) return e;\n    throw new Error(\"coord must be GeoJSON Point or an Array of numbers\");\n  }\n\n  r.d(t, \"a\", function () {\n    return n;\n  });\n  r(3);\n}, function (e, t, r) {\n  \"use strict\";\n\n  function n(e) {\n    return Object(u.a)(e, function (e, t) {\n      return e + o(t);\n    }, 0);\n  }\n\n  function o(e) {\n    var t,\n        r = 0;\n\n    switch (e.type) {\n      case \"Polygon\":\n        return i(e.coordinates);\n\n      case \"MultiPolygon\":\n        for (t = 0; t < e.coordinates.length; t++) {\n          r += i(e.coordinates[t]);\n        }\n\n        return r;\n\n      case \"Point\":\n      case \"MultiPoint\":\n      case \"LineString\":\n      case \"MultiLineString\":\n        return 0;\n\n      case \"GeometryCollection\":\n        for (t = 0; t < e.geometries.length; t++) {\n          r += o(e.geometries[t]);\n        }\n\n        return r;\n    }\n  }\n\n  function i(e) {\n    var t = 0;\n\n    if (e && e.length > 0) {\n      t += Math.abs(s(e[0]));\n\n      for (var r = 1; r < e.length; r++) {\n        t -= Math.abs(s(e[r]));\n      }\n    }\n\n    return t;\n  }\n\n  function s(e) {\n    var t,\n        r,\n        n,\n        o,\n        i,\n        s,\n        u,\n        c = 0,\n        f = e.length;\n\n    if (f > 2) {\n      for (u = 0; u < f; u++) {\n        u === f - 2 ? (o = f - 2, i = f - 1, s = 0) : u === f - 1 ? (o = f - 1, i = 0, s = 1) : (o = u, i = u + 1, s = u + 2), t = e[o], r = e[i], n = e[s], c += (a(n[0]) - a(t[0])) * Math.sin(a(r[1]));\n      }\n\n      c = c * l * l / 2;\n    }\n\n    return c;\n  }\n\n  function a(e) {\n    return e * Math.PI / 180;\n  }\n\n  Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  });\n  var u = r(27),\n      l = 6378137;\n  t.default = n;\n}, function (e, t, r) {\n  \"use strict\";\n\n  function n(e, t) {\n    return t || (t = document), t.querySelector(e);\n  }\n\n  function o(e, t) {\n    return t || (t = document), Array.prototype.slice.call(t.querySelectorAll(e));\n  }\n\n  function i(e) {\n    if (e) return e.setAttribute(\"style\", \"display:none;\"), e;\n  }\n\n  function s(e) {\n    if (e) return e.removeAttribute(\"style\"), e;\n  }\n\n  Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  }), t.selectOne = n, t.selectAll = o, t.hide = i, t.show = s;\n}, function (e, t, r) {\n  \"use strict\";\n\n  function n(e, t) {\n    if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n  }\n\n  Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  });\n\n  var o = function () {\n    function e(e, t) {\n      for (var r = 0; r < t.length; r++) {\n        var n = t[r];\n        n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n      }\n    }\n\n    return function (t, r, n) {\n      return r && e(t.prototype, r), n && e(t, n), t;\n    };\n  }(),\n      i = {\n    activeColor: \"#ABE67E\",\n    completedColor: \"#C8F2BE\"\n  },\n      s = function () {\n    function e(t) {\n      n(this, e), this._options = L.extend({}, i, this._options, t);\n    }\n\n    return o(e, [{\n      key: \"getSymbol\",\n      value: function value(e) {\n        return {\n          measureDrag: {\n            clickable: !1,\n            radius: 4,\n            color: this._options.activeColor,\n            weight: 2,\n            opacity: .7,\n            fillColor: this._options.activeColor,\n            fillOpacity: .5,\n            className: \"layer-measuredrag\"\n          },\n          measureArea: {\n            clickable: !1,\n            stroke: !1,\n            fillColor: this._options.activeColor,\n            fillOpacity: .2,\n            className: \"layer-measurearea\"\n          },\n          measureBoundary: {\n            clickable: !1,\n            color: this._options.activeColor,\n            weight: 2,\n            opacity: .9,\n            fill: !1,\n            className: \"layer-measureboundary\"\n          },\n          measureVertex: {\n            clickable: !1,\n            radius: 4,\n            color: this._options.activeColor,\n            weight: 2,\n            opacity: 1,\n            fillColor: this._options.activeColor,\n            fillOpacity: .7,\n            className: \"layer-measurevertex\"\n          },\n          measureVertexActive: {\n            clickable: !1,\n            radius: 4,\n            color: this._options.activeColor,\n            weight: 2,\n            opacity: 1,\n            fillColor: this._options.activeColor,\n            fillOpacity: 1,\n            className: \"layer-measurevertex active\"\n          },\n          resultArea: {\n            clickable: !0,\n            color: this._options.completedColor,\n            weight: 2,\n            opacity: .9,\n            fillColor: this._options.completedColor,\n            fillOpacity: .2,\n            className: \"layer-measure-resultarea\"\n          },\n          resultLine: {\n            clickable: !0,\n            color: this._options.completedColor,\n            weight: 3,\n            opacity: .9,\n            fill: !1,\n            className: \"layer-measure-resultline\"\n          },\n          resultPoint: {\n            clickable: !0,\n            radius: 4,\n            color: this._options.completedColor,\n            weight: 2,\n            opacity: 1,\n            fillColor: this._options.completedColor,\n            fillOpacity: .7,\n            className: \"layer-measure-resultpoint\"\n          }\n        }[e];\n      }\n    }]), e;\n  }();\n\n  t.default = s;\n}, function (e, t, r) {\n  \"use strict\";\n\n  function n(e) {\n    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 2,\n        r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : \".\",\n        n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : \",\",\n        o = e < 0 ? \"-\" : \"\",\n        i = Math.abs(+e || 0),\n        s = parseInt(i.toFixed(t), 10) + \"\",\n        a = s.length > 3 ? s.length % 3 : 0;\n    return [o, a ? s.substr(0, a) + n : \"\", s.substr(a).replace(/(\\d{3})(?=\\d)/g, \"$1\" + n), t ? \"\" + r + Math.abs(i - s).toFixed(t).slice(2) : \"\"].join(\"\");\n  }\n\n  Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  }), t.numberFormat = n;\n}, function (e, t, r) {\n  \"use strict\";\n\n  function n(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n\n  Object.defineProperty(t, \"__esModule\", {\n    value: !0\n  });\n  var o = r(89);\n  Object.defineProperty(t, \"controlTemplate\", {\n    enumerable: !0,\n    get: function get() {\n      return n(o).default;\n    }\n  });\n  var i = r(90);\n  Object.defineProperty(t, \"resultsTemplate\", {\n    enumerable: !0,\n    get: function get() {\n      return n(i).default;\n    }\n  });\n  var s = r(91);\n  Object.defineProperty(t, \"pointPopupTemplate\", {\n    enumerable: !0,\n    get: function get() {\n      return n(s).default;\n    }\n  });\n  var a = r(92);\n  Object.defineProperty(t, \"linePopupTemplate\", {\n    enumerable: !0,\n    get: function get() {\n      return n(a).default;\n    }\n  });\n  var u = r(93);\n  Object.defineProperty(t, \"areaPopupTemplate\", {\n    enumerable: !0,\n    get: function get() {\n      return n(u).default;\n    }\n  });\n}, function (e, t, r) {\n  e.exports = '<a class=\"{{ model.className }}-toggle js-toggle\" href=# title=\"同时测量距离和面积\">测量</a> <div class=\"{{ model.className }}-interaction js-interaction\"> <div class=\"js-startprompt startprompt\"> <h3>同时测量距离和面积</h3> <ul class=tasks> <a href=# class=\"js-start start\">开始新的测量</a> </ul> </div> <div class=js-measuringprompt> <h3>同时测量距离和面积</h3> <p class=js-starthelp>点击地图加点以开始创建测量</p> <div class=\"js-results results\"></div> <ul class=\"js-measuretasks tasks\"> <li><a href=# class=\"js-cancel cancel\">取消</a></li> <li><a href=# class=\"js-finish finish\">完成测量</a></li> </ul> </div> </div> ';\n}, function (e, t, r) {\n  e.exports = '<div class=group> <p class=\"lastpoint heading\">最后点的坐标</p> <p>{{ model.lastCoord.dms.y }} <span class=coorddivider>/</span> {{ model.lastCoord.dms.x }}</p> <p>{{ numberFormat(model.lastCoord.dd.y, 6) }} <span class=coorddivider>/</span> {{ numberFormat(model.lastCoord.dd.x, 6) }}</p> </div> <% if (model.pointCount > 1) { %> <div class=group> <p><span class=heading>路径长度</span> {{ model.lengthDisplay }}</p> </div> <% } %> <% if (model.pointCount > 2) { %> <div class=group> <p><span class=heading>面积</span> {{ model.areaDisplay }}</p> </div> <% } %> ';\n}, function (e, t, r) {\n  e.exports = '<h3>点的坐标</h3> <p>{{ model.lastCoord.dms.y }} <span class=coorddivider>/</span> {{ model.lastCoord.dms.x }}</p> <p>{{ numberFormat(model.lastCoord.dd.y, 6) }} <span class=coorddivider>/</span> {{ numberFormat(model.lastCoord.dd.x, 6) }}</p> <ul class=tasks> <li><a href=# class=\"js-zoomto zoomto\">该位置居中</a></li> <li><a href=# class=\"js-deletemarkup deletemarkup\">删除</a></li> </ul> ';\n}, function (e, t, r) {\n  e.exports = '<h3>距离测量</h3> <p>{{ model.lengthDisplay }}</p> <ul class=tasks> <li><a href=# class=\"js-zoomto zoomto\">该线段居中</a></li> <li><a href=# class=\"js-deletemarkup deletemarkup\">删除</a></li> </ul> ';\n}, function (e, t, r) {\n  e.exports = '<h3>面积测量</h3> <p>{{ model.areaDisplay }}</p> <p>{{ model.lengthDisplay }} 周长</p> <ul class=tasks> <li><a href=# class=\"js-zoomto zoomto\">该面积居中</a></li> <li><a href=# class=\"js-deletemarkup deletemarkup\">删除</a></li> </ul> ';\n}]);\n\n//# sourceURL=webpack://tmap/./src/plugins/measure/leaflet-measure.cn.js?");

/***/ }),

/***/ "./src/plugins/measure/leaflet-measure.css":
/*!*************************************************!*\
  !*** ./src/plugins/measure/leaflet-measure.css ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var api = __webpack_require__(/*! ../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !../../../node_modules/css-loader/dist/cjs.js!./leaflet-measure.css */ \"./node_modules/css-loader/dist/cjs.js!./src/plugins/measure/leaflet-measure.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(module.i, content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;\n\n//# sourceURL=webpack://tmap/./src/plugins/measure/leaflet-measure.css?");

/***/ }),

/***/ "./src/plugins/print/leaflet.browser.print.min.js":
/*!********************************************************!*\
  !*** ./src/plugins/print/leaflet.browser.print.min.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*!\n *\n *  leaflet.browser.print - v1.0.2 (https://github.com/Igor-Vladyka/leaflet.browser.print)\n *  A leaflet plugin which allows users to print the map directly from the browser\n *\n *  MIT (http://www.opensource.org/licenses/mit-license.php)\n *  (c) 2019  Igor Vladyka <igor.vladyka@gmail.com> (https://github.com/Igor-Vladyka/)\n *\n */\n!function (t) {\n  var e = {};\n\n  function r(n) {\n    if (e[n]) return e[n].exports;\n    var i = e[n] = {\n      i: n,\n      l: !1,\n      exports: {}\n    };\n    return t[n].call(i.exports, i, i.exports, r), i.l = !0, i.exports;\n  }\n\n  r.m = t, r.c = e, r.d = function (t, e, n) {\n    r.o(t, e) || Object.defineProperty(t, e, {\n      enumerable: !0,\n      get: n\n    });\n  }, r.r = function (t) {\n    \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {\n      value: \"Module\"\n    }), Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n  }, r.t = function (t, e) {\n    if (1 & e && (t = r(t)), 8 & e) return t;\n    if (4 & e && \"object\" == _typeof(t) && t && t.__esModule) return t;\n    var n = Object.create(null);\n    if (r.r(n), Object.defineProperty(n, \"default\", {\n      enumerable: !0,\n      value: t\n    }), 2 & e && \"string\" != typeof t) for (var i in t) {\n      r.d(n, i, function (e) {\n        return t[e];\n      }.bind(null, i));\n    }\n    return n;\n  }, r.n = function (t) {\n    var e = t && t.__esModule ? function () {\n      return t.default;\n    } : function () {\n      return t;\n    };\n    return r.d(e, \"a\", e), e;\n  }, r.o = function (t, e) {\n    return Object.prototype.hasOwnProperty.call(t, e);\n  }, r.p = \"\", r(r.s = 3);\n}([function (t, e) {\n  L.Control.BrowserPrint.Size = {\n    A: {\n      Width: 840,\n      Height: 1188\n    },\n    B: {\n      Width: 1e3,\n      Height: 1414\n    },\n    C: {\n      Width: 916,\n      Height: 1296\n    },\n    D: {\n      Width: 770,\n      Height: 1090\n    },\n    LETTER: {\n      Width: 216,\n      Height: 279\n    },\n    HALFLETTER: {\n      Width: 140,\n      Height: 216\n    },\n    LEGAL: {\n      Width: 216,\n      Height: 356\n    },\n    JUNIORLEGAL: {\n      Width: 127,\n      Height: 203\n    },\n    TABLOID: {\n      Width: 279,\n      Height: 432\n    },\n    LEDGER: {\n      Width: 432,\n      Height: 279\n    }\n  }, L.Control.BrowserPrint.Mode = function (t, e, r, n, i) {\n    if (!t) throw \"Print mode should be specified.\";\n    this.Mode = t, this.Title = e || t, this.PageSize = (r || \"A4\").toUpperCase(), this.PageSeries = -1 != [\"A\", \"B\", \"C\", \"D\"].indexOf(this.PageSize[0]) ? this.PageSize[0] : \"\", this.PageSeriesSize = this.PageSize.substring(this.PageSeries.length), this.Action = n || function (t, e) {\n      return function () {\n        t[\"_print\" + e.Mode](e);\n      };\n    }, this.InvalidateBounds = i;\n  }, L.Control.BrowserPrint.Mode.Landscape = \"Landscape\", L.Control.BrowserPrint.Mode.Portrait = \"Portrait\", L.Control.BrowserPrint.Mode.Auto = \"Auto\", L.Control.BrowserPrint.Mode.Custom = \"Custom\", L.Control.BrowserPrint.Mode.prototype.getPageMargin = function () {\n    var t = this.getPaperSize();\n    return Math.floor((t.Width + t.Height) / 40) + \"mm\";\n  }, L.Control.BrowserPrint.Mode.prototype.getPaperSize = function () {\n    if (this.PageSeries) {\n      var t = L.Control.BrowserPrint.Size[this.PageSeries],\n          e = t.Width,\n          r = t.Height,\n          n = !1;\n      return this.PageSeriesSize && (this.PageSeriesSize = +this.PageSeriesSize, (n = this.PageSeriesSize % 2 == 1) ? (e /= this.PageSeriesSize - 1 || 1, r /= this.PageSeriesSize + 1) : (e /= this.PageSeriesSize, r /= this.PageSeriesSize)), {\n        Width: n ? r : e,\n        Height: n ? e : r\n      };\n    }\n\n    var i = L.Control.BrowserPrint.Size[this.PageSeriesSize];\n    return {\n      Width: i.Width,\n      Height: i.Height\n    };\n  }, L.Control.BrowserPrint.Mode.prototype.getSize = function () {\n    var t = this.getPaperSize(),\n        e = parseInt(this.getPageMargin()),\n        r = function r(t) {\n      return e ? t - 2 * e : t;\n    };\n\n    return t.Width = Math.floor(r(t.Width)) + \"mm\", t.Height = Math.floor(r(t.Height)) + \"mm\", t;\n  }, L.control.browserPrint.mode = function (t, e, r, n, i) {\n    return new L.Control.BrowserPrint.Mode(t, e, r, n, i);\n  }, L.control.browserPrint.mode.portrait = function (t, e, r) {\n    return L.control.browserPrint.mode(L.Control.BrowserPrint.Mode.Portrait, t, e, r, !1);\n  }, L.control.browserPrint.mode.landscape = function (t, e, r) {\n    return L.control.browserPrint.mode(L.Control.BrowserPrint.Mode.Landscape, t, e, r, !1);\n  }, L.control.browserPrint.mode.auto = function (t, e, r) {\n    return L.control.browserPrint.mode(L.Control.BrowserPrint.Mode.Auto, t, e, r, !0);\n  }, L.control.browserPrint.mode.custom = function (t, e, r) {\n    return L.control.browserPrint.mode(L.Control.BrowserPrint.Mode.Custom, t, e, r, !0);\n  };\n}, function (t, e) {\n  L.Control.BrowserPrint.Utils = {\n    _ignoreArray: [],\n    _cloneFactoryArray: [],\n    _cloneRendererArray: [],\n    _knownRenderers: {},\n    cloneOptions: function cloneOptions(t) {\n      var e = {};\n\n      for (var r in t) {\n        var n = t[r];\n        n && n.clone ? e[r] = n.clone() : n && n.onAdd ? e[r] = this.cloneLayer(n) : e[r] = n;\n      }\n\n      return e;\n    },\n    cloneBasicOptionsWithoutLayers: function cloneBasicOptionsWithoutLayers(t) {\n      var e = {},\n          r = Object.getOwnPropertyNames(t);\n\n      if (r.length) {\n        for (var n = 0; n < r.length; n++) {\n          var i = r[n];\n          i && \"layers\" != i && (e[i] = t[i]);\n        }\n\n        return this.cloneOptions(e);\n      }\n\n      return e;\n    },\n    cloneInnerLayers: function cloneInnerLayers(t) {\n      var e = this,\n          r = [];\n      return t.eachLayer(function (t) {\n        var n = e.cloneLayer(t);\n        n && r.push(n);\n      }), r;\n    },\n    initialize: function initialize() {\n      this._knownRenderers = {}, this.registerRenderer(L.SVG, \"L.SVG\"), this.registerRenderer(L.Canvas, \"L.Canvas\"), this.registerLayer(L.TileLayer.WMS, \"L.TileLayer.WMS\", function (t, e) {\n        return L.tileLayer.wms(t._url, e.cloneOptions(t.options));\n      }), this.registerLayer(L.TileLayer, \"L.TileLayer\", function (t, e) {\n        return L.tileLayer(t._url, e.cloneOptions(t.options));\n      }), this.registerLayer(L.GridLayer, \"L.GridLayer\", function (t, e) {\n        return L.gridLayer(e.cloneOptions(t.options));\n      }), this.registerLayer(L.ImageOverlay, \"L.ImageOverlay\", function (t, e) {\n        return L.imageOverlay(t._url, t._bounds, e.cloneOptions(t.options));\n      }), this.registerLayer(L.Marker, \"L.Marker\", function (t, e) {\n        return L.marker(t.getLatLng(), e.cloneOptions(t.options));\n      }), this.registerLayer(L.Popup, \"L.Popup\", function (t, e) {\n        return L.popup(e.cloneOptions(t.options)).setLatLng(t.getLatLng()).setContent(t.getContent());\n      }), this.registerLayer(L.Circle, \"L.Circle\", function (t, e) {\n        return L.circle(t.getLatLng(), t.getRadius(), e.cloneOptions(t.options));\n      }), this.registerLayer(L.CircleMarker, \"L.CircleMarker\", function (t, e) {\n        return L.circleMarker(t.getLatLng(), e.cloneOptions(t.options));\n      }), this.registerLayer(L.Rectangle, \"L.Rectangle\", function (t, e) {\n        return L.rectangle(t.getBounds(), e.cloneOptions(t.options));\n      }), this.registerLayer(L.Polygon, \"L.Polygon\", function (t, e) {\n        return L.polygon(t.getLatLngs(), e.cloneOptions(t.options));\n      }), this.registerLayer(L.MultiPolyline, \"L.MultiPolyline\", function (t, e) {\n        return L.polyline(t.getLatLngs(), e.cloneOptions(t.options));\n      }), this.registerLayer(L.MultiPolygon, \"L.MultiPolygon\", function (t, e) {\n        return L.multiPolygon(t.getLatLngs(), e.cloneOptions(t.options));\n      }), this.registerLayer(L.Polyline, \"L.Polyline\", function (t, e) {\n        return L.polyline(t.getLatLngs(), e.cloneOptions(t.options));\n      }), this.registerLayer(L.GeoJSON, \"L.GeoJSON\", function (t, e) {\n        return L.geoJson(t.toGeoJSON(), e.cloneOptions(t.options));\n      }), this.registerIgnoreLayer(L.FeatureGroup, \"L.FeatureGroup\"), this.registerIgnoreLayer(L.LayerGroup, \"L.LayerGroup\"), this.registerLayer(L.Tooltip, \"L.Tooltip\", function () {\n        return null;\n      });\n    },\n    _register: function _register(t, e, r, n) {\n      e && !t.filter(function (t) {\n        return t.identifier === r;\n      }).length && t.push({\n        type: e,\n        identifier: r,\n        builder: n || function (t) {\n          return new e(t.options);\n        }\n      });\n    },\n    registerLayer: function registerLayer(t, e, r) {\n      this._register(this._cloneFactoryArray, t, e, r);\n    },\n    registerRenderer: function registerRenderer(t, e, r) {\n      this._register(this._cloneRendererArray, t, e, r);\n    },\n    registerIgnoreLayer: function registerIgnoreLayer(t, e) {\n      this._register(this._ignoreArray, t, e);\n    },\n    cloneLayer: function cloneLayer(t) {\n      if (!t) return null;\n\n      var e,\n          r = this.__getRenderer(t);\n\n      return r || ((e = t._group ? this.__getFactoryObject(t._group, !0) : this.__getFactoryObject(t)) && (e = e.builder(t, this)), e);\n    },\n    getType: function getType(t) {\n      if (!t) return null;\n\n      var e = this.__getFactoryObject(t);\n\n      return e && (e = e.identifier), e;\n    },\n    __getRenderer: function __getRenderer(t) {\n      var e = this._knownRenderers[t._leaflet_id];\n\n      if (!e) {\n        for (var r = 0; r < this._cloneRendererArray.length; r++) {\n          var n = this._cloneRendererArray[r];\n\n          if (t instanceof n.type) {\n            this._knownRenderers[t._leaflet_id] = n.builder(t.options);\n            break;\n          }\n        }\n\n        e = this._knownRenderers[t._leaflet_id];\n      }\n\n      return e;\n    },\n    __getFactoryObject: function __getFactoryObject(t, e) {\n      if (!e) for (var r = 0; r < this._ignoreArray.length; r++) {\n        var n = this._ignoreArray[r];\n        if (n.type && t instanceof n.type) return null;\n      }\n\n      for (r = 0; r < this._cloneFactoryArray.length; r++) {\n        if ((i = this._cloneFactoryArray[r]).type && t instanceof i.type) return i;\n      }\n\n      for (r = 0; r < this._cloneRendererArray.length; r++) {\n        var i;\n        if ((i = this._cloneRendererArray[r]).type && t instanceof i.type) return null;\n      }\n\n      return this.__unknownLayer__(), null;\n    },\n    __unknownLayer__: function __unknownLayer__() {\n      console.warn(\"Unknown layer, cannot clone this layer. Leaflet version: \" + L.version), console.info(\"For additional information please refer to documentation on: https://github.com/Igor-Vladyka/leaflet.browser.print.\"), console.info(\"-------------------------------------------------------------------------------------------------------------------\");\n    }\n  };\n}, function (t, e) {\n  L.Control.BrowserPrint = L.Control.extend({\n    options: {\n      title: \"Print map\",\n      documentTitle: \"\",\n      position: \"topleft\",\n      printLayer: null,\n      printModes: [\"Portrait\", \"Landscape\", \"Auto\", \"Custom\"],\n      printTitles: {\n        \"Portrait\": \"竖版\",\n        \"Landscape\": \"横版\",\n        \"Auto\": \"自动\",\n        \"Custom\": \"自定义\"\n      },\n      closePopupsOnPrint: !0,\n      contentSelector: \"[leaflet-browser-print-content]\",\n      pagesSelector: \"[leaflet-browser-print-pages]\",\n      manualMode: !1,\n      customPrintStyle: {\n        color: \"gray\",\n        dashArray: \"5, 10\",\n        pane: \"customPrintPane\"\n      }\n    },\n    onAdd: function onAdd(t) {\n      this.options.customPrintStyle.pane && !t.getPane(this.options.customPrintStyle.pane) && (t.createPane(this.options.customPrintStyle.pane).style.zIndex = 9999);\n      var e = L.DomUtil.create(\"div\", \"leaflet-control-browser-print leaflet-bar leaflet-control\");\n      return L.DomEvent.disableClickPropagation(e), this._appendControlStyles(e), this.options.printModes.length > 1 ? (L.DomEvent.addListener(e, \"mouseover\", this._displayPageSizeButtons, this), L.DomEvent.addListener(e, \"mouseout\", this._hidePageSizeButtons, this)) : e.style.cursor = \"pointer\", this.options.position.indexOf(\"left\") > 0 ? (this._createIcon(e), this._createMenu(e)) : (this._createMenu(e), this._createIcon(e)), t.printControl = this, e;\n    },\n    _createIcon: function _createIcon(t) {\n      return this.__link__ = L.DomUtil.create(\"a\", \"\", t), this.__link__.className = \"leaflet-browser-print\", this.options.title && (this.__link__.title = this.options.title), this.__link__;\n    },\n    _createMenu: function _createMenu(t) {\n      for (var e = [], r = 0; r < this.options.printModes.length; r++) {\n        var n = this.options.printModes[r];\n\n        if (n.length) {\n          var i = n[0].toUpperCase() + n.substring(1).toLowerCase();\n          n = L.control.browserPrint.mode[n.toLowerCase()](this._getDefaultTitle(i));\n        } else if (!(n instanceof L.Control.BrowserPrint.Mode)) throw \"Invalid Print Mode. Can't construct logic to print current map.\";\n\n        1 == this.options.printModes.length ? n.Element = t : (n.Element = L.DomUtil.create(\"li\", \"browser-print-mode\", L.DomUtil.create(\"ul\", \"browser-print-holder\", t)), n.Element.innerHTML = this.options.printTitles[n.Title]), L.DomEvent.addListener(n.Element, \"click\", n.Action(this, n), this), e.push(n);\n      }\n\n      this.options.printModes = e;\n    },\n    _getDefaultTitle: function _getDefaultTitle(t) {\n      return this.options.printModesNames && this.options.printModesNames[t] || t;\n    },\n    _displayPageSizeButtons: function _displayPageSizeButtons() {\n      this.options.position.indexOf(\"left\") > 0 ? (this.__link__.style.borderTopRightRadius = \"0px\", this.__link__.style.borderBottomRightRadius = \"0px\") : (this.__link__.style.borderTopLeftRadius = \"0px\", this.__link__.style.borderBottomLeftRadius = \"0px\"), this.options.printModes.forEach(function (t) {\n        t.Element.style.display = \"inline-block\";\n      });\n    },\n    _hidePageSizeButtons: function _hidePageSizeButtons() {\n      this.options.position.indexOf(\"left\") > 0 ? (this.__link__.style.borderTopRightRadius = \"\", this.__link__.style.borderBottomRightRadius = \"\") : (this.__link__.style.borderTopLeftRadius = \"\", this.__link__.style.borderBottomLeftRadius = \"\"), this.options.printModes.forEach(function (t) {\n        t.Element.style.display = \"\";\n      });\n    },\n    _getMode: function _getMode(t, e) {\n      return new L.control.browserPrint.mode(t, e.Title, e.PageSize, e.Action, e.InvalidateBounds);\n    },\n    _printLandscape: function _printLandscape(t) {\n      this._addPrintClassToContainer(this._map, \"leaflet-browser-print--landscape\"), this._print(t);\n    },\n    _printPortrait: function _printPortrait(t) {\n      this._addPrintClassToContainer(this._map, \"leaflet-browser-print--portrait\"), this._print(t);\n    },\n    _printAuto: function _printAuto(t) {\n      this._addPrintClassToContainer(this._map, \"leaflet-browser-print--auto\");\n\n      var e = this._getBoundsForAllVisualLayers(),\n          r = this._getPageSizeFromBounds(e);\n\n      this._print(this._getMode(r, t), e);\n    },\n    _printCustom: function _printCustom(t) {\n      this._addPrintClassToContainer(this._map, \"leaflet-browser-print--custom\"), this.options.custom = {\n        mode: t\n      }, this._map.on(\"mousedown\", this._startAutoPoligon, this);\n    },\n    _addPrintClassToContainer: function _addPrintClassToContainer(t, e) {\n      var r = t.getContainer();\n      -1 === r.className.indexOf(e) && (r.className += \" \" + e);\n    },\n    _removePrintClassFromContainer: function _removePrintClassFromContainer(t, e) {\n      var r = t.getContainer();\n      r.className && r.className.indexOf(e) > -1 && (r.className = r.className.replace(\" \" + e, \"\"));\n    },\n    _startAutoPoligon: function _startAutoPoligon(t) {\n      t.originalEvent.preventDefault(), t.originalEvent.stopPropagation(), this._map.dragging.disable(), this.options.custom.start = t.latlng, this._map.off(\"mousedown\", this._startAutoPoligon, this), this._map.on(\"mousemove\", this._moveAutoPoligon, this), this._map.on(\"mouseup\", this._endAutoPoligon, this);\n    },\n    _moveAutoPoligon: function _moveAutoPoligon(t) {\n      this.options.custom && (t.originalEvent.preventDefault(), t.originalEvent.stopPropagation(), this.options.custom.rectangle ? this.options.custom.rectangle.setBounds(L.latLngBounds(this.options.custom.start, t.latlng)) : (this.options.custom.rectangle = L.rectangle([this.options.custom.start, t.latlng], this.options.customPrintStyle), this.options.custom.rectangle.addTo(this._map)));\n    },\n    _endAutoPoligon: function _endAutoPoligon(t) {\n      if (t.originalEvent.preventDefault(), t.originalEvent.stopPropagation(), this._map.off(\"mousemove\", this._moveAutoPoligon, this), this._map.off(\"mouseup\", this._endAutoPoligon, this), this._map.dragging.enable(), this.options.custom && this.options.custom.rectangle) {\n        var e = this.options.custom.rectangle.getBounds();\n\n        this._map.removeLayer(this.options.custom.rectangle);\n\n        var r = this._getPageSizeFromBounds(e);\n\n        this._print(this._getMode(r, this.options.custom.mode), e), delete this.options.custom;\n      } else this._clearPrint();\n    },\n    _getPageSizeFromBounds: function _getPageSizeFromBounds(t) {\n      return Math.abs(t.getNorth() - t.getSouth()) > Math.abs(t.getEast() - t.getWest()) ? \"Portrait\" : \"Landscape\";\n    },\n    _setupPrintPagesWidth: function _setupPrintPagesWidth(t, e, r) {\n      t.style.width = \"Landscape\" === r ? e.Height : e.Width;\n    },\n    _setupPrintMapHeight: function _setupPrintMapHeight(t, e, r) {\n      t.style.height = \"Landscape\" === r ? e.Width : e.Height;\n    },\n    cancel: function cancel(t) {\n      this.cancelNextPrinting = t;\n    },\n    print: function print(t, e) {\n      this._print(this._getMode(t.Mode, t), e);\n    },\n    _print: function _print(t, e) {\n      this._map.fire(L.Control.BrowserPrint.Event.PrintInit, {\n        mode: t\n      }), L.Control.BrowserPrint.Utils.initialize();\n\n      var r = this,\n          n = this._map.getContainer(),\n          i = t.Mode,\n          o = {\n        bounds: e || this._map.getBounds(),\n        width: n.style.width,\n        height: n.style.height,\n        documentTitle: document.title,\n        printLayer: L.Control.BrowserPrint.Utils.cloneLayer(this.options.printLayer),\n        panes: []\n      },\n          s = this._map.getPanes();\n\n      for (var a in s) {\n        o.panes.push({\n          name: a,\n          container: void 0\n        });\n      }\n\n      if (o.printObjects = this._getPrintObjects(o.printLayer), this._map.fire(L.Control.BrowserPrint.Event.PrePrint, {\n        printLayer: o.printLayer,\n        printObjects: o.printObjects,\n        pageOrientation: i,\n        printMode: t.Mode,\n        pageBounds: o.bounds\n      }), this.cancelNextPrinting) delete this.cancelNextPrinting;else {\n        var l = this._addPrintMapOverlay(t.PageSize, t.getPageMargin(), t.getSize(), i, o);\n\n        this.options.documentTitle && (document.title = this.options.documentTitle), this._map.fire(L.Control.BrowserPrint.Event.PrintStart, {\n          printLayer: o.printLayer,\n          printMap: l.map,\n          printObjects: l.objects\n        }), t.InvalidateBounds ? (l.map.fitBounds(o.bounds), l.map.invalidateSize({\n          reset: !0,\n          animate: !1,\n          pan: !1\n        })) : l.map.setView(this._map.getCenter(), this._map.getZoom());\n        var p = setInterval(function () {\n          r._isTilesLoading(l.map) || (clearInterval(p), r.options.manualMode ? r._setupManualPrintButton(l.map, o, l.objects) : r._completePrinting(l.map, o, l.objects));\n        }, 50);\n      }\n    },\n    _completePrinting: function _completePrinting(t, e, r) {\n      var n = this;\n      setTimeout(function () {\n        n._map.fire(L.Control.BrowserPrint.Event.Print, {\n          printLayer: e.printLayer,\n          printMap: t,\n          printObjects: r\n        });\n\n        var i = window.print();\n        i ? Promise.all([i]).then(function () {\n          n._printEnd(e), n._map.fire(L.Control.BrowserPrint.Event.PrintEnd, {\n            printLayer: e.printLayer,\n            printMap: t,\n            printObjects: r\n          });\n        }) : (n._printEnd(e), n._map.fire(L.Control.BrowserPrint.Event.PrintEnd, {\n          printLayer: e.printLayer,\n          printMap: t,\n          printObjects: r\n        }));\n      }, 1e3);\n    },\n    _getBoundsForAllVisualLayers: function _getBoundsForAllVisualLayers() {\n      var t = null;\n\n      for (var e in this._map._layers) {\n        var r = this._map._layers[e];\n        r._url || r._mutant || (t ? r.getBounds ? t.extend(r.getBounds()) : r.getLatLng && t.extend(r.getLatLng()) : r.getBounds ? t = r.getBounds() : r.getLatLng && (t = L.latLngBounds(r.getLatLng(), r.getLatLng())));\n      }\n\n      return t || (t = this._map.getBounds()), t;\n    },\n    _clearPrint: function _clearPrint() {\n      this._removePrintClassFromContainer(this._map, \"leaflet-browser-print--landscape\"), this._removePrintClassFromContainer(this._map, \"leaflet-browser-print--portrait\"), this._removePrintClassFromContainer(this._map, \"leaflet-browser-print--auto\"), this._removePrintClassFromContainer(this._map, \"leaflet-browser-print--custom\");\n    },\n    _printEnd: function _printEnd(t) {\n      this._clearPrint(), document.body.removeChild(this.__overlay__), this.__overlay__ = null, document.body.className = document.body.className.replace(\" leaflet--printing\", \"\"), this.options.documentTitle && (document.title = t.documentTitle), this._map.invalidateSize({\n        reset: !0,\n        animate: !1,\n        pan: !1\n      });\n    },\n    _getPrintObjects: function _getPrintObjects(t) {\n      var e = {};\n\n      for (var r in this._map._layers) {\n        var n = this._map._layers[r];\n\n        if (!t || !n._url || n instanceof L.TileLayer.WMS) {\n          var i = L.Control.BrowserPrint.Utils.getType(n);\n          i && (e[i] || (e[i] = []), e[i].push(n));\n        }\n      }\n\n      return e;\n    },\n    _addPrintCss: function _addPrintCss(t, e, r) {\n      var n = document.createElement(\"style\");\n\n      switch (n.className = \"leaflet-browser-print-css\", n.setAttribute(\"type\", \"text/css\"), n.innerHTML = \" @media print {.header{font-size:50px;font-weight:bold} .leaflet-popup-content-wrapper, .leaflet-popup-tip { box-shadow: none; }\", n.innerHTML += \" .leaflet-browser-print--manualMode-button { display: none; }\", n.innerHTML += \" * { -webkit-print-color-adjust: exact!important; printer-colors: exact!important; color-adjust: exact!important; }\", e && (n.innerHTML += \" @page { margin: \" + e + \"; }\"), n.innerHTML += \" @page :first { page-break-after: always; }\", r) {\n        case \"Landscape\":\n          n.innerText += \" @page { size : \" + t + \" landscape; }\";\n          break;\n\n        default:\n        case \"Portrait\":\n          n.innerText += \" @page { size : \" + t + \" portrait; }\";\n      }\n\n      return n;\n    },\n    _appendControlStyles: function _appendControlStyles(t) {\n      var e = document.createElement(\"style\");\n      e.setAttribute(\"type\", \"text/css\"), e.innerHTML += \" .leaflet-control-browser-print { display: flex;margin-right:20px !important;margin-top:150px!important } .leaflet-control-browser-print a {  width:30px !important;height:30px !important; background: #fff url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gcCCi8Vjp+aNAAAAGhJREFUOMvFksENgDAMA68RC7BBN+Cf/ZU33QAmYAT6BolAGxB+RrrIsg1BpfNBVXcPMLMDI/ytpKozMHWwK7BJJ7yYWQbGdBea9wTIkRDzKy0MT7r2NiJACRgotCzxykFI34QY2Ea7KmtxGJ+uX4wfAAAAAElFTkSuQmCC') no-repeat 5px; background-position:center;background-size: 16px 16px; display: block; border-radius: 2px; }\", e.innerHTML += \"\", e.innerHTML += \" .browser-print-holder { margin: 0px; padding: 0px; list-style: none; white-space: nowrap; } .browser-print-holder-left li:last-child { border-top-right-radius: 2px; border-bottom-right-radius: 2px; } .browser-print-holder-right li:first-child { border-top-left-radius: 2px; border-bottom-left-radius: 2px; }\", e.innerHTML += \" .browser-print-mode { display: none; background-color: #ffffff; color: #444; font: 11px/19px 'Helvetica Neue', Arial, Helvetica, sans-serif; text-decoration: none; padding: 4px 10px; text-align: center; } .browser-print-mode { padding: 6px 10px; } .browser-print-mode:hover { background-color: #dddddd; cursor: pointer; }\", e.innerHTML += \" .leaflet-browser-print--custom, .leaflet-browser-print--custom path { cursor: crosshair!important; }\", e.innerHTML += \" .leaflet-print-overlay { width: 100%; height:auto; min-height: 100%; position: absolute; top: 0; background-color: white!important; left: 0; z-index: 1001; display: block!important; } \", e.innerHTML += \" .leaflet--printing { height:auto; min-height: 100%; margin: 0px!important; padding: 0px!important; } body.leaflet--printing > * { display: none; box-sizing: border-box; }\", e.innerHTML += \" .grid-print-container { grid-template: 1fr / 1fr; box-sizing: border-box; } .grid-map-print { grid-row: 1; grid-column: 1; } body.leaflet--printing .grid-print-container [leaflet-browser-print-content]:not(style) { display: unset!important; }\", e.innerHTML += \" .pages-print-container { box-sizing: border-box; }\", t.appendChild(e);\n    },\n    _setupManualPrintButton: function _setupManualPrintButton(t, e, r) {\n      var n = document.createElement(\"button\");\n      n.className = \"leaflet-browser-print--manualMode-button\", n.innerHTML = \"Print\", n.style.position = \"absolute\", n.style.top = \"20px\", n.style.right = \"20px\", this.__overlay__.appendChild(n);\n      var i = this;\n      L.DomEvent.addListener(n, \"click\", function () {\n        i._completePrinting(t, e, r);\n      });\n    },\n    _addPrintMapOverlay: function _addPrintMapOverlay(t, e, r, n, i) {\n      this.__overlay__ = document.createElement(\"div\"), this.__overlay__.className = this._map.getContainer().className + \" leaflet-print-overlay\", document.body.appendChild(this.__overlay__), this.__overlay__.appendChild(this._addPrintCss(t, e, n));\n      var o = document.createElement(\"div\");\n\n      if (o.className = \"grid-print-container\", o.style.width = \"100%\", o.style.display = \"grid\", this._setupPrintMapHeight(o, r, n), this.options.contentSelector) {\n        var s = document.querySelectorAll(this.options.contentSelector);\n        if (s && s.length) for (var a = 0; a < s.length; a++) {\n          var l = s[a].cloneNode(!0);\n          o.appendChild(l);\n        }\n      }\n\n      if (this.options.pagesSelector && document.querySelectorAll(this.options.pagesSelector).length) {\n        var p = document.createElement(\"div\");\n        p.className = \"pages-print-container\", p.style.margin = \"0!important\", this._setupPrintPagesWidth(p, r, n), this.__overlay__.appendChild(p), p.appendChild(o);\n        var c = document.querySelectorAll(this.options.pagesSelector);\n        if (c && c.length) for (a = 0; a < c.length; a++) {\n          var u = c[a].cloneNode(!0);\n          p.appendChild(u);\n        }\n      } else this._setupPrintPagesWidth(o, r, n), this.__overlay__.appendChild(o);\n\n      var d = document.createElement(\"div\");\n      d.id = this._map.getContainer().id + \"-print\", d.className = \"grid-map-print\", d.style.width = \"100%\", d.style.height = \"100%\", o.appendChild(d), document.body.className += \" leaflet--printing\";\n      var h = L.Control.BrowserPrint.Utils.cloneBasicOptionsWithoutLayers(this._map.options);\n      return h.maxZoom = this._map.getMaxZoom(), this._setupPrintMap(d.id, h, i.printLayer, i.printObjects, i.panes);\n    },\n    _setupPrintMap: function _setupPrintMap(t, e, r, n, i) {\n      e.zoomControl = !1, e.dragging = !1, e.zoomAnimation = !1, e.fadeAnimation = !1, e.markerZoomAnimation = !1, e.keyboard = !1, e.scrollWheelZoom = !1, e.tap = !1, e.touchZoom = !1;\n      var o = L.map(t, e);\n\n      for (var s in r && r.addTo(o), i.forEach(function (t) {\n        o.createPane(t.name, t.container);\n      }), n) {\n        var a = this.options.closePopupsOnPrint;\n        n[s] = n[s].map(function (t) {\n          var e = L.Control.BrowserPrint.Utils.cloneLayer(t);\n\n          if (e) {\n            if (t instanceof L.Popup ? (t.isOpen || (t.isOpen = function () {\n              return this._isOpen;\n            }), t.isOpen() && !a && e.openOn(o)) : e.addTo(o), t instanceof L.Layer) {\n              var r = t.getTooltip();\n              r && (e.bindTooltip(r.getContent(), r.options), t.isTooltipOpen() && e.openTooltip(r.getLatLng()));\n            }\n\n            return e;\n          }\n        });\n      }\n\n      return {\n        map: o,\n        objects: n\n      };\n    },\n    _isTilesLoading: function _isTilesLoading(t) {\n      return parseFloat(L.version) > 1 ? this._getLoadingLayers(t) : t._tilesToLoad || t._tileLayersToLoad;\n    },\n    _getLoadingLayers: function _getLoadingLayers(t) {\n      for (var e in t._layers) {\n        var r = t._layers[e];\n        if ((r._url || r._mutant) && r._loading) return !0;\n      }\n\n      return !1;\n    }\n  }), L.Control.BrowserPrint.Event = {\n    PrintInit: \"browser-print-init\",\n    PrePrint: \"browser-pre-print\",\n    PrintStart: \"browser-print-start\",\n    Print: \"browser-print\",\n    PrintEnd: \"browser-print-end\"\n  }, L.control.browserPrint = function (t) {\n    if (t && t.printModes || ((t = t || {}).printModes = [L.control.browserPrint.mode.portrait(), L.control.browserPrint.mode.landscape(), L.control.browserPrint.mode.auto(), L.control.browserPrint.mode.custom()]), t && t.printModes && (!t.printModes.filter || !t.printModes.length)) throw \"Please specify valid print modes for Print action. Example: printModes: [L.control.browserPrint.mode.portrait(), L.control.browserPrint.mode.auto('Automatico'), 'Custom']\";\n    return t.printModesNames && console.warn(\"'printModesNames' option is obsolete. Please use 'L.control.browserPrint.mode.*(/*Title*/)' shortcut instead. Please check latest release and documentation.\"), new L.Control.BrowserPrint(t);\n  };\n}, function (t, e, r) {\n  r(2), r(1), t.exports = r(0);\n}]);\n\n//# sourceURL=webpack://tmap/./src/plugins/print/leaflet.browser.print.min.js?");

/***/ }),

/***/ "./src/plugins/scalebar/L.Control.BetterScale.css":
/*!********************************************************!*\
  !*** ./src/plugins/scalebar/L.Control.BetterScale.css ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var api = __webpack_require__(/*! ../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !../../../node_modules/css-loader/dist/cjs.js!./L.Control.BetterScale.css */ \"./node_modules/css-loader/dist/cjs.js!./src/plugins/scalebar/L.Control.BetterScale.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(module.i, content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;\n\n//# sourceURL=webpack://tmap/./src/plugins/scalebar/L.Control.BetterScale.css?");

/***/ }),

/***/ "./src/plugins/scalebar/L.Control.BetterScale.js":
/*!*******************************************************!*\
  !*** ./src/plugins/scalebar/L.Control.BetterScale.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("L.Control.BetterScale = L.Control.extend({\n  options: {\n    position: \"bottomleft\",\n    maxWidth: 150,\n    metric: !1,\n    imperial: !0,\n    updateWhenIdle: !1\n  },\n  onAdd: function onAdd(t) {\n    this._map = t;\n    var e = \"leaflet-control-better-scale\",\n        i = L.DomUtil.create(\"div\", e),\n        n = this.options,\n        s = L.DomUtil.create(\"div\", e + \"-ruler\", i);\n    L.DomUtil.create(\"div\", e + \"-ruler-block \" + e + \"-upper-first-piece\", s), L.DomUtil.create(\"div\", e + \"-ruler-block \" + e + \"-upper-second-piece\", s), L.DomUtil.create(\"div\", e + \"-ruler-block \" + e + \"-lower-first-piece\", s), L.DomUtil.create(\"div\", e + \"-ruler-block \" + e + \"-lower-second-piece\", s);\n    return this._addScales(n, e, i), this.ScaleContainer = i, t.on(n.updateWhenIdle ? \"moveend\" : \"move\", this._update, this), t.whenReady(this._update, this), i;\n  },\n  onRemove: function onRemove(t) {\n    t.off(this.options.updateWhenIdle ? \"moveend\" : \"move\", this._update, this);\n  },\n  _addScales: function _addScales(t, e, i) {\n    this._iScale = L.DomUtil.create(\"div\", e + \"-label-div\", i), this._iScaleLabel = L.DomUtil.create(\"div\", e + \"-label\", this._iScale), this._iScaleFirstNumber = L.DomUtil.create(\"div\", e + \"-label \" + e + \"-first-number\", this._iScale), this._iScaleSecondNumber = L.DomUtil.create(\"div\", e + \"-label \" + e + \"-second-number\", this._iScale);\n  },\n  _update: function _update() {\n    var t = this._map.getBounds(),\n        e = t.getCenter().lat,\n        i = 6378137 * Math.PI * Math.cos(e * Math.PI / 180),\n        n = i * (t.getNorthEast().lng - t.getSouthWest().lng) / 180,\n        o = this._map.getSize(),\n        s = this.options,\n        a = 0;\n\n    o.x > 0 && (a = n * (s.maxWidth / o.x)), this._updateScales(s, a);\n  },\n  _updateScales: function _updateScales(t, e) {\n    t.metric && e && this._updateMetric(e), t.imperial && e && this._updateImperial(e);\n  },\n  _updateMetric_old: function _updateMetric_old(t) {\n    var e = this._getRoundNum(t);\n\n    this._iScale.style.width = this._getScaleWidth(e / t) + \"px\", this._iScaleLabel.innerHTML = 1e3 > e ? e + \" m\" : e / 1e3 + \" km\";\n  },\n  _updateMetric: function _updateMetric(t) {\n    var e,\n        i,\n        n,\n        o,\n        s,\n        a = t,\n        r = this._iScaleFirstNumber,\n        h = this._iScaleSecondNumber,\n        l = this._iScale,\n        u = this._iScaleLabel;\n    u.innerHTML = \"0\", a > 500 ? (e = a / 1000, i = this._getRoundNum(e), o = this._getRoundNum(e / 2), l.style.width = this._getScaleWidth(i / e) + \"px\", r.innerHTML = o, h.innerHTML = i + \"km\") : (n = this._getRoundNum(a), s = this._getRoundNum(a / 2), l.style.width = this._getScaleWidth(n / a) + \"px\", r.innerHTML = s, h.innerHTML = n + \"m\");\n  },\n  _updateImperial: function _updateImperial(t) {\n    var e,\n        i,\n        n,\n        o,\n        s,\n        a = 3.2808399 * t,\n        r = this._iScaleFirstNumber,\n        h = this._iScaleSecondNumber,\n        l = this._iScale,\n        u = this._iScaleLabel;\n    u.innerHTML = \"0\", a > 2640 ? (e = a / 5280, i = this._getRoundNum(e), o = this._getRoundNum(e / 2), l.style.width = this._getScaleWidth(i / e) + \"px\", r.innerHTML = o, h.innerHTML = i + \"mi\") : (n = this._getRoundNum(a), s = this._getRoundNum(a / 2), l.style.width = this._getScaleWidth(n / a) + \"px\", r.innerHTML = s, h.innerHTML = n + \"ft\");\n  },\n  _getScaleWidth: function _getScaleWidth(t) {\n    return Math.round(this.options.maxWidth * t) - 10;\n  },\n  _getRoundNum: function _getRoundNum(t) {\n    if (t >= 2) {\n      var e = Math.pow(10, (Math.floor(t) + \"\").length - 1),\n          i = t / e;\n      return i = i >= 10 ? 10 : i >= 5 ? 5 : i >= 3 ? 3 : i >= 2 ? 2 : 1, e * i;\n    }\n\n    return (Math.round(100 * t) / 100).toFixed(1);\n  }\n});\n\nL.control.betterscale = function (options) {\n  return new L.Control.BetterScale(options);\n};\n\n//# sourceURL=webpack://tmap/./src/plugins/scalebar/L.Control.BetterScale.js?");

/***/ })

/******/ });
});